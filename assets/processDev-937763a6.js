var v=(_,c,i)=>new Promise((b,y)=>{var D=s=>{try{t(i.next(s))}catch(f){y(f)}},u=s=>{try{t(i.throw(s))}catch(f){y(f)}},t=s=>s.done?b(s.value):Promise.resolve(s.value).then(D,u);t((i=i.apply(_,c)).next())});import{B as q}from"./BillTitle-d17ab3e4.js";import{f as j,a as O}from"./index.esm-c216ed00.js";import"./BasicForm.vue_vue_type_style_index_0_lang-1ba7be9e.js";import{b as H,au as K,_ as R}from"./index.js";import"./antd-15ac76ed.js";import"./index-316f6ffb.js";import"./index-085d06c7.js";import{a as V}from"./index-37d352b6.js";import{d as W,ax as Z,u as J,r as C,e as k,k as $,o as G,al as p,Z as Q,_ as X,f as o,$ as h,aa as l,E as g,a7 as ee}from"./vue-71d1abb3.js";import{W as te}from"./WfApproveBox-a3448232.js";import"./index-f4fc48e6.js";import"./useTabs-2b062e85.js";import"./download-03e71dd5.js";import"./index-5d49b7a7.js";import"./SearchBox-22bb02d6.js";import"./UploadBox-636ecf02.js";import"./Dialog-0a006d82.js";import"./DictSelectBox.vue_vue_type_script_setup_true_lang-e03e9fe8.js";import"./OrganDialog-dd1023ce.js";import"./useWindowSizeFn-13b1b8a2.js";import"./sortable.esm-4ae27e0b.js";import"./dict-c04c0dd8.js";import"./index-fda2d66c.js";import"./BasicTable-0434a334.js";import"./useForm-dea3ed18.js";import"./uniqBy-92d3bc7f.js";import"./useTable-109483b3.js";import"./index-c0893416.js";import"./index-33af41d1.js";import"./tree-fc0e156a.js";const N=[{dictType:"bpm_oa_leave_type",value:"1",label:"病假",colorType:"primary",cssClass:""},{dictType:"bpm_oa_leave_type",value:"2",label:"事假",colorType:"info",cssClass:""},{dictType:"bpm_oa_leave_type",value:"3",label:"婚假",colorType:"warning",cssClass:""}],oe=[{label:"请假类型",field:"type",required:!0,component:"Select",componentProps:{options:N}},{label:"开始时间",field:"startTime",required:!0,component:"DatePicker",componentProps:{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",valueFormat:"x"}},{label:"结束时间",field:"endTime",required:!0,component:"DatePicker",componentProps:{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",valueFormat:"x"}},{label:"原因",field:"reason",required:!0,component:"Input"}];function ae(_){const c={};return j(N,function(i){i.value===_.toString()&&O(c,i)}),c}const le={class:"process-box"},ne={class:"content"},ie={class:"left-panel"},se={class:"right-panel"},re=W({name:"LeaveCreate",__name:"processDev",setup(_){const{t:c}=H(),{createMessage:i}=K(),b=Z(),{currentRoute:y}=b,u=J(y).query,t=C({layout:"horizontal",fieldA:"",fieldB:"",fieldC:"",fieldD:"",fieldE:"",fieldF:""}),s=k(()=>{const{layout:e}=t;return e==="horizontal"?{labelCol:{span:4},wrapperCol:{span:14}}:{}}),f=k(()=>{const{layout:e}=t;return e==="horizontal"?{wrapperCol:{span:14,offset:4}}:{}}),U=$([]);function S(){return v(this,null,function*(){const e=JSON.parse('[{"id":"fa4b117c-5395-11ee-b5c1-480fcf57f666","name":"总经理审批","claimTime":null,"createTime":"2023-09-15 15:03:31","suspensionState":null,"processInstance":{"id":"0e1ab04c-5390-11ee-b5c1-480fcf57f666","name":"业务报销","startUserId":129,"startUserNickname":"宋彪","processDefinitionId":"BMProc:1:c38d2a4b-4886-11ee-8c22-480fcf57f666"},"endTime":null,"durationInMillis":null,"result":1,"reason":null,"definitionKey":"Activity_1ge9o3y","assigneeUser":{"id":128,"nickname":"饶勇","deptId":138,"deptName":"总经办"}},{"id":"6186a3a5-5395-11ee-b5c1-480fcf57f666","name":"财务部负责人审批","claimTime":null,"createTime":"2023-09-15 14:59:15","suspensionState":null,"processInstance":{"id":"0e1ab04c-5390-11ee-b5c1-480fcf57f666","name":"业务报销","startUserId":129,"startUserNickname":"宋彪","processDefinitionId":"BMProc:1:c38d2a4b-4886-11ee-8c22-480fcf57f666"},"endTime":"2023-09-15 15:03:31","durationInMillis":256225,"result":2,"reason":"同意。","definitionKey":"Activity_12fthtb","assigneeUser":{"id":130,"nickname":"曾宁若","deptId":139,"deptName":"财务部"}},{"id":"63d8cdd0-5391-11ee-b5c1-480fcf57f666","name":"部门领导审批","claimTime":null,"createTime":"2023-09-15 14:30:41","suspensionState":null,"processInstance":{"id":"0e1ab04c-5390-11ee-b5c1-480fcf57f666","name":"业务报销","startUserId":129,"startUserNickname":"宋彪","processDefinitionId":"BMProc:1:c38d2a4b-4886-11ee-8c22-480fcf57f666"},"endTime":"2023-09-15 14:59:15","durationInMillis":1714085,"result":2,"reason":"同意。","definitionKey":"Activity_0zvw3s2","assigneeUser":{"id":126,"nickname":"刘超","deptId":136,"deptName":"技术中心"}},{"id":"4b70bf0b-5390-11ee-b5c1-480fcf57f666","name":"财务部负责人审批","claimTime":null,"createTime":"2023-09-15 14:22:50","suspensionState":null,"processInstance":{"id":"0e1ab04c-5390-11ee-b5c1-480fcf57f 666","name":"业务报销","startUserId":129,"startUserNickname":"宋彪","processDefinitionId":"BMProc:1:c38d2a4b-4886-11ee-8c22-480fcf57f666"},"endTime":"2023-09-15 14:30:41","durationInMillis":470436,"result":4,"reason":"Change activity to Activity_0zvw3s2","definitionKey":"Activity_12fthtb","assigneeUser":{"id":130,"nickname":"曾宁若","deptId":139,"deptName":"财务部"}},{"id":"0e202e9c-5390-11ee-b5c1-480fcf57f666","name":"部门领导审批","claimTime":null,"createTime":"2023-09-15 14:21:07","suspensionState":null,"processInstance":{"id":"0e1ab04c-5390-11ee-b5c1-480fcf57f666","name":"业务报销","startUserId":129,"startUserNickname":"宋彪","processDefinitionId":"BMProc:1:c38d2a4b-4886-11ee-8c22-480fcf57f666"},"endTime":"2023-09-15 14:22:50","durationInMillis":102859,"result":2,"reason":"测试打回。","definitionKey":"Activity_0zvw3s2","assigneeUser":{"id":126,"nickname":"刘超","deptId":136,"deptName":"技术中心"}}]');U.value=e})}const I=C({});I.title="请假申请",I.infoItems=[{key:"billCode",label:"单据编号",value:"DZSSDL-202308110001",position:"left"},{key:"fillinDate",label:"制单日期",value:"2023-08-11 13:38",position:"center"},{key:"createPerson",label:"创建人",value:"软件部.管理员",position:"right"}];function w(){return v(this,null,function*(){try{}finally{i.success(c("common.saveSuccessText")),b.push("/hr/manage/oaleave")}})}const M=()=>v(this,null,function*(){u.id&&(yield V(u.id).then(e=>{const a={};oe.forEach(T=>{a[T.field]=e.result[T.field]});const m=ae(a.type);a.type=m.label}).catch(e=>{console.log(e)}))}),B=e=>{console.log("同意",e)},F=e=>{console.log("驳回",e)},A=e=>{console.log("保存",e)},x=e=>{console.log("终止",e)},P=e=>{console.log("转办",e)},E=e=>{console.log("知会",e)},L=e=>{console.log("收藏",e)};return G(()=>v(this,null,function*(){u.id&&(yield M()),S()})),(e,a)=>{const m=p("a-radio-button"),T=p("a-radio-group"),r=p("a-form-item"),d=p("a-input"),z=p("a-button"),Y=p("a-form");return Q(),X("div",le,[o(q,{options:I},null,8,["options"]),h("div",ne,[h("div",ie,[o(Y,ee({layout:t.layout,model:t},s.value),{default:l(()=>[o(r,{label:"Form Layout"},{default:l(()=>[o(T,{value:t.layout,"onUpdate:value":a[0]||(a[0]=n=>t.layout=n)},{default:l(()=>[o(m,{value:"horizontal"},{default:l(()=>[g("Horizontal")]),_:1}),o(m,{value:"vertical"},{default:l(()=>[g("Vertical")]),_:1}),o(m,{value:"inline"},{default:l(()=>[g("Inline")]),_:1})]),_:1},8,["value"])]),_:1}),o(r,{label:"Field A"},{default:l(()=>[o(d,{value:t.fieldA,"onUpdate:value":a[1]||(a[1]=n=>t.fieldA=n),placeholder:"input placeholder"},null,8,["value"])]),_:1}),o(r,{label:"Field B"},{default:l(()=>[o(d,{value:t.fieldB,"onUpdate:value":a[2]||(a[2]=n=>t.fieldB=n),placeholder:"input placeholder"},null,8,["value"])]),_:1}),o(r,{label:"Field C"},{default:l(()=>[o(d,{value:t.fieldC,"onUpdate:value":a[3]||(a[3]=n=>t.fieldC=n),placeholder:"input placeholder"},null,8,["value"])]),_:1}),o(r,{label:"Field D"},{default:l(()=>[o(d,{value:t.fieldD,"onUpdate:value":a[4]||(a[4]=n=>t.fieldD=n),placeholder:"input placeholder"},null,8,["value"])]),_:1}),o(r,{label:"Field E"},{default:l(()=>[o(d,{value:t.fieldE,"onUpdate:value":a[5]||(a[5]=n=>t.fieldE=n),placeholder:"input placeholder"},null,8,["value"])]),_:1}),o(r,{label:"Field F"},{default:l(()=>[o(d,{value:t.fieldF,"onUpdate:value":a[6]||(a[6]=n=>t.fieldF=n),placeholder:"input placeholder"},null,8,["value"])]),_:1}),o(r,{"wrapper-col":f.value.wrapperCol,style:{display:"none"}},{default:l(()=>[o(z,{type:"primary"},{default:l(()=>[g("Submit")]),_:1})]),_:1},8,["wrapper-col"])]),_:1},16,["layout","model"])]),h("div",se,[o(te,{data:U.value,onAgree:B,onReject:F,onSave:A,onEnd:x,onTransfer:P,onNotice:E,onCollect:L,onSubmit:w},null,8,["data"])])])])}}});const qe=R(re,[["__scopeId","data-v-c756d3d4"]]);export{qe as default};
//# sourceMappingURL=processDev-937763a6.js.map
