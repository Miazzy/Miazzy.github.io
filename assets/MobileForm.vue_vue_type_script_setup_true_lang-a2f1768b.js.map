{"version":3,"file":"MobileForm.vue_vue_type_script_setup_true_lang-a2f1768b.js","sources":["../../src/views/sys/login/MobileForm.vue"],"sourcesContent":["<template>\n  <div v-if=\"getShow\">\n    <LoginFormTitle class=\"enter-x\" />\n    <Form class=\"p-4 enter-x\" :model=\"formData\" :rules=\"getFormRules\" ref=\"formRef\">\n      <FormItem name=\"mobile\" class=\"enter-x\">\n        <Input\n          size=\"large\"\n          v-model:value=\"formData.mobile\"\n          :placeholder=\"t('sys.login.mobile')\"\n          class=\"fix-auto-fill\"\n        />\n      </FormItem>\n      <FormItem name=\"sms\" class=\"enter-x\">\n        <CountdownInput\n          size=\"large\"\n          class=\"fix-auto-fill\"\n          v-model:value=\"formData.sms\"\n          :placeholder=\"t('sys.login.smsCode')\"\n        />\n      </FormItem>\n\n      <FormItem class=\"enter-x\">\n        <Button type=\"primary\" size=\"large\" block @click=\"handleLogin\" :loading=\"loading\">\n          {{ t('sys.login.loginButton') }}\n        </Button>\n        <Button size=\"large\" block class=\"mt-4\" @click=\"handleBackLogin\">\n          {{ t('sys.login.backSignIn') }}\n        </Button>\n      </FormItem>\n    </Form>\n  </div>\n</template>\n<script lang=\"ts\" setup>\n  import { reactive, ref, computed, unref } from 'vue';\n  import { Form, Input, Button } from 'ant-design-vue';\n  import { CountdownInput } from '/@/components/CountDown';\n  import LoginFormTitle from './LoginFormTitle.vue';\n  import { useI18n } from '/@/hooks/web/useI18n';\n  import { useLoginState, useFormRules, useFormValid, LoginStateEnum } from './useLogin';\n\n  const FormItem = Form.Item;\n  const { t } = useI18n();\n  const { handleBackLogin, getLoginState } = useLoginState();\n  const { getFormRules } = useFormRules();\n\n  const formRef = ref();\n  const loading = ref(false);\n\n  const formData = reactive({\n    mobile: '',\n    sms: '',\n  });\n\n  const { validForm } = useFormValid(formRef);\n\n  const getShow = computed(() => unref(getLoginState) === LoginStateEnum.MOBILE);\n\n  async function handleLogin() {\n    const data = await validForm();\n    if (!data) return;\n    console.log(data);\n  }\n</script>\n"],"names":["FormItem","Form","t","useI18n","handleBackLogin","getLoginState","useLoginState","getFormRules","useFormRules","formRef","ref","loading","formData","reactive","validForm","useFormValid","getShow","computed","unref","LoginStateEnum","handleLogin","__async","data"],"mappings":"qmBAwCE,MAAMA,EAAWC,EAAK,KAChB,CAAE,EAAAC,GAAMC,IACR,CAAE,gBAAAC,EAAiB,cAAAC,CAAc,EAAIC,EAAc,EACnD,CAAE,aAAAC,GAAiBC,IAEnBC,EAAUC,IACVC,EAAUD,EAAI,EAAK,EAEnBE,EAAWC,EAAS,CACxB,OAAQ,GACR,IAAK,EAAA,CACN,EAEK,CAAE,UAAAC,CAAA,EAAcC,EAAaN,CAAO,EAEpCO,EAAUC,EAAS,IAAMC,EAAMb,CAAa,IAAMc,EAAe,MAAM,EAE7E,SAAeC,GAAc,QAAAC,EAAA,sBACrB,MAAAC,EAAO,MAAMR,IACdQ,GACL,QAAQ,IAAIA,CAAI,CAClB"}