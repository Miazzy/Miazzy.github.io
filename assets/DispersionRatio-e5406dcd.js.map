{"version":3,"file":"DispersionRatio-e5406dcd.js","sources":["../../src/views/da/groupOperation/monitor/DispersionRatio.vue"],"sourcesContent":["<template>\n  <div class=\"dispersion-ratio\">\n    <SmallModule title=\"离散率分析\">\n      <template #titleRight>\n        <div class=\"right-title-layout\">\n          <!-- <div class=\"operation-screen-select\">\n            <a-select\n              ref=\"select\"\n              v-model:value=\"searchInfo.selectDeviceValue\"\n              :options=\"optionsDevice\"\n            />\n          </div> -->\n          <!-- <div class=\"detail-text\"\n            ><span class=\"text\">详情</span><span class=\"arrow\">&gt;</span></div\n          > -->\n          <a-radio-group\n            class=\"operation-screen-radio-group\"\n            v-model:value=\"searchInfo.deviceType\"\n            size=\"small\"\n            @change=\"handleButtonChange\"\n          >\n            <a-radio-button value=\"StringFormation\">组串式逆变器</a-radio-button>\n            <a-radio-button value=\"CombinerDc\">直流汇流箱</a-radio-button>\n          </a-radio-group>\n        </div>\n      </template>\n      <template #content>\n        <div class=\"content-layout\">\n          <EchartPieChart\n            id=\"dispersion-ratio-pie\"\n            :width=\"`22.1vw`\"\n            :height=\"`21.53vh`\"\n            :data=\"donutData.pieData\"\n            :colors=\"donutData.chartColors\"\n            :roseType=\"false\"\n            :radius=\"['44%', '63%']\"\n            showLegend\n            showLabel\n            :legendOptions=\"{ top: '90%', bottom: 'auto', left: 'center' }\"\n            :pieCenter=\"['50%', '46%']\"\n          />\n        </div>\n      </template>\n    </SmallModule>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import SmallModule from '/@/components/Framework/OperationScreen/SmallModule.vue';\n  // import NtgaleChart from '/@/components/Framework/Chart/NtgaleChart.vue';\n  import { getDispersedRateData } from './data';\n  import { reactive, UnwrapRef, onMounted, ref } from 'vue';\n  import EchartPieChart from '/@/components/Framework/Chart/EchartPieChart.vue';\n\n  //搜索参数\n  const searchInfo: UnwrapRef<any> = reactive({});\n\n  onMounted(() => {\n    searchInfo.deviceType = 'StringFormation';\n    queryDispersionRatioData();\n  });\n\n  const handleButtonChange = (e: Event) => {\n    searchInfo.deviceType = e.target.value;\n    queryDispersionRatioData();\n  };\n\n  const donutData = ref({\n    pieData: [],\n    chartColors: ['#1890ff', '#60d1f3', '#8fd0f4', '#2de4a5', '#63b2ee'],\n  });\n\n  const queryDispersionRatioData = async () => {\n    let data = await getDispersedRateData(searchInfo);\n    if (data.result) {\n      // let pieData = [];\n      // data.result.forEach((item) => {\n      //   item.name = item.label;\n      //   pieData.push(item);\n      // });\n      donutData.value.pieData = data.result;\n    }\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .right-title-layout {\n    display: flex;\n    align-items: center;\n    padding-right: 0.16rem;\n\n    .detail-text {\n      margin-left: 0.14rem;\n      color: #fff;\n      font-size: 0.12rem;\n      line-height: 1;\n      cursor: pointer;\n\n      .text {\n        margin-right: 0.04rem;\n      }\n\n      .arrow {\n        opacity: 0.6;\n      }\n    }\n  }\n\n  .content-layout {\n    width: 100%;\n    height: 100%;\n    padding: 0 0.16rem;\n  }\n\n  .dispersion-ratio {\n    :deep(.no-data) {\n      height: 110%;\n    }\n  }\n</style>\n"],"names":["searchInfo","reactive","onMounted","queryDispersionRatioData","handleButtonChange","e","donutData","ref","__async","data","getDispersedRateData"],"mappings":"0vBAuDQ,MAAAA,EAA6BC,EAAS,CAAA,CAAE,EAE9CC,EAAU,IAAM,CACdF,EAAW,WAAa,kBACCG,GAAA,CAC1B,EAEK,MAAAC,EAAsBC,GAAa,CAC5BL,EAAA,WAAaK,EAAE,OAAO,MACRF,GAAA,EAGrBG,EAAYC,EAAI,CACpB,QAAS,CAAC,EACV,YAAa,CAAC,UAAW,UAAW,UAAW,UAAW,SAAS,CAAA,CACpE,EAEKJ,EAA2B,IAAYK,EAAA,sBACvC,IAAAC,EAAO,MAAMC,EAAqBV,CAAU,EAC5CS,EAAK,SAMGH,EAAA,MAAM,QAAUG,EAAK,OACjC"}