{"version":3,"file":"daily-77449ffc.js","sources":["../../src/views/po/integrated/assessmentevaluation/daily/daily.ts"],"sourcesContent":["import { defHttp } from '/@/utils/http/axios';\nimport { useDictStoreWithOut } from '@/store/modules/dict';\nimport { BasicColumn, useRender } from '/@/components/Table';\n\nconst dictStore = useDictStoreWithOut();\n\nenum Api {\n  dailyPage = '/po/daily-evaluation/page',\n  getDaily = '/po/daily-evaluation/get',\n  saveDaily = '/po/daily-evaluation/save',\n  getTemplateDtl = '/po/evaluation-template-dtl/listByDate',\n  getTreeData = '/baseset/common/list-orgStationTree',\n}\n\nexport const searchFormSchema: FormSchema[] = [\n  {\n    field: 'billCode',\n    component: 'Input',\n    label: '单据编号',\n    required: false,\n  },\n  {\n    field: 'rangeDate',\n    component: 'RangePicker',\n    label: '评价日期',\n    componentProps: {\n      format: 'YYYY-MM-DD',\n      valueFormat: 'YYYY-MM-DD',\n      placeholder: ['开始日期', '结束日期'],\n    },\n    required: false,\n  },\n  {\n    label: '状态',\n    field: 'status',\n    component: 'DictSelectBox',\n    componentProps: {\n      type: 'bpm_process_instance_result',\n    },\n  },\n];\n// 组织树数据\nexport const getTreeDataApi = (params) =>\n  defHttp.post(\n    {\n      url: Api.getTreeData,\n      params,\n    },\n    {},\n  );\nasync function getDic(type: string) {\n  const arr: any = [\n    {\n      dictType: '',\n      value: '',\n      label: '',\n      colorType: '',\n      cssClass: '',\n    },\n  ];\n  const map = await dictStore.fetchBackendData(type, {\n    type: type,\n  });\n  return arr.concat(map);\n}\n\n// 列表表头\nexport const columns: BasicColumn[] = [\n  {\n    title: '单据编号',\n    dataIndex: 'billCode',\n    align: 'center',\n    width: 150,\n    resizable: true,\n  },\n  {\n    title: '评价日期',\n    dataIndex: 'evaluationDate',\n    width: 150,\n    sorter: true,\n    resizable: true,\n  },\n  {\n    title: '电站名称',\n    dataIndex: 'stationName',\n    align: 'center',\n    sorter: true,\n    resizable: true,\n    width: 150,\n  },\n  {\n    title: '评价指标',\n    dataIndex: 'indexName',\n    align: 'center',\n    width: 150,\n    resizable: true,\n  },\n  {\n    title: '评价分数',\n    dataIndex: 'score',\n    align: 'center',\n    sorter: true,\n    resizable: true,\n    width: 100,\n  },\n  {\n    title: '评价说明',\n    dataIndex: 'evaluationDesc',\n    align: 'left',\n    resizable: true,\n    width: 200,\n  },\n  {\n    title: '创建人',\n    dataIndex: 'personMemberName',\n    align: 'center',\n    resizable: true,\n    width: 100,\n  },\n  {\n    title: '创建时间',\n    dataIndex: 'fillinDate',\n    align: 'center',\n    sorter: true,\n    resizable: true,\n    width: 150,\n  },\n  {\n    title: '业务状态',\n    dataIndex: 'businessStatus',\n    align: 'center',\n    resizable: true,\n  },\n  {\n    title: '审批状态',\n    dataIndex: 'status',\n    align: 'center',\n    resizable: true,\n    fixed: 'right',\n    customRender: ({ text, record }) => {\n      return useRender.renderFlowStatus(text, record.statusText);\n    },\n  },\n];\n\n// 列表数据\nexport const getDailyPage = (params) =>\n  defHttp.post(\n    {\n      url: Api.dailyPage,\n      params,\n    },\n    { isOnlyResult: true },\n  );\n\n// 保存\nexport const saveDaily = (params) =>\n  defHttp.post(\n    {\n      url: Api.saveDaily,\n      params,\n    },\n    {},\n  );\n\n// 获取模板明细数据\nexport const getTemplateDtl = (params) =>\n  defHttp.get(\n    {\n      url: Api.getTemplateDtl,\n      params,\n    },\n    { isOnlyResult: true },\n  );\n\n// 获取模板明细数据\nexport const getDaily = (params) =>\n  defHttp.get(\n    {\n      url: Api.getDaily,\n      params,\n    },\n    { isOnlyResult: true },\n  );\n"],"names":["useDictStoreWithOut","searchFormSchema","getTreeDataApi","params","defHttp","columns","text","record","useRender","getDailyPage","saveDaily","getTemplateDtl","getDaily"],"mappings":"uOAIkBA,EAAoB,EAU/B,MAAMC,EAAiC,CAC5C,CACE,MAAO,WACP,UAAW,QACX,MAAO,OACP,SAAU,EACZ,EACA,CACE,MAAO,YACP,UAAW,cACX,MAAO,OACP,eAAgB,CACd,OAAQ,aACR,YAAa,aACb,YAAa,CAAC,OAAQ,MAAM,CAC9B,EACA,SAAU,EACZ,EACA,CACE,MAAO,KACP,MAAO,SACP,UAAW,gBACX,eAAgB,CACd,KAAM,6BACR,CACF,CACF,EAEaC,EAAkBC,GAC7BC,EAAQ,KACN,CACE,IAAK,sCACL,OAAAD,CACF,EACA,CAAC,CACH,EAkBWE,EAAyB,CACpC,CACE,MAAO,OACP,UAAW,WACX,MAAO,SACP,MAAO,IACP,UAAW,EACb,EACA,CACE,MAAO,OACP,UAAW,iBACX,MAAO,IACP,OAAQ,GACR,UAAW,EACb,EACA,CACE,MAAO,OACP,UAAW,cACX,MAAO,SACP,OAAQ,GACR,UAAW,GACX,MAAO,GACT,EACA,CACE,MAAO,OACP,UAAW,YACX,MAAO,SACP,MAAO,IACP,UAAW,EACb,EACA,CACE,MAAO,OACP,UAAW,QACX,MAAO,SACP,OAAQ,GACR,UAAW,GACX,MAAO,GACT,EACA,CACE,MAAO,OACP,UAAW,iBACX,MAAO,OACP,UAAW,GACX,MAAO,GACT,EACA,CACE,MAAO,MACP,UAAW,mBACX,MAAO,SACP,UAAW,GACX,MAAO,GACT,EACA,CACE,MAAO,OACP,UAAW,aACX,MAAO,SACP,OAAQ,GACR,UAAW,GACX,MAAO,GACT,EACA,CACE,MAAO,OACP,UAAW,iBACX,MAAO,SACP,UAAW,EACb,EACA,CACE,MAAO,OACP,UAAW,SACX,MAAO,SACP,UAAW,GACX,MAAO,QACP,aAAc,CAAC,CAAE,KAAAC,EAAM,OAAAC,KACdC,EAAU,iBAAiBF,EAAMC,EAAO,UAAU,CAE7D,CACF,EAGaE,EAAgBN,GAC3BC,EAAQ,KACN,CACE,IAAK,4BACL,OAAAD,CACF,EACA,CAAE,aAAc,EAAK,CACvB,EAGWO,EAAaP,GACxBC,EAAQ,KACN,CACE,IAAK,4BACL,OAAAD,CACF,EACA,CAAC,CACH,EAGWQ,EAAkBR,GAC7BC,EAAQ,IACN,CACE,IAAK,yCACL,OAAAD,CACF,EACA,CAAE,aAAc,EAAK,CACvB,EAGWS,EAAYT,GACvBC,EAAQ,IACN,CACE,IAAK,2BACL,OAAAD,CACF,EACA,CAAE,aAAc,EAAK,CACvB"}