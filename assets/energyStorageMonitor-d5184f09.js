var s=(_,a,r)=>new Promise((d,i)=>{var c=t=>{try{n(r.next(t))}catch(m){i(m)}},y=t=>{try{n(r.throw(t))}catch(m){i(m)}},n=t=>t.done?d(t.value):Promise.resolve(t.value).then(c,y);n((r=r.apply(_,a)).next())});import{C as w}from"./CommonTree-c4ed7838.js";import I from"./energyStorageOverview-f75941c9.js";import k from"./energyStorageDevice-b5f6929c.js";import{g as C,A as b}from"./monitorApi-44e70004.js";import{d as D,k as o,o as E,al as g,Z as u,_ as M,f as p,aa as f,$ as T,u as B,a9 as x}from"./vue-71d1abb3.js";import{aC as W}from"./antd-15ac76ed.js";import{_ as L}from"./index.js";import"./index-3801a970.js";import"./realTimeInfo-0c08b872.js";import"./deviceWarning-620b5d81.js";import"./BasicTable-0434a334.js";import"./useForm-dea3ed18.js";import"./BasicForm.vue_vue_type_style_index_0_lang-1ba7be9e.js";import"./index-f4fc48e6.js";import"./index-316f6ffb.js";import"./useWindowSizeFn-13b1b8a2.js";import"./useTabs-2b062e85.js";import"./download-03e71dd5.js";import"./index-5d49b7a7.js";import"./SearchBox-22bb02d6.js";import"./UploadBox-636ecf02.js";import"./Dialog-0a006d82.js";import"./DictSelectBox.vue_vue_type_script_setup_true_lang-e03e9fe8.js";import"./OrganDialog-dd1023ce.js";import"./uniqBy-92d3bc7f.js";import"./index-085d06c7.js";import"./sortable.esm-4ae27e0b.js";import"./dict-c04c0dd8.js";import"./useTable-109483b3.js";import"./dataDetail-62a9c747.js";import"./EchartLineChart.vue_vue_type_style_index_0_lang-c85cdf3b.js";import"./install-58e0bd81.js";import"./helper-474c7a04.js";import"./api-32c7505d.js";import"./index-74ac3212.js";import"./Export2Excel-389a8fc9.js";import"./dataComparison-458260e7.js";const K={class:"energy-storage-monitor"},V={class:"station-selector-box"},A=D({__name:"energyStorageMonitor",setup(_){const a=o(),r=o([]),d=o(""),i=o(null);o([{title:"类型",dataIndex:"typeName",key:"typeName",fixed:"left",minWidth:100},{title:"年份",dataIndex:"year",key:"year",fixed:"left",minWidth:100},{title:"月份",dataIndex:"month",key:"month",fixed:"left",minWidth:100},{title:"期间",dataIndex:"date",key:"date",minWidth:150}]),o([{typeName:"财务部类型-吉林通榆",year:"2020",month:"06",date:"2020-06"},{typeName:"市场部类型-吉林通榆",year:"2020",month:"07",date:"2020-07"},{typeName:"华南分部类型-江苏如东",year:"2020",month:"08",date:"2020-08"},{typeName:"西北分部类型-吉林通榆",year:"2020",month:"09",date:"2020-09"},{typeName:"华东分部类型-吉林通榆",year:"2020",month:"10",date:"2020-10"},{typeName:"商务部类型-江苏如东",year:"2020",month:"11",date:"2020-11"},{typeName:"研发部类型",year:"2020",month:"12",date:"2020-12"},{typeName:"财务部类型",year:"2021",month:"01",date:"2021-01"},{typeName:"研发部类型",year:"2021",month:"02",date:"2021-02"},{typeName:"财务部类型",year:"2021",month:"03",date:"2021-03"},{typeName:"市场部类型",year:"2021",month:"04",date:"2021-04"}]),o([]);const c=()=>s(this,null,function*(){let e=yield C();e!=null&&e.length&&(r.value=e,a.value||(a.value=r.value[0].id,t()))}),y=(e,l)=>s(this,null,function*(){a.value=e,t()}),n=o([]),t=()=>s(this,null,function*(){let e={stationId:a.value,deviceCategory:"EnergyStorage"},l=yield b(e);l&&(n.value=l)}),m=e=>{e.nodeKindId==="device"?(v.value="monitor",d.value=e.esn,i.value&&i.value.loadDetailInfo()):e.nodeKindId==="category"&&(v.value="overview")},v=o("overview");return E(()=>s(this,null,function*(){c()})),(e,l)=>{const h=g("a-col"),N=g("a-row");return u(),M("div",K,[p(N,{class:"energy-storage-monitor-row",type:"flex",wrap:!1},{default:f(()=>[p(h,{flex:"298px",style:{overflow:"hidden"}},{default:f(()=>[T("div",V,[p(B(W),{style:{width:"200px"},value:a.value,"onUpdate:value":l[0]||(l[0]=S=>a.value=S),"show-search":"",options:r.value,fieldNames:{value:"id",label:"name"},onChange:y},null,8,["value","options"])]),p(w,{class:"fit-common-tree",title:"储能设备树",value:n.value,toolbar:!1,fieldNames:{key:"id",title:"name"},treeStyle:"margin: 10px 0 10px 0; height: calc(100vh - 97.5px);",onSelect:m},null,8,["value","treeStyle"])]),_:1}),p(h,{flex:"auto",style:{overflow:"hidden"}},{default:f(()=>[v.value==="overview"?(u(),x(I,{key:0})):(u(),x(k,{key:1,ref_key:"detailInfo",ref:i,esn:d.value,curStationId:a.value},null,8,["esn","curStationId"]))]),_:1})]),_:1})])}}});const Se=L(A,[["__scopeId","data-v-b8e8c067"]]);export{Se as default};
//# sourceMappingURL=energyStorageMonitor-d5184f09.js.map
