var F=(b,k,a)=>new Promise((n,r)=>{var v=s=>{try{d(a.next(s))}catch(t){r(t)}},x=s=>{try{d(a.throw(s))}catch(t){r(t)}},d=s=>s.done?n(s.value):Promise.resolve(s.value).then(v,x);d((a=a.apply(b,k)).next())});import{S as Y}from"./SmallModule-04781cfc.js";import{D as h}from"./DataIndicator-9c21ed00.js";import{b as E,f as I}from"./data-c58638ca.js";import{bB as S,ax as M,_ as A}from"./index.js";import{a as C}from"./assign-37f1c13d.js";import{d as N,r as B,k as H,o as V,al as w,Z as _,_ as f,f as l,aa as p,$ as D,E as T,u as $,ad as y,F as z,ac as g}from"./vue-71d1abb3.js";import"./antd-15ac76ed.js";const L={class:"hidden-defect"},P={class:"right-title-layout"},W={class:"content-layout"},q={class:"data-layout"},R={class:"table-layout"},U={key:0,class:"blue-text"},Z={key:0,class:"blue-text"},j={key:1,class:"green-text"},G={key:2,class:"white-text"},J=N({__name:"HiddenDefect",props:{operationSearchInfo:{}},setup(b){const k=b,a=B({}),n=H("defect"),r=B({});function v(t){let e={stationId:"B6717C6744F44E53814F00AEEDEBFA74"},c="/po/fault/index",m="缺陷管理";if(n.value=="defect"){if(c="/po/fault/index",m="缺陷管理",t==="not_resolution_total")e.resolutionStatus=0;else if(t==="handle_total")e.resolutionStatus=0,e.isConvertWorkBill=1;else if(t==="day_create"){let u=S.format(new Date,"YYYY-MM-DD");e.startFindDate=u,e.endFindDate=u}}else if(n.value=="hidden"){if(c="/po/danger/index",m="隐患管理",t==="not_resolution_total")e.resolutionStatus=0;else if(t==="handle_total")e.resolutionStatus=0,e.isConvertWorkBill=1;else if(t==="day_create"){let u=S.format(new Date,"YYYY-MM-DD");e.startHanppendDate=u,e.endHanppendDate=u}}M(c,m,e)}const x=t=>{r.selectTrendValue=t.target.value,s()};V(()=>{C(r,k.operationSearchInfo),s()});const d=H([]),s=()=>F(this,null,function*(){let t=yield E(r);t.result&&(n.value==="defect"?(C(a,t.result.faultTotal),d.value=t.result.faultList):n.value==="hidden"&&(C(a,t.result.hiddenTotal),d.value=t.result.hiddenList))});return(t,e)=>{const c=w("a-radio-button"),m=w("a-radio-group"),u=w("a-table");return _(),f("div",L,[l(Y,{title:"隐患缺陷统计",position:"left"},{titleRight:p(()=>[D("div",P,[l(m,{class:"operation-screen-radio-group",value:n.value,"onUpdate:value":e[0]||(e[0]=i=>n.value=i),size:"small",onChange:x},{default:p(()=>[l(c,{value:"hidden"},{default:p(()=>[T("隐患")]),_:1}),l(c,{value:"defect"},{default:p(()=>[T("缺陷")]),_:1})]),_:1},8,["value"])])]),content:p(()=>[D("div",W,[D("div",q,[l(h,{label:"待处理",value:a.not_resolution_total,onClick:e[1]||(e[1]=i=>v("not_resolution_total"))},null,8,["value"]),l(h,{label:"处理中",value:a.handle_total,onClick:e[2]||(e[2]=i=>v("handle_total"))},null,8,["value"]),l(h,{label:"今日新增",value:a.day_create,onClick:e[3]||(e[3]=i=>v("day_create"))},null,8,["value"]),l(h,{label:"今日解决",value:a.day_result},null,8,["value"])]),D("div",R,[l(u,{class:"operation-screen-table",columns:$(I),"data-source":d.value,size:"small",pagination:!1,scroll:{y:"calc(23vh - 0.68rem)"},"row-class-name":(i,o)=>o%2===0?"table-striped":null},{bodyCell:p(({column:i,record:o})=>[i.key==="source"?(_(),f("span",U,y(o.source),1)):i.key==="status"?(_(),f(z,{key:1},[o.status==="处理中"?(_(),f("span",Z,y(o.status),1)):g("",!0),o.status==="已完成"?(_(),f("span",j,y(o.status),1)):g("",!0),o.status==="待处理"?(_(),f("span",G,y(o.status),1)):g("",!0)],64)):g("",!0)]),_:1},8,["columns","data-source","scroll","row-class-name"])])])]),_:1})])}}});const oe=A(J,[["__scopeId","data-v-689d5174"]]);export{oe as default};
//# sourceMappingURL=HiddenDefect-94231840.js.map
