{"version":3,"file":"GenerationStatistics-f4bfb036.js","sources":["../../src/views/da/groupOperation/overview/GenerationStatistics.vue"],"sourcesContent":["<template>\n  <div class=\"generation-statistics\">\n    <SmallModule title=\"集团累计发电\">\n      <template #content>\n        <div class=\"content-layout\">\n          <div>\n            <NumberDisplay\n              style=\"margin-bottom: 1.6vh\"\n              title=\"累计发电量(万kWh)\"\n              :value=\"topIndexData.dayGen\"\n              colorStyle=\"blue\"\n              @click=\"toBiReport('dayGen')\"\n            />\n            <NumberDisplay\n              title=\"累计上网电量(万kWh)\"\n              :value=\"topIndexData.dayOnline\"\n              colorStyle=\"green\"\n              @click=\"toBiReport('dayOnline')\"\n            />\n          </div>\n        </div>\n      </template>\n    </SmallModule>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import SmallModule from '/@/components/Framework/OperationScreen/SmallModule.vue';\n  import NumberDisplay from '/@/components/Framework/OperationScreen/NumberDisplay.vue';\n  import { reactive, UnwrapRef, onMounted } from 'vue';\n  import { getPowerStatData } from './data';\n  import { assign } from 'lodash-es';\n  import { addTabPage } from '@/utils/route';\n\n  const searchInfo: UnwrapRef<any> = reactive({});\n  const topIndexData = reactive<any>({});\n\n  onMounted(() => {\n    // searchInfo.statDimension = 'year';\n    // searchInfo.year = '2023';\n    //发电统计\n    queryPowerStatData();\n  });\n\n  const queryPowerStatData = async () => {\n    let data = await getPowerStatData(searchInfo);\n    if (data.result) {\n      assign(topIndexData, data.result);\n    }\n  };\n\n  // 穿透方法\n  const toBiReport = async (type: string) => {\n    // 参数处理\n    let param = {};\n    let url = '';\n    if (type === 'dayGen') {\n      url = '/bi/elec/powerContrast';\n    } else if (type === 'dayOnline') {\n      url = '/bi/elec/powerContrast';\n    } else if (type === 'evalResulSubtitle') {\n      url = '/po/integrated/assessmentevaluation/report';\n    } else if (type === 'vehicleCount') {\n      url = '/bi/integrated/vehicle';\n    }\n    addTabPage(url, '', param);\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .generation-statistics {\n    width: 100%;\n  }\n\n  .content-layout {\n    display: flex;\n    align-items: center;\n    height: 100%;\n    padding-left: 0.16rem;\n  }\n</style>\n"],"names":["searchInfo","reactive","topIndexData","onMounted","queryPowerStatData","__async","data","getPowerStatData","assign","toBiReport","type","param","url","addTabPage"],"mappings":"ooBAkCQ,MAAAA,EAA6BC,EAAS,CAAA,CAAE,EACxCC,EAAeD,EAAc,CAAA,CAAE,EAErCE,EAAU,IAAM,CAIKC,GAAA,CACpB,EAED,MAAMA,EAAqB,IAAYC,EAAA,sBACjC,IAAAC,EAAO,MAAMC,EAAiBP,CAAU,EACxCM,EAAK,QACAE,EAAAN,EAAcI,EAAK,MAAM,CAClC,GAIIG,EAAoBC,GAAiBL,EAAA,sBAEzC,IAAIM,EAAQ,CAAA,EACRC,EAAM,GACNF,IAAS,UAEFA,IAAS,YADZE,EAAA,yBAGGF,IAAS,oBACZE,EAAA,6CACGF,IAAS,iBACZE,EAAA,0BAEGC,EAAAD,EAAK,GAAID,CAAK,CAAA"}