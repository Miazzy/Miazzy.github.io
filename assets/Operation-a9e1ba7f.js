var b=(v,h,n)=>new Promise((e,r)=>{var a=t=>{try{s(n.next(t))}catch(u){r(u)}},d=t=>{try{s(n.throw(t))}catch(u){r(u)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,d);s((n=n.apply(v,h)).next())});import U from"./Inspection-c0f673c5.js";import w from"./HiddenDefect-94231840.js";import F from"./WorkOrder-ee069aed.js";import{M as _}from"./MiddleIndicator-deb23c9c.js";import P from"./Loss-36307ffd.js";import T from"./TwoTicket-7914d1f0.js";import M from"./Security-3e0ced5f.js";import{g as B}from"./data-c58638ca.js";import{am as i,ax as k,_ as L}from"./index.js";import{a as x}from"./assign-37f1c13d.js";import{d as O,r as S,k as m,o as A,Z as o,_ as f,a9 as c,ac as p,f as y,F as K}from"./vue-71d1abb3.js";import"./SmallModule-04781cfc.js";import"./DataIndicator-9c21ed00.js";import"./EchartLineBarChart.vue_vue_type_style_index_0_lang-90edad95.js";import"./index-d8a2358f.js";import"./install-58e0bd81.js";import"./NoData-1ab5cc7b.js";import"./antd-15ac76ed.js";import"./EchartStackBarChart.vue_vue_type_style_index_0_lang-59d702ec.js";import"./EchartPieChart.vue_vue_type_script_setup_true_lang-58fa16af.js";const N=O({__name:"Operation",props:{searchStationInfo:{}},setup(v,{expose:h}){const n=v,e=S({}),r=S({}),a=m(!1),d=m(i()),s=m(i()),t=m(i()),u=()=>{k("/bi/elec/planned")},g=()=>{let l=new Date,I=l.getFullYear().toString()+"-"+(l.getMonth()+1).toString();k("/bi/elec/lossPower","损失电量统计",{stationId:n.searchStationInfo.stationUUId,dateType:"month",startDate:I,endDate:I})},C=()=>{k("/bi/integrated/personnelStructure","人员结构统计",{stationId:n.searchStationInfo.stationUUId})},D=()=>b(this,null,function*(){let l=yield B(e);l.result&&(a.value=!0,x(r,l.result))});return h({handleUpdate:()=>{d.value=i(),s.value=i(),t.value=i()}}),A(()=>{x(e,n.searchStationInfo),D()}),(l,I)=>(o(),f(K,null,[(o(),f("div",{class:"left-content",key:d.value},[a.value?(o(),c(U,{key:0,class:"section-box top-section",operationSearchInfo:e},null,8,["operationSearchInfo"])):p("",!0),a.value?(o(),c(w,{key:1,class:"section-box middel-section",operationSearchInfo:e},null,8,["operationSearchInfo"])):p("",!0),a.value?(o(),c(F,{key:2,class:"section-box bottom-section",operationSearchInfo:e},null,8,["operationSearchInfo"])):p("",!0)])),(o(),f("div",{class:"middle-content",key:s.value},[y(_,{icon:"rate",label:"计划完成(月)",value:r.rate,unit:"%",onClick:u,vColor:"#67C8FF"},null,8,["value"]),y(_,{icon:"loss",label:"损失电量(月)",value:r.loss,unit:"万kWh",onClick:g,vColor:"#F4D038"},null,8,["value"]),y(_,{icon:"person-total",label:"在岗人数",value:r.personTotal,unit:"人",onClick:C,vColor:"#00BA24"},null,8,["value"])])),(o(),f("div",{class:"right-content",key:t.value},[a.value?(o(),c(P,{key:0,class:"section-box top-section",operationSearchInfo:e},null,8,["operationSearchInfo"])):p("",!0),a.value?(o(),c(T,{key:1,class:"section-box middel-section",operationSearchInfo:e},null,8,["operationSearchInfo"])):p("",!0),a.value?(o(),c(M,{key:2,class:"section-box bottom-section",operationSearchInfo:e},null,8,["operationSearchInfo"])):p("",!0)]))],64))}});const le=L(N,[["__scopeId","data-v-ea128caf"]]);export{le as default};
//# sourceMappingURL=Operation-a9e1ba7f.js.map
