{"version":3,"file":"ProcessInstanceTaskList.vue_vue_type_script_setup_true_lang-bac7f887.js","sources":["../../src/views/bpm/manage/processInstance/detail/ProcessInstanceTaskList.vue"],"sourcesContent":["<template>\n  <el-card v-loading=\"loading\" class=\"box-card\">\n    <template #header>\n      <span class=\"el-icon-picture-outline\">审批记录</span>\n    </template>\n    <el-col :offset=\"4\" :span=\"16\">\n      <div class=\"block\">\n        <el-timeline>\n          <el-timeline-item\n            v-for=\"(item, index) in tasks\"\n            :key=\"index\"\n            :icon=\"getTimelineItemIcon(item)\"\n            :type=\"getTimelineItemType(item)\"\n          >\n            <p style=\"font-weight: 700\">任务：{{ item.name }}</p>\n            <el-card :body-style=\"{ padding: '10px' }\">\n              <label v-if=\"item.assigneeUser\" style=\"margin-right: 30px; font-weight: normal\">\n                审批人：{{ item.assigneeUser.nickname }}\n                <el-tag size=\"small\" type=\"info\">{{ item.assigneeUser.deptName }}</el-tag>\n              </label>\n              <label v-if=\"item.createTime\" style=\"font-weight: normal\">创建时间：</label>\n              <label style=\"font-weight: normal; color: #8a909c\">\n                {{ formatDate(item?.createTime) }}\n              </label>\n              <label v-if=\"item.endTime\" style=\"margin-left: 30px; font-weight: normal\">\n                审批时间：\n              </label>\n              <label v-if=\"item.endTime\" style=\"font-weight: normal; color: #8a909c\">\n                {{ formatDate(item?.endTime) }}\n              </label>\n              <label v-if=\"item.durationInMillis\" style=\"margin-left: 30px; font-weight: normal\">\n                耗时：\n              </label>\n              <label v-if=\"item.durationInMillis\" style=\"font-weight: normal; color: #8a909c\">\n                {{ formatPast2(item?.durationInMillis) }}\n              </label>\n              <p v-if=\"item.reason\">\n                <el-tag :type=\"getTimelineItemType(item)\">{{ item.reason }}</el-tag>\n              </p>\n            </el-card>\n          </el-timeline-item>\n        </el-timeline>\n      </div>\n    </el-col>\n  </el-card>\n</template>\n<script lang=\"ts\" setup>\n  import { formatDate, formatPast2 } from '@/utils/dateUtil';\n  import { propTypes } from '@/utils/propTypes';\n\n  defineOptions({ name: 'BpmProcessInstanceTaskList' });\n\n  defineProps({\n    loading: propTypes.bool, // 是否加载中\n    tasks: propTypes.arrayOf(propTypes.object), // 流程任务的数组\n  });\n\n  /** 获得任务对应的 icon */\n  const getTimelineItemIcon = (item) => {\n    if (item.result === 1) {\n      return 'el-icon-time';\n    }\n    if (item.result === 2) {\n      return 'el-icon-check';\n    }\n    if (item.result === 3) {\n      return 'el-icon-close';\n    }\n    if (item.result === 4) {\n      return 'el-icon-remove-outline';\n    }\n    return '';\n  };\n\n  /** 获得任务对应的颜色 */\n  const getTimelineItemType = (item) => {\n    if (item.result === 1) {\n      return 'primary';\n    }\n    if (item.result === 2) {\n      return 'success';\n    }\n    if (item.result === 3) {\n      return 'danger';\n    }\n    if (item.result === 4) {\n      return 'info';\n    }\n    return '';\n  };\n</script>\n"],"names":["getTimelineItemIcon","item","getTimelineItemType"],"mappings":"y0BA0DQ,MAAAA,EAAuBC,GACvBA,EAAK,SAAW,EACX,eAELA,EAAK,SAAW,EACX,gBAELA,EAAK,SAAW,EACX,gBAELA,EAAK,SAAW,EACX,yBAEF,GAIHC,EAAuBD,GACvBA,EAAK,SAAW,EACX,UAELA,EAAK,SAAW,EACX,UAELA,EAAK,SAAW,EACX,SAELA,EAAK,SAAW,EACX,OAEF"}