var x=(d,m,t)=>new Promise((o,r)=>{var v=e=>{try{c(t.next(e))}catch(i){r(i)}},n=e=>{try{c(t.throw(e))}catch(i){r(i)}},c=e=>e.done?o(e.value):Promise.resolve(e.value).then(v,n);c((t=t.apply(d,m)).next())});import L from"./deviceItem-f8cae721.js";import{l as N}from"./monitorApi-44e70004.js";import{aD as S,aH as w}from"./antd-15ac76ed.js";import{d as B,k as _,r as g,w as q,o as A,Z as u,_ as p,$ as s,ad as h,f as O,aa as I,F as k,ae as y,a9 as C,u as D,a5 as V}from"./vue-71d1abb3.js";import{_ as F}from"./index.js";const P={class:"combiner-box-list"},T={class:"combiner-box-header"},j={class:"header-left"},z={class:"status-checkbox-group-box"},E={class:"status-label-text"},G={class:"combiner-box-content"},H={class:"combiner-box-list-box"},K=B({__name:"dataAcquisitionList",props:{stationId:String,areaId:String},setup(d,{expose:m}){const t=d,o=_([{label:"正常",value:"normal",number:0},{label:"告警",value:"alarm",number:0},{label:"通讯中断",value:"interrupt",number:0}]),r=_(["normal","alarm","interrupt"]),v=l=>{console.log("checkedValue",l),e()},n=g({}),c=_([]),e=()=>x(this,null,function*(){let l=yield N({stationId:t.stationId,areaId:t.areaId,abnormalType:r.value,deviceType:"DataCollector"});Object.assign(n,l.abnormalInfo),o.value[0].number=n.normalNum,o.value[1].number=n.alarmNum,o.value[2].number=n.interruptNum,c.value=l.dataList}),i=g({deviceLabelKey:"esn"});return q(()=>t.areaId,l=>{l&&e()}),A(()=>{}),m({statusOptions:o}),(l,f)=>(u(),p("div",P,[s("div",T,[s("div",j,[s("div",null,"数采："+h(n.deviceNum)+"台",1),s("div",z,[O(D(w),{value:r.value,"onUpdate:value":f[0]||(f[0]=a=>r.value=a),onChange:v},{default:I(()=>[(u(!0),p(k,null,y(o.value,(a,b)=>(u(),C(D(S),{key:b,value:a.value},{default:I(()=>[s("span",E,h(a.label),1),s("span",{class:V({"red-text":a.value!=="normal"&&a.number>0})},h(a.number),3)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])])]),s("div",G,[s("div",H,[(u(!0),p(k,null,y(c.value,(a,b)=>(u(),C(L,{class:"device-item-layout",options:i,key:b,data:a},null,8,["options","data"]))),128))])])]))}});const R=F(K,[["__scopeId","data-v-4bb1e182"]]);export{R as default};
//# sourceMappingURL=dataAcquisitionList-4c045611.js.map
