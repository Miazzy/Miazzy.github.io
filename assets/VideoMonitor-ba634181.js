var f=(p,v,a)=>new Promise((u,c)=>{var l=t=>{try{n(a.next(t))}catch(d){c(d)}},r=t=>{try{n(a.throw(t))}catch(d){c(d)}},n=t=>t.done?u(t.value):Promise.resolve(t.value).then(l,r);n((a=a.apply(p,v)).next())});import{D as w}from"./DeviceStatusInfo3-c6f9bba6.js";import{a5 as C,_ as K}from"./index.js";import{a as M}from"./assign-37f1c13d.js";import{d as N,k as _,r as U,o as B,al as x,Z as h,_ as m,$ as o,f as y,u as L,aa as T,a5 as j,ad as q,ac as V}from"./vue-71d1abb3.js";import"./antd-15ac76ed.js";const z={class:"video-monitor"},E={class:"device-status-info-layout"},H={class:"content-layout"},Z={class:"data-box"},$={class:"search-box"},A={class:"list-box"},F={class:"device-tree-node"},G={key:0,class:"online-text"},J={key:1,class:"offline-text"},O=N({__name:"VideoMonitor",props:{searchStationInfo:{}},emits:["select"],setup(p,{emit:v}){const a=p;_("");const u=U({}),c=_(""),l=_([]);let r=0;const n=s=>C.post({url:"/baseset/videoInfo/listVideoTree",params:s},{}),t=s=>f(this,null,function*(){console.log("onDeviceSearch",s);const e=yield n({name:s});l.value=e.result.list,r=e.result.total});function d(s,e,k){v("select",e.node)}function D(s){return f(this,null,function*(){const e=yield n({powerStationId:s});l.value=e.result.list,r=e.result.total})}B(()=>{M(u,a.searchStationInfo),D(u.stationUUId)}),_([{title:"黑龙江绥化电站",key:"1",children:[{title:"仓库",key:"1-1",onlineStatus:1},{title:"大门",key:"1-2",onlineStatus:1},{title:"1#方阵",key:"1-3",onlineStatus:0}]}]);const S=_([]);return(s,e)=>{const k=x("a-input-search"),I=x("a-tree");return h(),m("div",z,[o("div",E,[y(w,{icon:"shipinjiankong",total:L(r),online:18,offline:3,onlineShow:!1,label:"视频监控"},null,8,["total"])]),o("div",H,[o("div",Z,[o("div",$,[y(k,{class:"operation-screen-input-search",value:c.value,"onUpdate:value":e[0]||(e[0]=i=>c.value=i),placeholder:"请输入关键词",style:{width:"100%"},onSearch:t},null,8,["value"])]),o("div",A,[y(I,{class:"operation-screen-tree",blockNode:"",selectedKeys:S.value,"onUpdate:selectedKeys":e[1]||(e[1]=i=>S.value=i),"tree-data":l.value,onSelect:d},{title:T(({onlineStatus:i,title:b,children:g})=>[o("div",F,[o("span",{class:j({"device-name":!g})},q(b),3),i===1?(h(),m("span",G,"在线")):V("",!0),i===0?(h(),m("span",J,"离线")):V("",!0)])]),_:1},8,["selectedKeys","tree-data"])])])])])}}});const ee=K(O,[["__scopeId","data-v-193dcacd"]]);export{ee as default};
//# sourceMappingURL=VideoMonitor-ba634181.js.map
