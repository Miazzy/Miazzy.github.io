{"version":3,"file":"create-4d723363.js","sources":["../../src/views/po/drone/dronearchive/create.vue"],"sourcesContent":["<template>\n  <PageWrapper\n    :detail=\"true\"\n    dense\n    contentFullHeight\n    fixedHeight\n    contentClass=\"fix-detail-page\"\n    style=\"position: relative\"\n  >\n    <div class=\"load\">\n      <a-spin :spinning=\"formState.spinning\" tip=\"Loading...\">\n        <div class=\"process-box\">\n          <!-- 操作按钮-->\n          <div class=\"header-box\">\n            <div class=\"header-left\">无人机档案</div>\n            <div class=\"header-right\">\n              <a-button v-if=\"!disabledInput\" @click=\"handleCancel\">{{\n                t('common.cancelText')\n              }}</a-button>\n              <a-button\n                v-if=\"!disabledInput\"\n                class=\"!ml-4\"\n                type=\"primary\"\n                @click=\"handleSave\"\n                :loading=\"isLoading\"\n              >\n                {{ t('common.saveText') }}</a-button\n              >\n              <!-- <PrintButton class=\"!ml-4\" /> -->\n            </div>\n          </div>\n          <!-- 表单内容 -->\n          <div class=\"content\">\n            <a-form\n              class=\"basic-info-form\"\n              ref=\"formRef\"\n              :model=\"formState\"\n              labelAlign=\"right\"\n              autocomplete=\"off\"\n            >\n              <a-card title=\"基本信息\" :bordered=\"false\" style=\"width: 75%\">\n                <a-row :gutter=\"32\">\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item name=\"code\" label=\"编号\" :labelCol=\"{ class: 'detail-label' }\">\n                      <a-input disabled v-model:value=\"formState.code\" />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"droneFactory\"\n                      label=\"厂家\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true }]\"\n                    >\n                      <DictSelectBox\n                        :disabled=\"disabledInput\"\n                        :type=\"`droneFactory`\"\n                        v-model:value=\"formState.droneFactory\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n                <a-row :gutter=\"32\">\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"model\"\n                      label=\"型号\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true }]\"\n                    >\n                      <a-input :disabled=\"disabledInput\" v-model:value=\"formState.model\" />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"dronePower\"\n                      label=\"动力\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true }]\"\n                    >\n                      <DictSelectBox\n                        :disabled=\"disabledInput\"\n                        :type=\"`dronePower`\"\n                        v-model:value=\"formState.dronePower\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n                <a-row :gutter=\"32\">\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"snNumber\"\n                      label=\"SN编码\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true }]\"\n                    >\n                      <a-input :disabled=\"disabledInput\" v-model:value=\"formState.snNumber\" />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"civilNumber\"\n                      label=\"民航码\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true }]\"\n                    >\n                      <a-input :disabled=\"disabledInput\" v-model:value=\"formState.civilNumber\" />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n                <a-row :gutter=\"32\">\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"cameraType\"\n                      label=\"相机类型\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true }]\"\n                    >\n                      <DictSelectBox\n                        :disabled=\"disabledInput\"\n                        :type=\"`droneCameraType`\"\n                        v-model:value=\"formState.cameraType\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      label=\"采购日期\"\n                      name=\"procureDate\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请选择购买日期' }]\"\n                    >\n                      <a-date-picker\n                        :disabled=\"disabledInput\"\n                        v-model:value=\"formState.procureDate\"\n                        style=\"width: 100%\"\n                        value-format=\"YYYY-MM-DD\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n                <a-row :gutter=\"32\">\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      label=\"所属电站\"\n                      name=\"stationName\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true }]\"\n                    >\n                      <a-select\n                        v-model:value=\"formState.stationName\"\n                        show-search\n                        allow-clear\n                        style=\"width: 100%\"\n                        :options=\"stationOptions\"\n                        :disabled=\"disabledInput\"\n                        @change=\"handleChangeStation\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"endInsurancePeriod\"\n                      label=\"投保期止\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                    >\n                      <a-input disabled v-model:value=\"formState.endInsurancePeriod\" />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n                <a-row :gutter=\"32\">\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      label=\"当前使用权\"\n                      name=\"useStationName\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true }]\"\n                    >\n                      <a-select\n                        v-model:value=\"formState.useStationName\"\n                        show-search\n                        allow-clear\n                        style=\"width: 100%\"\n                        :options=\"stationOptions\"\n                        :disabled=\"disabledInput\"\n                        @change=\"handleChangeUseStation\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"dangerCount\"\n                      label=\"出险次数\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                    >\n                      <a-input disabled v-model:value=\"formState.dangerCount\" />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n\n                <a-row :gutter=\"32\">\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"droneType\"\n                      label=\"机场类别\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true }]\"\n                    >\n                      <DictSelectBox\n                        :disabled=\"disabledInput\"\n                        :type=\"`droneType`\"\n                        v-model:value=\"formState.droneType\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"airportDescribe\"\n                      label=\"机场描述\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: false, message: '飞行覆盖区域说明' }]\"\n                    >\n                      <a-input\n                        :disabled=\"disabledInput\"\n                        v-model:value=\"formState.airportDescribe\"\n                        placeholder=\"飞行覆盖区域说明\"\n                        :maxlength=\"30\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n              </a-card>\n              <div class=\"img-carousel-box\">\n                <a-carousel v-if=\"imgList.length\" dotsClass=\"carousel-dots\" autoplay>\n                  <div class=\"img-carousel-item\" v-for=\"(item, index) in imgList\" :key=\"index\">\n                    <img :src=\"FileApi.attachmentDownloadUrl(item.url)\" />\n                  </div>\n                </a-carousel>\n              </div>\n            </a-form>\n\n            <a-card title=\"\" :bordered=\"false\">\n              <div id=\"more-tab-content\" class=\"tab-table-div\">\n                <a-tabs v-model:activeKey=\"activeKey\">\n                  <a-tab-pane class=\"tab-pane-table\" key=\"1\" tab=\"投保记录\">\n                    <BasicTable\n                      @register=\"registerInsuranceTable\"\n                      @resize-column=\"(w, col) => (col.width = w)\"\n                    >\n                      <template #toolbar>\n                        <a-button\n                          v-if=\"!disabledInput && activeKey === '1'\"\n                          type=\"primary\"\n                          :preIcon=\"IconEnum.ADD\"\n                          @click=\"handleDetailAdd(VehicleApi.RecordType.INSURANCE)\"\n                        >\n                          {{ t('common.action.create') }}\n                        </a-button>\n                      </template>\n\n                      <template #bodyCell=\"{ column, text, record }\">\n                        <template v-if=\"column.key === 'bizFileId'\">\n                          <span\n                            style=\"color: #19be6b\"\n                            @click=\"showInsuranceFile(text, 'droneInsurance')\"\n                            >查看附件</span\n                          >\n                        </template>\n                        <template v-if=\"column.key === 'action' && !disabledInput\">\n                          <TableAction\n                            :actions=\"createActions(record, VehicleApi.RecordType.INSURANCE)\"\n                          />\n                        </template>\n                      </template>\n                    </BasicTable>\n                  </a-tab-pane>\n                  <a-tab-pane class=\"tab-pane-table\" key=\"2\" tab=\"出险记录\" force-render>\n                    <BasicTable\n                      @register=\"registerDangerTable\"\n                      @resize-column=\"(w, col) => (col.width = w)\"\n                    >\n                      <template #toolbar>\n                        <a-button\n                          v-if=\"!disabledInput && activeKey === '2'\"\n                          type=\"primary\"\n                          :preIcon=\"IconEnum.ADD\"\n                          @click=\"handleDetailAdd(VehicleApi.RecordType.DANGER)\"\n                        >\n                          {{ t('common.action.create') }}\n                        </a-button>\n                      </template>\n                      <template #bodyCell=\"{ column, text, record }\">\n                        <template v-if=\"column.key === 'bizFileId'\">\n                          <span\n                            style=\"color: #19be6b\"\n                            @click=\"showInsuranceFile(text, 'droneDanger')\"\n                            >查看附件</span\n                          >\n                        </template>\n                        <template v-if=\"column.key === 'action' && !disabledInput\">\n                          <TableAction\n                            :actions=\"createActions(record, VehicleApi.RecordType.DANGER)\"\n                          />\n                        </template>\n                      </template>\n                    </BasicTable>\n                  </a-tab-pane>\n                  <a-tab-pane class=\"tab-pane-table\" key=\"3\" tab=\"借调记录\" force-render>\n                    <BasicTable\n                      @register=\"registerSecondTable\"\n                      @resize-column=\"(w, col) => (col.width = w)\"\n                    >\n                      <template #toolbar>\n                        <a-button\n                          v-if=\"!disabledInput && activeKey === '3'\"\n                          type=\"primary\"\n                          :preIcon=\"IconEnum.SEND\"\n                          @click=\"sendHandler()\"\n                        >\n                          寄出\n                        </a-button>\n                        <a-button\n                          v-if=\"!disabledInput && activeKey === '3'\"\n                          type=\"primary\"\n                          :preIcon=\"IconEnum.EDIT\"\n                          @click=\"signHandler()\"\n                        >\n                          签收\n                        </a-button>\n                      </template>\n                    </BasicTable>\n                  </a-tab-pane>\n                </a-tabs>\n              </div>\n            </a-card>\n\n            <a-card title=\"附件资料\" :bordered=\"false\">\n              <div class=\"detail-upload-table\">\n                <UploadTable\n                  ref=\"uploadTable\"\n                  :rows=\"uploadRows\"\n                  :colwidths=\"['15%', '70%', '15%']\"\n                  :application=\"`po`\"\n                  :module=\"`droneArchive`\"\n                  :mode=\"!disabledInput ? `normal` : `view`\"\n                />\n              </div>\n            </a-card>\n          </div>\n        </div>\n        <Dialog\n          v-model:visible=\"insureDialog\"\n          :title=\"modelTitle\"\n          :maskClosable=\"false\"\n          @ok=\"handleSuccess(VehicleApi.RecordType.INSURANCE)\"\n          @cancel=\"cancel\"\n          :height=\"500\"\n          :width=\"800\"\n          smode=\"normal\"\n          :showBtm=\"!disabledInput\"\n          ref=\"insureDialogRef\"\n        >\n          <a-form ref=\"insureFormRef\" :model=\"insureFormState\" name=\"userForm\">\n            <a-row :gutter=\"24\">\n              <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  label=\"承保公司\"\n                  name=\"insuranceCarriers\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: true }]\"\n                >\n                  <a-input\n                    v-model:value=\"insureFormState.insuranceCarriers\"\n                    :disabled=\"disabledInput\"\n                    style=\"width: 100%\"\n                  />\n                </a-form-item>\n              </a-col>\n              <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  label=\"保单号\"\n                  name=\"policyNo\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: true }]\"\n                >\n                  <a-input\n                    v-model:value=\"insureFormState.policyNo\"\n                    :disabled=\"disabledInput\"\n                    style=\"width: 100%\"\n                  />\n                </a-form-item>\n              </a-col>\n            </a-row>\n            <a-row :gutter=\"24\">\n              <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  label=\"有效期起\"\n                  name=\"startTime\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: true }]\"\n                >\n                  <a-date-picker\n                    v-model:value=\"insureFormState.startTime\"\n                    :disabled=\"disabledInput\"\n                    format=\"YYYY-MM-DD HH:mm\"\n                    value-format=\"YYYY-MM-DD HH:mm:00\"\n                    show-time\n                    style=\"width: 100%\"\n                  />\n                </a-form-item>\n              </a-col>\n              <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  label=\"有效期止\"\n                  name=\"endTime\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: true }]\"\n                >\n                  <a-date-picker\n                    v-model:value=\"insureFormState.endTime\"\n                    :disabled=\"disabledInput\"\n                    format=\"YYYY-MM-DD HH:mm\"\n                    value-format=\"YYYY-MM-DD HH:mm:00\"\n                    show-time\n                    style=\"width: 100%\"\n                  />\n                </a-form-item>\n              </a-col>\n            </a-row>\n            <a-row :gutter=\"24\">\n              <a-col v-show=\"true\" :span=\"24\">\n                <a-form-item\n                  label=\"备注\"\n                  name=\"remark\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: false }]\"\n                >\n                  <a-input\n                    v-model:value=\"insureFormState.remark\"\n                    :disabled=\"disabledInput\"\n                    style=\"width: 100%\"\n                  />\n                </a-form-item>\n              </a-col>\n            </a-row>\n\n            <a-card title=\"保单附件\" :bordered=\"false\" style=\"text-align: left\">\n              <div style=\"text-align: left\">\n                <UploadBox\n                  :width=\"800\"\n                  :height=\"550\"\n                  :maxCount=\"20\"\n                  :maxSize=\"100 * 1024 * 1024\"\n                  :application=\"`po`\"\n                  :module=\"`droneInsurance`\"\n                  :vmode=\"!disabledInput ? `box` : `view`\"\n                  :bizId=\"insureFormState.bizFileId\"\n                />\n              </div>\n            </a-card>\n          </a-form>\n        </Dialog>\n\n        <Dialog\n          v-model:visible=\"dangerDialog\"\n          :title=\"modelTitle\"\n          :maskClosable=\"false\"\n          @ok=\"handleSuccess(VehicleApi.RecordType.DANGER)\"\n          @cancel=\"cancel\"\n          :height=\"600\"\n          :width=\"800\"\n          smode=\"normal\"\n          :showBtm=\"!disabledInput\"\n          ref=\"dangerDialogRef\"\n        >\n          <a-form ref=\"dangerFormRef\" :model=\"dangerFormState\" name=\"userForm\">\n            <a-row :gutter=\"24\">\n              <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  label=\"出险电站\"\n                  name=\"stationName\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: true }]\"\n                >\n                  <a-input\n                    v-model:value=\"dangerFormState.stationName\"\n                    disabled\n                    style=\"width: 100%\"\n                  />\n                </a-form-item>\n              </a-col>\n              <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  label=\"报险日期\"\n                  name=\"reportingDate\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: true }]\"\n                >\n                  <a-date-picker\n                    v-model:value=\"dangerFormState.reportingDate\"\n                    :disabled=\"disabledInput\"\n                    format=\"YYYY-MM-DD\"\n                    value-format=\"YYYY-MM-DD\"\n                    style=\"width: 100%\"\n                  />\n                </a-form-item>\n              </a-col>\n            </a-row>\n            <a-row :gutter=\"24\">\n              <a-col v-show=\"true\" :span=\"24\">\n                <a-form-item\n                  label=\"事件概述\"\n                  name=\"description\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: true }]\"\n                >\n                  <a-textarea\n                    v-model:value=\"dangerFormState.description\"\n                    :maxlength=\"100\"\n                    :auto-size=\"{ minRows: 2, maxRows: 5 }\"\n                    :disabled=\"disabledInput\"\n                  />\n                </a-form-item>\n              </a-col>\n            </a-row>\n            <a-row :gutter=\"24\">\n              <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  label=\"理赔结果\"\n                  name=\"settlementResult\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: true }]\"\n                >\n                  <DictSelectBox\n                    :disabled=\"disabledInput\"\n                    :type=\"`settlementResult`\"\n                    v-model:value=\"dangerFormState.settlementResult\"\n                  />\n                </a-form-item>\n              </a-col>\n            </a-row>\n            <a-row :gutter=\"24\">\n              <a-col v-show=\"true\" :span=\"24\">\n                <a-form-item\n                  label=\"备注\"\n                  name=\"remark\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: false }]\"\n                >\n                  <a-textarea\n                    v-model:value=\"dangerFormState.remark\"\n                    :maxlength=\"100\"\n                    :auto-size=\"{ minRows: 2, maxRows: 5 }\"\n                    :disabled=\"disabledInput\"\n                  />\n                </a-form-item>\n              </a-col>\n            </a-row>\n\n            <a-card title=\"出险附件\" :bordered=\"false\" style=\"text-align: left\">\n              <div style=\"text-align: left\">\n                <UploadBox\n                  :width=\"800\"\n                  :height=\"550\"\n                  :maxCount=\"20\"\n                  :maxSize=\"100 * 1024 * 1024\"\n                  :application=\"`po`\"\n                  :module=\"`droneDanger`\"\n                  :vmode=\"!disabledInput ? `box` : `view`\"\n                  :bizId=\"dangerFormState.bizFileId\"\n                />\n              </div>\n            </a-card>\n          </a-form>\n        </Dialog>\n\n        <!-- 借调 -->\n        <Dialog\n          v-model:visible=\"secondDialog\"\n          :title=\"modelTitle\"\n          :maskClosable=\"false\"\n          @ok=\"handleSuccess(VehicleApi.RecordType.SECOND)\"\n          @cancel=\"cancel\"\n          :height=\"450\"\n          :width=\"800\"\n          smode=\"normal\"\n          :showBtm=\"!disabledInput\"\n          ref=\"secondDialogRef\"\n        >\n          <a-form ref=\"secondFormRef\" :model=\"secondFormState\" name=\"userForm\">\n            <a-row :gutter=\"24\">\n              <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  label=\"寄出电站\"\n                  name=\"sendStationName\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: true }]\"\n                >\n                  <a-input\n                    v-model:value=\"secondFormState.sendStationName\"\n                    disabled\n                    style=\"width: 100%\"\n                  />\n                </a-form-item>\n              </a-col>\n              <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  label=\"寄出人\"\n                  name=\"sender\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: true }]\"\n                >\n                  <a-input v-model:value=\"secondFormState.sender\" disabled style=\"width: 100%\" />\n                </a-form-item>\n              </a-col>\n            </a-row>\n            <a-row :gutter=\"24\">\n              <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  label=\"寄出日期\"\n                  name=\"sendDate\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: true }]\"\n                >\n                  <a-date-picker\n                    v-model:value=\"secondFormState.sendDate\"\n                    :disabled=\"disabledInput || signInput\"\n                    format=\"YYYY-MM-DD\"\n                    value-format=\"YYYY-MM-DD\"\n                    style=\"width: 100%\"\n                  />\n                </a-form-item>\n              </a-col>\n              <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  label=\"签收电站\"\n                  name=\"signStationName\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: true }]\"\n                >\n                  <a-select\n                    v-model:value=\"secondFormState.signStationName\"\n                    show-search\n                    allow-clear\n                    :disabled=\"disabledInput || signInput\"\n                    style=\"width: 100%\"\n                    :options=\"stationOptions\"\n                    @change=\"handleChangeSecondStation\"\n                  />\n                </a-form-item>\n              </a-col>\n            </a-row>\n            <a-row :gutter=\"24\">\n              <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  label=\"签收人\"\n                  name=\"signee\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: false }]\"\n                >\n                  <a-input v-model:value=\"secondFormState.signee\" disabled style=\"width: 100%\" />\n                </a-form-item>\n              </a-col>\n              <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  label=\"签收日期\"\n                  name=\"signingDate\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: false }]\"\n                >\n                  <a-date-picker\n                    v-model:value=\"secondFormState.signingDate\"\n                    :disabled=\"disabledInput || !signInput\"\n                    format=\"YYYY-MM-DD\"\n                    value-format=\"YYYY-MM-DD\"\n                    style=\"width: 100%\"\n                  />\n                </a-form-item>\n              </a-col>\n            </a-row>\n            <a-row :gutter=\"24\">\n              <a-col v-show=\"true\" :span=\"24\">\n                <a-form-item\n                  label=\"备注\"\n                  name=\"remark\"\n                  :labelCol=\"{ style: { width: '124px' } }\"\n                  :rules=\"[{ required: false }]\"\n                >\n                  <a-textarea\n                    v-model:value=\"secondFormState.remark\"\n                    :maxlength=\"100\"\n                    :auto-size=\"{ minRows: 3, maxRows: 6 }\"\n                    :disabled=\"disabledInput\"\n                  />\n                </a-form-item>\n              </a-col>\n            </a-row>\n          </a-form>\n        </Dialog>\n        <Dialog\n          v-model:visible=\"fileDialog\"\n          :title=\"modelTitle\"\n          :maskClosable=\"false\"\n          :height=\"600\"\n          :width=\"800\"\n          smode=\"normal\"\n          :showBtm=\"false\"\n          ref=\"fileDialogRef\"\n        >\n          <div style=\"text-align: left\">\n            <UploadBox\n              :width=\"800\"\n              :height=\"550\"\n              :maxCount=\"20\"\n              :maxSize=\"100 * 1024 * 1024\"\n              :application=\"`po`\"\n              :module=\"fileFormState.module\"\n              :vmode=\"`view`\"\n              :bizId=\"fileFormState.bizFileId\"\n            />\n          </div>\n        </Dialog>\n      </a-spin>\n    </div>\n  </PageWrapper>\n</template>\n\n<script lang=\"ts\" setup>\n  import { reactive, ref, onMounted, toRaw, UnwrapRef, computed, watch } from 'vue';\n  import type { SelectProps } from 'ant-design-vue';\n  import { useRoute } from 'vue-router';\n  import { assign, cloneDeep } from 'lodash-es';\n  import { IconEnum } from '@/enums/appEnum';\n  import { SysMessage, useMessage } from '@/hooks/web/useMessage';\n  import { useI18n } from '@/hooks/web/useI18n';\n  import UploadBox from '@/components/Framework/Combox/UploadBox.vue';\n  import { BasicTable, useTable, TableAction, ActionItem, EditRecordRow } from '@/components/Table';\n  import DictSelectBox from '@/components/Framework/Combox/DictSelectBox.vue';\n  import UploadTable from '/@/components/Framework/Table/UploadTable.vue';\n  import { setCustomCompOptions } from '@/utils/cache';\n  import { buildShortUUID } from '@/utils/uuid';\n  import * as VehicleApi from './drone.data';\n  import { closeCurrentTab, addTabPage } from '@/utils/route';\n  import { MsgManager } from '@/message/MsgManager';\n  import Dialog from '@/components/Framework/Modal/Dialog.vue';\n  import { useUserStore } from '/@/store/modules/user';\n  import moment from 'moment';\n  import * as FileApi from '@/api/infra/file';\n\n  const stationOptions = ref<SelectProps['options']>([]) as any;\n  const { t } = useI18n();\n  const uploadTable = ref();\n  const uploadRows = ref<any[]>([]);\n  const { createMessage: msg } = useMessage();\n  const { query } = useRoute();\n  const isLoading = ref(false);\n  const formRef = ref();\n  const activeKey = ref('1');\n  const formState: UnwrapRef<any> = reactive({ spinning: false, status: 1 });\n  const insureFormState: UnwrapRef<any> = reactive({});\n  const dangerFormState: UnwrapRef<any> = reactive({});\n  const secondFormState: UnwrapRef<any> = reactive({});\n  const fileFormState: UnwrapRef<any> = reactive({});\n  const checkParam: UnwrapRef<any> = reactive({});\n  const currentEditKeyRef = ref('');\n  const currentEditRowRef = ref({});\n  const stationPersonOptions = ref<SelectProps['options']>([]) as any;\n  const insuranceDataSource = ref<any[]>();\n  const dangerDataSource = ref<any[]>();\n  const secondDataSource = ref<any[]>();\n  const disabledInput = ref<boolean>(Boolean(query.isReadonly));\n  const signInput = ref<boolean>(false);\n  const modelTitle = ref('');\n  const insureDialog = ref<boolean>(false);\n  const dangerDialog = ref<boolean>(false);\n  const secondDialog = ref<boolean>(false);\n  const fileDialog = ref<boolean>(false);\n  const insureFormRef = ref<FormInstance>();\n  const dangerFormRef = ref<FormInstance>();\n  const secondFormRef = ref<FormInstance>();\n  const insureDialogRef = ref();\n  const dangerDialogRef = ref();\n  const secondDialogRef = ref();\n  const tableOption = {\n    bordered: true,\n    useSearchForm: false,\n    actionColumn: {\n      width: 140,\n      title: t('common.operate'),\n      dataIndex: 'action',\n      fixed: 'right',\n      ifShow: () => {\n        return !disabledInput.value;\n      },\n    },\n    canResize: false,\n    pagination: false,\n    showTableSetting: false,\n    tableSetting: { fullScreen: true },\n  };\n  const userStore = useUserStore();\n  const getUserInfo = userStore.getUserInfo;\n  const secondTableOption = {\n    bordered: true,\n    useSearchForm: false,\n    canResize: false,\n    pagination: false,\n    showTableSetting: false,\n    tableSetting: { fullScreen: true },\n    rowSelection: {\n      type: 'radio',\n    },\n  };\n\n  function showInsuranceFile(bizFileId, module) {\n    fileFormState.bizFileId = bizFileId;\n    fileFormState.module = module;\n    fileDialog.value = true;\n  }\n\n  // 保险记录\n  const insuranceProps: any = assign(\n    {\n      dataSource: insuranceDataSource,\n      columns: VehicleApi.getDetailColumns(VehicleApi.RecordType.INSURANCE, currentEditRowRef),\n      target: '#more-tab-content',\n      targetTabKey: '1',\n      targetTabValue: activeKey,\n    },\n    tableOption,\n  );\n  const [registerInsuranceTable, { getDataSource: getInsuranceDataSource }] =\n    useTable(insuranceProps);\n\n  // 年检记录\n  const dangerProps: any = assign(\n    {\n      dataSource: dangerDataSource,\n      columns: VehicleApi.getDetailColumns(VehicleApi.RecordType.DANGER, currentEditRowRef),\n      target: '#more-tab-content',\n      targetTabKey: '2',\n      targetTabValue: activeKey,\n    },\n    tableOption,\n  );\n  const [registerDangerTable, { getDataSource: getDangerDataSource }] = useTable(dangerProps);\n\n  // 保养记录\n  const secondProps: any = assign(\n    {\n      dataSource: secondDataSource,\n      columns: VehicleApi.getDetailColumns(VehicleApi.RecordType.SECOND, currentEditRowRef),\n      target: '#more-tab-content',\n      targetTabKey: '3',\n      targetTabValue: activeKey,\n    },\n    secondTableOption,\n  );\n  const [registerSecondTable, { getDataSource: getSecondDataSource, getSelectRows }] =\n    useTable(secondProps);\n\n  function handleChangeStation(value: string, option) {\n    if (value.length == 0) {\n      formState.stationId = undefined;\n      formState.stationName = undefined;\n    } else {\n      formState.stationId = option.lable;\n      formState.stationName = option.value;\n    }\n  }\n\n  function handleChangeSecondStation(value: string, option) {\n    if (value.length == 0) {\n      secondFormState.signStationId = undefined;\n      secondFormState.signStationName = undefined;\n    } else {\n      secondFormState.signStationId = option.lable;\n      secondFormState.signStationName = option.value;\n    }\n  }\n\n  function handleChangeUseStation(value: string, option) {\n    if (value.length == 0) {\n      formState.useStationId = undefined;\n      formState.useStationName = undefined;\n    } else {\n      formState.useStationId = option.lable;\n      formState.useStationName = option.value;\n    }\n  }\n\n  function getDataSource(type: string) {\n    if (type === VehicleApi.RecordType.INSURANCE) {\n      return getInsuranceDataSource();\n    }\n    if (type === VehicleApi.RecordType.DANGER) {\n      return getDangerDataSource();\n    }\n    if (type === VehicleApi.RecordType.SECOND) {\n      return getSecondDataSource();\n    }\n\n    return [];\n  }\n\n  function handleDetailAdd(type: string) {\n    if (!formState.stationName || formState.stationName == '') {\n      SysMessage.getInstance().error('请先选择所属电站。');\n      return false;\n    }\n    if (VehicleApi.RecordType.INSURANCE == type) {\n      insureFormState.insuranceCarriers = null;\n      insureFormState.policyNo = null;\n      insureFormState.startTime = null;\n      insureFormState.endTime = null;\n      insureFormState.remark = null;\n      insureFormState.bizFileId = buildShortUUID();\n      checkParam.type = 'Insure';\n      checkParam.stationId = formState.stationId;\n      VehicleApi.checkAdd(checkParam).then(() => {\n        insureDialog.value = true;\n        modelTitle.value = '添加投保记录';\n      });\n    } else if (VehicleApi.RecordType.DANGER == type) {\n      if (!formState.useStationName || formState.useStationName == '') {\n        SysMessage.getInstance().error('请先选择当前使用权电站。');\n        return false;\n      }\n      dangerFormState.stationId = null;\n      dangerFormState.stationName = null;\n      dangerFormState.reportingDate = null;\n      dangerFormState.description = null;\n      dangerFormState.settlementResult = null;\n      dangerFormState.remark = null;\n      dangerFormState.bizFileId = buildShortUUID();\n      dangerFormState.stationId = formState.stationId;\n      dangerFormState.stationName = formState.stationName;\n\n      checkParam.type = 'Danger';\n      checkParam.stationId = formState.stationId;\n      checkParam.useStationId = formState.useStationId;\n      VehicleApi.checkAdd(checkParam).then(() => {\n        dangerDialog.value = true;\n        modelTitle.value = '添加出险记录';\n      });\n    }\n  }\n  function sendHandler() {\n    if (!formState.useStationName || formState.useStationName == '') {\n      SysMessage.getInstance().error('请先选择当前使用权电站。');\n      return false;\n    }\n    checkParam.type = 'Second';\n    checkParam.useStationId = formState.useStationId;\n\n    VehicleApi.checkAdd(checkParam).then(() => {\n      signInput.value = false;\n      const row = getSelectRows();\n      currentEditRowRef.value = {} as any;\n      if (row.length > 0) {\n        if (row[0].signee && row[0].signee != '') {\n          SysMessage.getInstance().error('已签收不能修改。');\n          return false;\n        }\n        assign(currentEditRowRef.value, row[0]);\n        assign(secondFormState, row[0]);\n        secondDialog.value = true;\n        modelTitle.value = '修改寄出记录';\n      } else {\n        secondFormState.createTime = null;\n        secondFormState.sendStationId = formState.useStationId;\n        secondFormState.sendStationName = formState.useStationName;\n        secondFormState.signStationId = null;\n        secondFormState.signeeId = null;\n        secondFormState.senderId = getUserInfo.userId;\n        secondFormState.sender = getUserInfo.username;\n        secondFormState.sendDate = moment(new Date()).format('YYYY-MM-DD');\n        secondFormState.signStationName = null;\n        secondFormState.signee = null;\n        secondFormState.signingDate = null;\n        secondFormState.remark = null;\n        secondFormState.stationId = formState.stationId;\n        secondFormState.stationName = formState.stationName;\n        secondDialog.value = true;\n        modelTitle.value = '添加寄出记录';\n      }\n    });\n  }\n\n  function signHandler() {\n    const row = getSelectRows();\n\n    if (row.length == 0) {\n      SysMessage.getInstance().error('请选择一条数据。');\n      return false;\n    }\n    checkParam.type = 'Second';\n    checkParam.signStationId = row[0].signStationId;\n\n    VehicleApi.checkEdit(checkParam).then(() => {\n      signInput.value = true;\n      currentEditRowRef.value = {} as any;\n      assign(currentEditRowRef.value, row[0]);\n      assign(secondFormState, row[0]);\n      secondFormState.signeeId = getUserInfo.userId;\n      secondFormState.signee = getUserInfo.username;\n      secondFormState.signingDate = moment(new Date()).format('YYYY-MM-DD');\n      secondDialog.value = true;\n      modelTitle.value = '签收';\n    });\n  }\n\n  function cancel() {\n    insureDialog.value = false;\n    dangerDialog.value = false;\n    secondDialog.value = false;\n  }\n  function handleSuccess(type: string) {\n    let data = getDataSource(type);\n    if (type == VehicleApi.RecordType.INSURANCE) {\n      insureFormRef.value.validate().then(() => {\n        const addRow: EditRecordRow = {\n          editable: true,\n          isNew: true,\n          key: `${type}_${Date.now()}`,\n          insuranceCarriers: insureFormState.insuranceCarriers,\n          policyNo: insureFormState.policyNo,\n          startTime: insureFormState.startTime,\n          endTime: insureFormState.endTime,\n          remark: insureFormState.remark,\n          bizFileId: insureFormState.bizFileId,\n          id: dangerFormState.id,\n          creatorId: dangerFormState.creatorId,\n          creator: dangerFormState.creator,\n          createTime: dangerFormState.createTime,\n        };\n\n        if (currentEditRowRef.value.key) {\n          data.filter((item, index) => {\n            if (item.key === currentEditRowRef.value.key) {\n              assign(data[index], insureFormState);\n              return item;\n            }\n          });\n        } else {\n          data.push(addRow);\n        }\n\n        insureDialog.value = false;\n        insureDialogRef.value.closeModal();\n        currentEditRowRef.value = {} as any;\n      });\n    } else if (type == VehicleApi.RecordType.DANGER) {\n      dangerFormRef.value.validate().then(() => {\n        const addRow: EditRecordRow = {\n          editable: true,\n          isNew: true,\n          key: `${type}_${Date.now()}`,\n          stationId: dangerFormState.stationId,\n          stationName: dangerFormState.stationName,\n          reportingDate: dangerFormState.reportingDate,\n          description: dangerFormState.description,\n          settlementResult: dangerFormState.settlementResult,\n          remark: dangerFormState.remark,\n          bizFileId: dangerFormState.bizFileId,\n          id: dangerFormState.id,\n          creatorId: dangerFormState.creatorId,\n          creator: dangerFormState.creator,\n          createTime: dangerFormState.createTime,\n        };\n\n        if (currentEditRowRef.value.key) {\n          data.filter((item, index) => {\n            if (item.key === currentEditRowRef.value.key) {\n              assign(data[index], dangerFormState);\n              return item;\n            }\n          });\n        } else {\n          data.push(addRow);\n        }\n\n        dangerDialog.value = false;\n        dangerDialogRef.value.closeModal();\n        currentEditRowRef.value = {} as any;\n      });\n    } else if (type == VehicleApi.RecordType.SECOND) {\n      secondFormRef.value.validate().then(() => {\n        const addRow: EditRecordRow = {\n          editable: true,\n          isNew: true,\n          key: `${type}_${Date.now()}`,\n          id: secondFormState.id,\n          createTime: secondFormState.createTime,\n          sendStationId: secondFormState.sendStationId,\n          senderId: secondFormState.senderId,\n          signStationId: secondFormState.signStationId,\n          signeeId: secondFormState.signeeId,\n          sendStationName: secondFormState.sendStationName,\n          sender: secondFormState.sender,\n          sendDate: secondFormState.sendDate,\n          signStationName: secondFormState.signStationName,\n          signee: secondFormState.signee,\n          signingDate: secondFormState.signingDate,\n          remark: secondFormState.remark,\n        };\n\n        if (currentEditRowRef.value.key) {\n          data.filter((item, index) => {\n            if (item.key === currentEditRowRef.value.key) {\n              assign(data[index], secondFormState);\n              return item;\n            }\n          });\n        } else {\n          data.push(addRow);\n        }\n\n        secondDialog.value = false;\n        secondDialogRef.value.closeModal();\n        currentEditRowRef.value = {} as any;\n      });\n    }\n  }\n\n  function handleDetailEdit(record: EditRecordRow, type: string) {\n    currentEditRowRef.value = {} as any;\n    assign(currentEditRowRef.value, record);\n\n    if (VehicleApi.RecordType.INSURANCE == type) {\n      assign(insureFormState, record);\n      checkParam.type = 'Insure';\n      checkParam.stationId = formState.stationId;\n      VehicleApi.checkEdit(checkParam).then(() => {\n        insureDialog.value = true;\n        modelTitle.value = '修改投保记录';\n      });\n    } else if (VehicleApi.RecordType.DANGER == type) {\n      assign(dangerFormState, record);\n      checkParam.type = 'Danger';\n      checkParam.stationId = record.stationId;\n      VehicleApi.checkEdit(checkParam).then(() => {\n        dangerDialog.value = true;\n        modelTitle.value = '修改投保记录';\n      });\n    }\n  }\n\n  const handleDetailDelete = async (record: EditRecordRow, type: string) => {\n    if (type == 'insure') {\n      checkParam.type = 'Insure';\n      checkParam.stationId = formState.stationId;\n      VehicleApi.checkDelete(checkParam).then(async () => {\n        await VehicleApi.deleteDetail(type, `?id=${record.id}`);\n        const data = getDataSource(type);\n        const index = data.findIndex((item) => item.key === record.key);\n        data.splice(index, 1);\n        msg.success('数据已删除');\n      });\n    } else {\n      await VehicleApi.deleteDetail(type, `?id=${record.id}`);\n      const data = getDataSource(type);\n      const index = data.findIndex((item) => item.key === record.key);\n      data.splice(index, 1);\n      msg.success('数据已删除');\n    }\n  };\n\n  function createActions(record: EditRecordRow, type: string): ActionItem[] {\n    return [\n      {\n        label: t('common.action.update'),\n        icon: IconEnum.EDIT,\n        disabled: currentEditKeyRef.value ? currentEditKeyRef.value !== record.key : false,\n        onClick: handleDetailEdit.bind(null, record, type),\n      },\n      {\n        label: t('common.delText'),\n        icon: IconEnum.DELETE,\n        disabled: currentEditKeyRef.value ? currentEditKeyRef.value !== record.key : false,\n        danger: true,\n        popConfirm: {\n          title: '是否确认删除',\n          confirm: handleDetailDelete.bind(null, record, type),\n        },\n      },\n    ];\n  }\n\n  const handleCancel = () => {\n    closeCurrentTab();\n    MsgManager.getInstance().sendMsg('drone_archive', {});\n  };\n\n  const handleSave = () => {\n    formRef.value\n      .validate()\n      .then(() => {\n        const result = uploadTable.value.validate();\n        if (!result?.valid) {\n          msg.error('请上传附件资料');\n          return;\n        }\n        doSave();\n      })\n      .catch((error) => {\n        console.log('onSubmit=》error', error);\n      });\n  };\n\n  const doSave = async () => {\n    formState.spinning = true;\n    try {\n      const insureList = getDataSource(VehicleApi.RecordType.INSURANCE);\n      const dangerList = getDataSource(VehicleApi.RecordType.DANGER);\n      const secondList = getDataSource(VehicleApi.RecordType.SECOND);\n\n      const formData = toRaw(formState);\n\n      formData.insureList = insureList;\n      formData.dangerList = dangerList;\n      formData.secondList = secondList;\n\n      await VehicleApi.saveData(formData).then((res) => {\n        formState.id = res.result;\n        VehicleApi.getData({ id: res.result }).then((data) => {\n          assign(formState, data.result);\n        });\n        SysMessage.getInstance().success(t('common.saveSuccessText'));\n        MsgManager.getInstance().sendMsg('drone_archive', {});\n      });\n      setTimeout(function () {\n        handleCancel();\n      }, 200);\n    } finally {\n      formState.spinning = false;\n    }\n  };\n\n  function initStationPersonOptions() {\n    VehicleApi.getStationPerson('?stationId=' + formState.stationId).then((res) => {\n      if (res.result && res.result.length > 0) {\n        res.result.forEach((item) => {\n          stationPersonOptions.value.push({ value: item.userId, label: item.name });\n        });\n\n        const stationPersonTreeSelectOptions = {\n          data: stationPersonOptions.value,\n          tfields: { value: 'value', label: 'label' },\n        };\n        setCustomCompOptions('StationPersonTreeSelectOptions', stationPersonTreeSelectOptions);\n      }\n    });\n  }\n\n  const initFormState = async () => {\n    assign(formState, query);\n    if (query.id) {\n      const res = await VehicleApi.getData({ id: query.id });\n      assign(formState, res.result);\n      convertArr(['Id', 'Name']);\n    } else {\n      formState.bizFileId = buildShortUUID();\n    }\n  };\n\n  const initTableData = async () => {\n    const param = { id: formState.id };\n    const insuranceObj = await VehicleApi.getDetailList(VehicleApi.RecordType.INSURANCE, param);\n    insuranceDataSource.value = insuranceObj.result;\n\n    const dangerObj = await VehicleApi.getDetailList(VehicleApi.RecordType.DANGER, param);\n    dangerDataSource.value = dangerObj.result;\n\n    const secondObj = await VehicleApi.getDetailList(VehicleApi.RecordType.SECOND, param);\n    secondDataSource.value = secondObj.result;\n  };\n\n  function initSelectOptions() {\n    VehicleApi.getStation({}).then((res) => {\n      if (res.result && res.result.length > 0) {\n        res.result.forEach((item) => {\n          stationOptions.value.push({ value: item.stationName, lable: item.id });\n        });\n      }\n    });\n    initStationPersonOptions();\n  }\n\n  function convertArr(suffixs: Array<string>) {\n    suffixs.forEach((suffix) => {\n      const fields = ref<Array<string>>(['responsiblePerson']);\n      fields.value.forEach((item) => {\n        const value = formState[item + suffix];\n        if (value) {\n          formState[item + suffix + 's'] = value.split(',');\n        }\n      });\n    });\n  }\n\n  ////////////表格附件/////////////\n  const initUploadRows = () => {\n    if (!formState.bizFileId) {\n      formState.bizFileId = buildShortUUID();\n    }\n    uploadRows.value = [\n      {\n        fileKindId: 'drone',\n        filetype: '无人机图片(限制1张)',\n        bizId: formState.bizFileId,\n        maxCount: 1,\n        maxSize: 20 * 1024 * 1024,\n        required: true,\n        readonly: disabledInput.value,\n        format: 'png,jpg,jpeg',\n      },\n      {\n        fileKindId: 'droneSN',\n        filetype: 'SN二维码(限制1张)',\n        bizId: formState.bizFileId,\n        maxCount: 1,\n        maxSize: 20 * 1024 * 1024,\n        required: true,\n        readonly: disabledInput.value,\n      },\n      {\n        fileKindId: 'droneCivil',\n        filetype: '民航码(限制1张)',\n        bizId: formState.bizFileId,\n        maxCount: 1,\n        maxSize: 20 * 1024 * 1024,\n        required: true,\n        readonly: disabledInput.value,\n      },\n    ];\n  };\n  ////////////表格附件/////////////\n  const imgList = ref([]);\n\n  watch(\n    uploadRows,\n    (val) => {\n      let list = [];\n      if (val.length) {\n        val.forEach((item) => {\n          if (item.filelist?.length) {\n            list.push(...item.filelist);\n          }\n        });\n      }\n      imgList.value = list;\n    },\n    {\n      deep: true,\n    },\n  );\n\n  onMounted(async () => {\n    await initFormState();\n    await initSelectOptions();\n    initTableData();\n    initUploadRows();\n  });\n</script>\n<style lang=\"less\">\n  .theme1 {\n    .img-carousel-box .carousel-dots > li {\n      background-color: rgb(255 255 255 / 8%);\n    }\n  }\n\n  .theme3 {\n    .img-carousel-box .carousel-dots > li {\n      background-color: rgb(0 0 0 / 8%);\n    }\n  }\n</style>\n<style lang=\"less\" scoped>\n  @import '/@/design/biz/bizForm.less';\n\n  .basic-info-form {\n    display: flex;\n\n    .img-carousel-box {\n      width: 25%;\n      padding: 0 16px;\n\n      :deep(.slick-slide) {\n        display: flex;\n        align-items: center;\n        height: 400px;\n      }\n\n      .img-carousel-item {\n        width: 100%;\n        padding-top: 48px;\n\n        & > img {\n          width: 100%;\n        }\n      }\n\n      :deep(.carousel-dots) {\n        bottom: 0;\n      }\n\n      :deep(.carousel-dots > li) {\n        width: 32px;\n        height: 4px;\n        border-radius: 2px;\n\n        button {\n          background-color: transparent;\n        }\n\n        &.slick-active {\n          background-color: #1890ff;\n\n          button {\n            background-color: transparent;\n          }\n        }\n      }\n    }\n  }\n</style>\n"],"names":["stationOptions","ref","t","useI18n","uploadTable","uploadRows","msg","useMessage","query","useRoute","isLoading","formRef","activeKey","formState","reactive","insureFormState","dangerFormState","secondFormState","fileFormState","checkParam","currentEditKeyRef","currentEditRowRef","stationPersonOptions","insuranceDataSource","dangerDataSource","secondDataSource","disabledInput","signInput","modelTitle","insureDialog","dangerDialog","secondDialog","fileDialog","insureFormRef","dangerFormRef","secondFormRef","insureDialogRef","dangerDialogRef","secondDialogRef","tableOption","getUserInfo","useUserStore","secondTableOption","showInsuranceFile","bizFileId","module","insuranceProps","assign","VehicleApi.getDetailColumns","VehicleApi.RecordType","registerInsuranceTable","getInsuranceDataSource","useTable","dangerProps","registerDangerTable","getDangerDataSource","secondProps","registerSecondTable","getSecondDataSource","getSelectRows","handleChangeStation","value","option","handleChangeSecondStation","handleChangeUseStation","getDataSource","type","handleDetailAdd","SysMessage","buildShortUUID","VehicleApi.checkAdd","sendHandler","row","moment","signHandler","VehicleApi.checkEdit","cancel","handleSuccess","data","addRow","item","index","handleDetailEdit","record","handleDetailDelete","__async","VehicleApi.checkDelete","VehicleApi.deleteDetail","createActions","IconEnum","handleCancel","closeCurrentTab","MsgManager","handleSave","result","doSave","error","insureList","dangerList","secondList","formData","toRaw","VehicleApi.saveData","res","VehicleApi.getData","initStationPersonOptions","VehicleApi.getStationPerson","stationPersonTreeSelectOptions","setCustomCompOptions","initFormState","convertArr","initTableData","param","insuranceObj","VehicleApi.getDetailList","dangerObj","secondObj","initSelectOptions","VehicleApi.getStation","suffixs","suffix","initUploadRows","imgList","watch","val","list","_a","onMounted"],"mappings":"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"}