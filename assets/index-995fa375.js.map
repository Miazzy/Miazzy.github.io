{"version":3,"file":"index-995fa375.js","sources":["../../src/views/po/safety/safetyrespagreement/index.vue"],"sourcesContent":["<template>\n  <div>\n    <PageWrapper dense contentFullHeight fixedHeight contentClass=\"flex\" style=\"position: relative\">\n      <!-- 电站组织树 -->\n\n      <CommonTree\n        title=\"电站组织\"\n        @select=\"handleSelect\"\n        :value=\"treeData\"\n        class=\"left-tree-layout\"\n        :toolbar=\"true\"\n        :canEdit=\"false\"\n        :canAdd=\"false\"\n        :canDelete=\"false\"\n        :isShowOperationBtns=\"false\"\n        :fieldNames=\"{ key: 'id', title: 'name' }\"\n      />\n\n      <div class=\"right-table-layout\">\n        <div class=\"tab-button-div\">\n          <a-form\n            :model=\"searchInfo\"\n            name=\"searchInfo\"\n            layout=\"inline\"\n            autocomplete=\"off\"\n            class=\"search-form\"\n          >\n            <a-form-item\n              name=\"billCode\"\n              label=\"单据编号\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false, message: '请输入单据编号' }]\"\n              style=\"width: 26.5%\"\n              :colon=\"false\"\n            >\n              <a-input\n                v-model:value=\"searchInfo.billCode\"\n                placeholder=\"请输入单据编号\"\n                style=\"width: 100%\"\n              />\n            </a-form-item>\n            <a-form-item\n              name=\"signPersonName\"\n              label=\"签订人\"\n              :labelCol=\"{ span: 12 }\"\n              :rules=\"[{ required: false, message: '请输入签订人' }]\"\n              style=\"width: 26.5%\"\n              :colon=\"false\"\n            >\n              <a-input\n                v-model:value=\"searchInfo.signPersonName\"\n                placeholder=\"请输入签订人\"\n                style=\"width: 100%\"\n              />\n            </a-form-item>\n            <a-form-item\n              name=\"isBeOnTheJob\"\n              label=\"是否在职\"\n              :labelCol=\"{ span: 12 }\"\n              :rules=\"[{ required: false, message: '请选择是否在职' }]\"\n              style=\"width: 26.5%\"\n              :colon=\"false\"\n            >\n              <DictSelectBox\n                :type=\"`yes_or_no`\"\n                v-model:value=\"searchInfo.isBeOnTheJob\"\n                :width=\"'100%'\"\n              />\n            </a-form-item>\n            <a-form-item v-if=\"expand\" style=\"width: 100%; height: 10px\" />\n            <a-form-item\n              v-if=\"expand\"\n              name=\"bizStatus\"\n              label=\"业务状态\"\n              :labelCol=\"{ span: 12 }\"\n              :rules=\"[{ required: false, message: '请选择业务状态' }]\"\n              style=\"width: 26.5%\"\n              :colon=\"false\"\n            >\n              <DictSelectBox\n                :type=\"`enable_or_disable`\"\n                v-model:value=\"searchInfo.bizStatus\"\n                :width=\"'100%'\"\n              />\n            </a-form-item>\n            <a-form-item\n              v-if=\"expand\"\n              name=\"searchTime\"\n              label=\"责任期\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false, message: '请选择责任期' }]\"\n              style=\"width: 26.5%\"\n              :colon=\"false\"\n            >\n              <a-range-picker\n                v-model:value=\"searchTimeInfo.searchTime\"\n                format=\"YYYY-MM-DD\"\n                value-format=\"YYYY-MM-DD 00:00:00\"\n                style=\"width: 100%\"\n              />\n            </a-form-item>\n            <a-form-item\n              v-if=\"expand\"\n              name=\"status\"\n              label=\"审批状态\"\n              :labelCol=\"{ span: 20 }\"\n              :rules=\"[{ required: false, message: '请选择审批状态' }]\"\n              style=\"width: 26.5%\"\n              :colon=\"false\"\n            >\n              <DictSelectBox\n                :type=\"`bpm_process_instance_result`\"\n                @change=\"`()=> searchInfo.status = value`\"\n                v-model:value=\"searchInfo.status\"\n                :width=\"'100%'\"\n              />\n            </a-form-item>\n\n            <a-form-item class=\"search-btns\">\n              <a-button style=\"margin: 0 8px\" @click=\"resetFrom\">重置</a-button>\n              <a-button type=\"primary\" class=\"tab-button\" @click=\"searchList\">查询</a-button>\n              <a style=\"margin-left: 12px; font-size: 14px\" @click=\"expandSearch\">\n                <template v-if=\"expand\">\n                  收起\n                  <UpOutlined />\n                </template>\n                <template v-else>\n                  展开\n                  <DownOutlined />\n                </template>\n              </a>\n            </a-form-item>\n          </a-form>\n        </div>\n        <div class=\"tab-table-div\">\n          <BasicTable\n            @register=\"registerTable\"\n            class=\"fix-basic-table\"\n            @resize-column=\"(w, col) => (col.width = w)\"\n            @row-db-click=\"(record) => handleView(record)\"\n          >\n            <template #toolbar>\n              <a-button type=\"primary\" :preIcon=\"IconEnum.ADD\" @click=\"handleCreate\">添加</a-button>\n              <!-- <a-button type=\"primary\" @click=\"handleUpdateIndex\">修改</a-button> -->\n              <!-- <a-popconfirm title=\"确定删除?\" @confirm=\"handleDelete\">\n                <a-button type=\"error\" :disabled=\"selectedRowId == ''\" :preIcon=\"IconEnum.DELETE\">删除</a-button>\n              </a-popconfirm> -->\n              <a-button\n                class=\"red-btn\"\n                :disabled=\"selectedRowId == ''\"\n                :preIcon=\"IconEnum.DELETE\"\n                @click=\"handleDelete\"\n                >删除</a-button\n              >\n              <a-button class=\"yellow-btn\" :preIcon=\"IconEnum.EXPORT\" @click=\"handleExportIndex\"\n                >导出</a-button\n              >\n              <!-- <a-button type=\"primary\" @click=\"handleEnableIndex\">启用</a-button> -->\n              <a-button\n                v-auth=\"`po:safetyRespAgreement:disable`\"\n                class=\"grey-btn\"\n                :preIcon=\"IconEnum.DISABLE\"\n                @click=\"handleDisableIndex\"\n                :disabled=\"selectedRowId == ''\"\n                >禁用</a-button\n              >\n            </template>\n\n            <template #bodyCell=\"{ column, text, record }\">\n              <template v-if=\"column.key === 'action'\">\n                <TableAction\n                  :actions=\"[\n                    {\n                      icon: IconEnum.LOG,\n                      label: '进度',\n                      onClick: handleView.bind(null, record),\n                    },\n                    {\n                      icon: IconEnum.DELETE,\n                      danger: true,\n                      label: '取消',\n                      ifShow: () => {\n                        return record.status == 0;\n                      },\n                      onClick: handleCancel.bind(null, record),\n                    },\n                  ]\"\n                />\n              </template>\n\n              <template v-if=\"column.dataIndex === 'bizStatusText'\">\n                <span style=\"color: #dc0000\" v-if=\"text == '禁用'\">禁用</span>\n                <span style=\"color: #19be6b\" v-if=\"text == '启用'\">启用</span>\n              </template>\n            </template>\n          </BasicTable>\n        </div>\n      </div>\n      <!-- 数据表格 -->\n    </PageWrapper>\n  </div>\n  <!-- <settlemenElecModal @reload=\"handleReload\" @register=\"registerDrawer\" /> -->\n</template>\n<script lang=\"ts\" setup>\n  import type { FormProps } from '/@/components/Form/src/types/form';\n  import { onMounted, reactive, ref, toRaw } from 'vue';\n  import { BasicTable, useTable, TableAction, SorterResult } from '/@/components/Table';\n  import { TreeItem } from '/@/components/Tree';\n  import { PageWrapper } from '/@/components/Page';\n  import CommonTree from '@/components/Framework/Tree/CommonTree.vue';\n  import { message, SelectProps } from 'ant-design-vue';\n  import { jsonToSheetXlsx } from '/@/components/Excel';\n  import DictSelectBox from '@/components/Framework/Combox/DictSelectBox.vue';\n  import {\n    getSafetyRespAgreementList,\n    getTreeData,\n    formState,\n    getIndex,\n    deleteSafetyRespAgreement,\n    getSafetyRespAgreementListColumns,\n    updateStatusIndex,\n    exportExcel,\n  } from './safetyRespAgreement';\n  import { assign } from 'lodash-es';\n  import { useRouter } from 'vue-router';\n  import { useI18n } from '@/hooks/web/useI18n';\n  import { useMessage } from '@/hooks/web/useMessage';\n  import { ElMessageBox } from 'element-plus';\n\n  import { cancelProcessInstance } from '@/api/bpm/processInstance';\n  import { IconEnum } from '@/enums/appEnum';\n  import { addTabPage } from '@/utils/route';\n  import { MsgManager } from '/@/message/MsgManager';\n  import { DownOutlined, UpOutlined } from '@ant-design/icons-vue';\n  import * as ProcessInstanceApi from '@/api/bpm/processInstance';\n  import * as CommonUtil from '/@/utils/common';\n\n  // async function handleExportIndex() {\n  //   createConfirm({\n  //     title: t('common.exportTitle'),\n  //     iconType: 'warning',\n  //     content: t('common.exportMessage'),\n  //     async onOk() {\n  //       await exportExcel(getForm().getFieldsValue());\n  //       createMessage.success(t('common.exportSuccessText'));\n  //     },\n  //   });\n  // }\n  import { useUserStore } from '/@/store/modules/user';\n\n  const expand = ref(false);\n\n  const { createConfirm, createMessage } = useMessage();\n  const { t } = useI18n();\n  const searchTimeInfo = reactive<any>({\n    searchTime: '',\n  }); // 查询信息\n  const searchInfo = reactive<any>({\n    billCode: null,\n    isBeOnTheJob: null,\n    startDate: null,\n    endDate: null,\n    status: null,\n    bizStatus: null,\n    signPersonName: null,\n  }); // 查询信息\n  const treeData = ref<TreeItem[]>([]); // 左侧电站树数据\n  const selectedNode = ref({}); // 被选择的电站节点\n  const periodParam = ref({}); // 查询分期下拉框数据的参数\n\n  const checkedKeys = ref<Array<string | number>>([]); // 复选框的选择的数据\n  const options = ref<SelectProps['options']>([]); //电站分期事故\n  const areaColumn = getSafetyRespAgreementListColumns(options);\n  const router = useRouter();\n  let partyDatasArr = ref<SelectProps['options']>([\n    { label: '草稿', value: '0' },\n    { label: '处理中', value: '1' },\n    { label: '通过', value: '2' },\n    { label: '不通过', value: '3' },\n    { label: '已取消', value: '4' },\n    { label: '已终止', value: '5' },\n    { label: '退回', value: '6' },\n  ]);\n  const indexList = ref<Array<any>>([]);\n  const getSafetyRespAgreementListByParam = async () => {\n    // if (searchInfo.searchId == null) {\n    //   return [];\n    // }\n\n    let areaList = await getSafetyRespAgreementList(searchInfo);\n    indexList.value = areaList.result;\n    return areaList.result;\n  };\n  const searchForm: FormProps = {\n    baseColProps: { lg: 6, md: 8 },\n    labelWidth: 90,\n    schemas: [],\n  };\n\n  function expandSearch() {\n    redoHeight();\n    expand.value = !expand.value;\n  }\n  const [registerTable, { reload, getPaginationRef, getForm, redoHeight }] = useTable({\n    title: '安全责任书列表',\n    api: async () => {\n      const paginationRef = getPaginationRef() as any;\n      searchInfo.pageNo = paginationRef.current;\n      searchInfo.pageSize = paginationRef.pageSize;\n      let dataObj = await getSafetyRespAgreementListByParam();\n      return dataObj;\n    },\n    columns: areaColumn,\n    useSearchForm: false,\n    formConfig: searchForm,\n    showTableSetting: true,\n    bordered: true,\n    // eslint-disable-next-line no-dupe-keys\n    rowKey: 'id',\n    // actionColumn: {\n    //   width: 160,\n    //   title: '操作',\n    //   dataIndex: 'action',\n    // },\n    rowSelection: {\n      type: 'radio',\n      onChange: onSelect,\n    },\n\n    handleSearchInfoFn(info) {\n      searchInfo.status = info.status;\n      searchInfo.isBeOnTheJob = info.isBeOnTheJob;\n      searchInfo.bizStatus = info.bizStatus;\n      searchInfo.signPersonName = info.signPersonName;\n      return info;\n    },\n    sortFn: (sortInfo: SorterResult) => {\n      if (sortInfo.order) {\n        searchInfo.sortField = sortInfo.field;\n        searchInfo.sortOrder = sortInfo.order.replace('end', '');\n      } else {\n        searchInfo.sortField = null;\n        searchInfo.sortOrder = null;\n      }\n    },\n  });\n  let selectedRowId = ref('');\n\n  function onSelect(record, selected) {\n    if (selected.length > 0) {\n      checkedKeys.value = [record[0]];\n      selectedRowId.value = record[0];\n    } else {\n      checkedKeys.value = [];\n      selectedRowId.value = '';\n    }\n  }\n  function onSelectAll(selected, selectedRows, changeRows) {\n    const changeIds = changeRows.map((item) => item.id);\n    if (selected) {\n      checkedKeys.value = [...checkedKeys.value, ...changeIds];\n    } else {\n      checkedKeys.value = checkedKeys.value.filter((id) => {\n        return !changeIds.includes(id);\n      });\n    }\n  }\n\n  // 查询左侧电站树数据\n  async function queryDeptTreeList() {\n    const deptList = (await getTreeData({})) as unknown as TreeItem[];\n    treeData.value = deptList.result;\n    // let org = deptList.result[0];\n    // searchInfo.nodeKindId = org.nodeKindId;\n    // searchInfo.searchId = org.id;\n    reload();\n  }\n  // 添加区域\n  function handleCreate() {\n    formState.id = '';\n    formState.signPersonId = '';\n    formState.signPersonName = '';\n    formState.signDate = '';\n    formState.startDate = '';\n    formState.endDate = '';\n    formState.content = '';\n\n    if (searchInfo.stationId == null) {\n      message.error('请先选择电站。');\n      return;\n    }\n    if (searchInfo.nodeKindId == 'station') {\n      getOptions();\n    }\n\n    // opensettlemenElecModal(true);\n    // router.push(`/po/safetyRespAgreement/create`);\n    addTabPage(`/po/safetyRespAgreement/create`, '添加安全责任书', toRaw(formState));\n  }\n  function handleView(record: any) {\n    let str = '';\n    if (record.status == 0) {\n      str = '修改';\n    } else if (record.status == 1) {\n      str = '审批';\n    } else {\n      str = '查看';\n    }\n    CommonUtil.toFlowPage(record.id);\n    // addTabPage(`/po/safetyRespAgreement/detail?id=${record.id}`, str + '安全责任书');\n  }\n\n  const handleCancel = async (record: any) => {\n    const res = await getIndex({ id: record.id });\n    const { value } = await ElMessageBox.prompt('请输入取消原因', '取消流程', {\n      confirmButtonText: t('common.okText'),\n      cancelButtonText: t('common.cancelText'),\n      inputPattern: /^[\\s\\S]*.*\\S[\\s\\S]*$/,\n      inputErrorMessage: '取消原因不能为空',\n    });\n    // 发起取消\n    await cancelProcessInstance(res.result.processInstanceId, value);\n    message.success('已取消');\n    reload();\n  };\n  // 删除区域\n  async function handleDelete() {\n    console.log(checkedKeys.value);\n    if (checkedKeys.value.length != 1) {\n      message.info('请选择一条数据.');\n      return false;\n    }\n    const res = await getIndex({ id: checkedKeys.value[0] });\n\n    createConfirm({\n      title: '提示',\n      iconType: 'warning',\n      content: '确定要删除选中记录？',\n      async onOk() {\n        if (res.result.status != 0) {\n          message.error('非草稿状态不能删除。');\n          return;\n        }\n        await ProcessInstanceApi.deleteProcessInstance(res.result.processInstanceId);\n        message.success('已删除。');\n        checkedKeys.value = [];\n        reload();\n      },\n    });\n  }\n  function resetFrom() {\n    searchInfo.billCode = null;\n    searchInfo.isBeOnTheJob = null;\n    searchInfo.startDate = null;\n    searchInfo.endDate = null;\n    searchInfo.status = null;\n    searchInfo.bizStatus = null;\n    searchInfo.signPersonName = null;\n    searchTimeInfo.searchTime = null;\n    reload();\n  }\n\n  // 查询\n  function searchList() {\n    if (searchTimeInfo.searchTime != null) {\n      searchInfo.startDate = searchTimeInfo.searchTime[0];\n      searchInfo.endDate = searchTimeInfo.searchTime[1];\n    }\n    reload();\n  }\n\n  // 根据电站id获取分期信息\n  function getOptions() {\n    let param = { stationId: periodParam.value.stationId };\n    // let param = { stationId: '0E012356294F4AC2B81315E1F81BEBB9' };\n  }\n  // 左侧树状菜单选中事件\n  function handleSelect(node = {}) {\n    searchInfo.stationId = null;\n    searchInfo.stationName = null;\n    searchInfo.stationOrganId = null;\n    searchInfo.stationOrganName = null;\n    searchInfo.searchId = null;\n    searchInfo.nodeKindId = null;\n    if (node != null) {\n      searchInfo.stationOrganId = node.organId;\n      searchInfo.stationOrganName = node.organName;\n\n      if (node.nodeKindId == 'station') {\n        searchInfo.stationId = node.powerStationId;\n        searchInfo.stationName = node.name;\n\n        formState.stationId = searchInfo.stationId;\n        formState.stationName = searchInfo.stationName;\n        formState.stationOrganId = searchInfo.stationOrganId;\n        formState.stationOrganName = searchInfo.stationOrganName;\n      }\n\n      searchInfo.nodeKindId = node.nodeKindId;\n      searchInfo.searchId = node.id;\n    }\n\n    reload();\n  }\n\n  function checkSelectData() {\n    if (checkedKeys.value.length == 0 || checkedKeys.value.length > 1 || !checkedKeys.value['0']) {\n      message.error('请选择一行数据');\n      return false;\n    }\n    return true;\n  }\n\n  // 启用安全责任书\n  function handleEnableIndex() {\n    if (!checkSelectData()) {\n      return;\n    }\n    const params = '?id=' + checkedKeys.value['0'] + '&bizStatus=1';\n    updateStatusIndex(params).then(() => {\n      message.success('已启用');\n      reload();\n    });\n  }\n\n  // 禁用安全责任书\n  function handleDisableIndex() {\n    if (!checkSelectData()) {\n      return;\n    }\n    const params = '?id=' + checkedKeys.value['0'] + '&bizStatus=0';\n    updateStatusIndex(params).then(() => {\n      message.success('已禁用');\n      reload();\n    });\n  }\n  // 导出\n  async function handleExportIndex() {\n    createConfirm({\n      title: '导出',\n      iconType: 'warning',\n      content: '确定要导出所有记录？',\n      async onOk() {\n        const header = ref({ index: '序号' });\n        const indexColumns = getSafetyRespAgreementListColumns();\n        const data = ref<Array<any>>([]);\n        const keys = ref<Array<any>>([]);\n        indexColumns.forEach((column) => {\n          if (!(column.dataIndex === 'id')) {\n            if (column.dataIndex === 'stationOrganName' && useUserStore().isMultiOrganization) {\n              header.value[column.dataIndex] = column.title;\n              keys.value.push(column.dataIndex);\n            } else if (!(column.dataIndex === 'stationOrganName')) {\n              header.value[column.dataIndex] = column.title;\n              keys.value.push(column.dataIndex);\n            }\n          }\n        });\n\n        let areaList = await exportExcel(searchInfo);\n        indexList.value = areaList.result;\n        debugger;\n        indexList.value.forEach(function (item, index) {\n          let statusDisplayName = '';\n          let displayName = '';\n          switch (item.status) {\n            case 0:\n              statusDisplayName = '草稿';\n              break;\n            case 1:\n              statusDisplayName = '处理中';\n              break;\n            case 2:\n              statusDisplayName = '通过';\n              break;\n            case 3:\n              statusDisplayName = '不通过';\n              break;\n            case 4:\n              statusDisplayName = '已取消';\n              break;\n            case 5:\n              statusDisplayName = '已终止';\n              break;\n            case 6:\n              statusDisplayName = '退回/驳回';\n              break;\n          }\n\n          let exportItem = ref({ index: index + 1 });\n          keys.value.forEach((key) => {\n            if (key === 'status') {\n              exportItem.value[key] = key === 'status' ? statusDisplayName : item[key];\n            } else {\n              exportItem.value[key] = item[key];\n            }\n          });\n          data.value.push(exportItem.value);\n        });\n        jsonToSheetXlsx({\n          data: data.value,\n          header: header.value,\n          filename: '安全责任书.xlsx',\n        });\n      },\n    });\n  }\n\n  // 启动执行代码\n  onMounted(() => {\n    queryDeptTreeList();\n    MsgManager.getInstance().listen('safetyRespAgreement', function () {\n      setTimeout(() => {\n        reload();\n      }, 500);\n    });\n  });\n</script>\n<style lang=\"less\" scoped>\n  .dialog-loading {\n    position: absolute;\n    z-index: 1000 !important;\n    top: 45%;\n    left: 45%;\n  }\n\n  .tab-model {\n    margin-top: 10px;\n    margin-right: 10px;\n    margin-left: 10px;\n  }\n\n  .tab-button-div {\n    padding-top: 12px;\n    padding-bottom: 12px;\n\n    :deep(.ant-form-item-label) {\n      width: 120px;\n      max-width: 120px;\n      text-align-last: right;\n    }\n  }\n\n  .tab-table-div {\n    margin-top: 10px;\n\n    :deep(.ant-table-placeholder) {\n      height: 591px;\n    }\n  }\n\n  .tab-button {\n    margin-right: 5px;\n\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n\n  .dialog-mask {\n    position: absolute;\n    z-index: 1001 !important;\n    top: -1px;\n    width: 100%;\n    height: 100%;\n    opacity: 0.3;\n  }\n\n  .search-form {\n    position: relative;\n\n    .search-btns {\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n    }\n  }\n\n  .left-tree-layout {\n    flex-shrink: 0;\n    width: 298px;\n    border-radius: 2px;\n  }\n\n  .right-table-layout {\n    width: calc(100% - 308px);\n    padding: 10px;\n  }\n\n  .fix-basic-table {\n    :deep(&.vben-basic-table .ant-table-wrapper) {\n      padding: 10px 16px 12px;\n    }\n\n    :deep(.table-settings) {\n      margin-right: 0;\n    }\n\n    :deep(.table-settings .anticon-setting) {\n      margin-right: 0;\n    }\n  }\n</style>\n"],"names":["expand","ref","createConfirm","createMessage","useMessage","t","useI18n","searchTimeInfo","reactive","searchInfo","treeData","periodParam","checkedKeys","areaColumn","getSafetyRespAgreementListColumns","useRouter","indexList","getSafetyRespAgreementListByParam","__async","areaList","getSafetyRespAgreementList","searchForm","expandSearch","redoHeight","registerTable","reload","getPaginationRef","getForm","useTable","paginationRef","onSelect","info","sortInfo","selectedRowId","record","selected","queryDeptTreeList","deptList","getTreeData","handleCreate","formState","message","getOptions","addTabPage","toRaw","handleView","CommonUtil.toFlowPage","handleCancel","res","getIndex","value","ElMessageBox","cancelProcessInstance","handleDelete","ProcessInstanceApi.deleteProcessInstance","resetFrom","searchList","handleSelect","node","checkSelectData","handleDisableIndex","params","updateStatusIndex","handleExportIndex","header","indexColumns","data","keys","column","useUserStore","exportExcel","item","index","statusDisplayName","exportItem","key","jsonToSheetXlsx","onMounted","MsgManager"],"mappings":"oyDA0PQ,MAAAA,EAASC,EAAI,EAAK,EAElB,CAAE,cAAAC,EAAe,cAAAC,CAAc,EAAIC,GAAW,EAC9C,CAAE,EAAAC,GAAMC,KACRC,EAAiBC,EAAc,CACnC,WAAY,EAAA,CACb,EACKC,EAAaD,EAAc,CAC/B,SAAU,KACV,aAAc,KACd,UAAW,KACX,QAAS,KACT,OAAQ,KACR,UAAW,KACX,eAAgB,IAAA,CACjB,EACKE,EAAWT,EAAgB,CAAA,CAAE,EACdA,EAAI,CAAA,CAAE,EACrB,MAAAU,EAAcV,EAAI,CAAA,CAAE,EAEpBW,EAAcX,EAA4B,CAAA,CAAE,EAClCA,EAA4B,CAAA,CAAE,EACxC,MAAAY,EAAaC,EAAyC,EAC7CC,GAAU,EACLd,EAA4B,CAC9C,CAAE,MAAO,KAAM,MAAO,GAAI,EAC1B,CAAE,MAAO,MAAO,MAAO,GAAI,EAC3B,CAAE,MAAO,KAAM,MAAO,GAAI,EAC1B,CAAE,MAAO,MAAO,MAAO,GAAI,EAC3B,CAAE,MAAO,MAAO,MAAO,GAAI,EAC3B,CAAE,MAAO,MAAO,MAAO,GAAI,EAC3B,CAAE,MAAO,KAAM,MAAO,GAAI,CAAA,CAC3B,EACK,MAAAe,EAAYf,EAAgB,CAAA,CAAE,EAC9BgB,EAAoC,IAAYC,EAAA,sBAKhD,IAAAC,EAAW,MAAMC,GAA2BX,CAAU,EAC1D,OAAAO,EAAU,MAAQG,EAAS,OACpBA,EAAS,MAAA,GAEZE,EAAwB,CAC5B,aAAc,CAAE,GAAI,EAAG,GAAI,CAAE,EAC7B,WAAY,GACZ,QAAS,CAAC,CAAA,EAGZ,SAASC,GAAe,CACXC,IACJvB,EAAA,MAAQ,CAACA,EAAO,KACzB,CACM,KAAA,CAACwB,EAAe,CAAE,OAAAC,EAAQ,iBAAAC,EAAkB,QAAAC,GAAS,WAAAJ,CAAA,CAAY,EAAIK,GAAS,CAClF,MAAO,UACP,IAAK,IAAYV,EAAA,sBACf,MAAMW,EAAgBH,IACtB,OAAAjB,EAAW,OAASoB,EAAc,QAClCpB,EAAW,SAAWoB,EAAc,SACtB,MAAMZ,GAEtB,GACA,QAASJ,EACT,cAAe,GACf,WAAYQ,EACZ,iBAAkB,GAClB,SAAU,GAEV,OAAQ,KAMR,aAAc,CACZ,KAAM,QACN,SAAUS,CACZ,EAEA,mBAAmBC,EAAM,CACvB,OAAAtB,EAAW,OAASsB,EAAK,OACzBtB,EAAW,aAAesB,EAAK,aAC/BtB,EAAW,UAAYsB,EAAK,UAC5BtB,EAAW,eAAiBsB,EAAK,eAC1BA,CACT,EACA,OAASC,GAA2B,CAC9BA,EAAS,OACXvB,EAAW,UAAYuB,EAAS,MAChCvB,EAAW,UAAYuB,EAAS,MAAM,QAAQ,MAAO,EAAE,IAEvDvB,EAAW,UAAY,KACvBA,EAAW,UAAY,KAE3B,CAAA,CACD,EACG,IAAAwB,EAAgBhC,EAAI,EAAE,EAEjB,SAAA6B,EAASI,EAAQC,EAAU,CAC9BA,EAAS,OAAS,GACpBvB,EAAY,MAAQ,CAACsB,EAAO,CAAC,CAAC,EAChBD,EAAA,MAAQC,EAAO,CAAC,IAE9BtB,EAAY,MAAQ,GACpBqB,EAAc,MAAQ,GAE1B,CAaA,SAAeG,GAAoB,QAAAlB,EAAA,sBACjC,MAAMmB,EAAY,MAAMC,GAAY,CAAA,CAAE,EACtC5B,EAAS,MAAQ2B,EAAS,OAInBZ,GACT,GAEA,SAASc,IAAe,CASlB,GARJC,EAAU,GAAK,GACfA,EAAU,aAAe,GACzBA,EAAU,eAAiB,GAC3BA,EAAU,SAAW,GACrBA,EAAU,UAAY,GACtBA,EAAU,QAAU,GACpBA,EAAU,QAAU,GAEhB/B,EAAW,WAAa,KAAM,CAChCgC,EAAQ,MAAM,SAAS,EACvB,MACF,CACIhC,EAAW,YAAc,WAChBiC,KAKbC,GAAW,iCAAkC,UAAWC,GAAMJ,CAAS,CAAC,CAC1E,CACA,SAASK,EAAWX,EAAa,CAE3BA,EAAO,QAAU,GAEVA,EAAO,QAAU,EAKjBY,GAAWZ,EAAO,EAAE,CAEjC,CAEM,MAAAa,GAAsBb,GAAgBhB,EAAA,sBAC1C,MAAM8B,EAAM,MAAMC,EAAS,CAAE,GAAIf,EAAO,GAAI,EACtC,CAAE,MAAAgB,CAAM,EAAI,MAAMC,GAAa,OAAO,UAAW,OAAQ,CAC7D,kBAAmB9C,EAAE,eAAe,EACpC,iBAAkBA,EAAE,mBAAmB,EACvC,aAAc,uBACd,kBAAmB,UAAA,CACpB,EAED,MAAM+C,GAAsBJ,EAAI,OAAO,kBAAmBE,CAAK,EAC/DT,EAAQ,QAAQ,KAAK,EACdhB,GAAA,GAGT,SAAe4B,IAAe,QAAAnC,EAAA,sBAExB,GADI,QAAA,IAAIN,EAAY,KAAK,EACzBA,EAAY,MAAM,QAAU,EAC9B,OAAA6B,EAAQ,KAAK,UAAU,EAChB,GAEH,MAAAO,EAAM,MAAMC,EAAS,CAAE,GAAIrC,EAAY,MAAM,CAAC,CAAA,CAAG,EAEzCV,EAAA,CACZ,MAAO,KACP,SAAU,UACV,QAAS,aACH,MAAO,QAAAgB,EAAA,sBACP,GAAA8B,EAAI,OAAO,QAAU,EAAG,CAC1BP,EAAQ,MAAM,YAAY,EAC1B,MACF,CACA,MAAMa,GAAyCN,EAAI,OAAO,iBAAiB,EAC3EP,EAAQ,QAAQ,MAAM,EACtB7B,EAAY,MAAQ,GACba,GACT,GAAA,CACD,CACH,GACA,SAAS8B,IAAY,CACnB9C,EAAW,SAAW,KACtBA,EAAW,aAAe,KAC1BA,EAAW,UAAY,KACvBA,EAAW,QAAU,KACrBA,EAAW,OAAS,KACpBA,EAAW,UAAY,KACvBA,EAAW,eAAiB,KAC5BF,EAAe,WAAa,KACrBkB,GACT,CAGA,SAAS+B,IAAa,CAChBjD,EAAe,YAAc,OACpBE,EAAA,UAAYF,EAAe,WAAW,CAAC,EACvCE,EAAA,QAAUF,EAAe,WAAW,CAAC,GAE3CkB,GACT,CAGA,SAASiB,IAAa,CACK/B,EAAY,MAAM,SAE7C,CAES,SAAA8C,GAAaC,EAAO,GAAI,CAC/BjD,EAAW,UAAY,KACvBA,EAAW,YAAc,KACzBA,EAAW,eAAiB,KAC5BA,EAAW,iBAAmB,KAC9BA,EAAW,SAAW,KACtBA,EAAW,WAAa,KACpBiD,GAAQ,OACVjD,EAAW,eAAiBiD,EAAK,QACjCjD,EAAW,iBAAmBiD,EAAK,UAE/BA,EAAK,YAAc,YACrBjD,EAAW,UAAYiD,EAAK,eAC5BjD,EAAW,YAAciD,EAAK,KAE9BlB,EAAU,UAAY/B,EAAW,UACjC+B,EAAU,YAAc/B,EAAW,YACnC+B,EAAU,eAAiB/B,EAAW,eACtC+B,EAAU,iBAAmB/B,EAAW,kBAG1CA,EAAW,WAAaiD,EAAK,WAC7BjD,EAAW,SAAWiD,EAAK,IAGtBjC,GACT,CAEA,SAASkC,IAAkB,CACzB,OAAI/C,EAAY,MAAM,QAAU,GAAKA,EAAY,MAAM,OAAS,GAAK,CAACA,EAAY,MAAM,CAAG,GACzF6B,EAAQ,MAAM,SAAS,EAChB,IAEF,EACT,CAeA,SAASmB,IAAqB,CACxB,GAAA,CAACD,KACH,OAEF,MAAME,EAAS,OAASjD,EAAY,MAAM,CAAG,EAAI,eAC/BkD,GAAAD,CAAM,EAAE,KAAK,IAAM,CACnCpB,EAAQ,QAAQ,KAAK,EACdhB,GAAA,CACR,CACH,CAEA,SAAesC,IAAoB,QAAA7C,EAAA,sBACnBhB,EAAA,CACZ,MAAO,KACP,SAAU,UACV,QAAS,aACH,MAAO,QAAAgB,EAAA,sBACX,MAAM8C,EAAS/D,EAAI,CAAE,MAAO,IAAM,CAAA,EAC5BgE,EAAenD,IACfoD,EAAOjE,EAAgB,CAAA,CAAE,EACzBkE,EAAOlE,EAAgB,CAAA,CAAE,EAClBgE,EAAA,QAASG,GAAW,CACzBA,EAAO,YAAc,OACrBA,EAAO,YAAc,oBAAsBC,GAAA,EAAe,qBAGjDD,EAAO,YAAc,sBAChCJ,EAAO,MAAMI,EAAO,SAAS,EAAIA,EAAO,MACnCD,EAAA,MAAM,KAAKC,EAAO,SAAS,EAEpC,CACD,EAEG,IAAAjD,EAAW,MAAMmD,GAAY7D,CAAU,EAC3CO,EAAU,MAAQG,EAAS,OAC3B,SACAH,EAAU,MAAM,QAAQ,SAAUuD,EAAMC,EAAO,CAC7C,IAAIC,EAAoB,GAExB,OAAQF,EAAK,OAAQ,CACnB,IAAK,GACiBE,EAAA,KACpB,MACF,IAAK,GACiBA,EAAA,MACpB,MACF,IAAK,GACiBA,EAAA,KACpB,MACF,IAAK,GACiBA,EAAA,MACpB,MACF,IAAK,GACiBA,EAAA,MACpB,MACF,IAAK,GACiBA,EAAA,MACpB,MACF,IAAK,GACiBA,EAAA,QACpB,KACJ,CAEA,IAAIC,EAAazE,EAAI,CAAE,MAAOuE,EAAQ,EAAG,EACpCL,EAAA,MAAM,QAASQ,GAAQ,CACtBA,IAAQ,SACVD,EAAW,MAAMC,CAAG,EAAIA,IAAQ,SAAWF,EAAoBF,EAAKI,CAAG,EAEvED,EAAW,MAAMC,CAAG,EAAIJ,EAAKI,CAAG,CAClC,CACD,EACIT,EAAA,MAAM,KAAKQ,EAAW,KAAK,CAAA,CACjC,EACeE,GAAA,CACd,KAAMV,EAAK,MACX,OAAQF,EAAO,MACf,SAAU,YAAA,CACX,CACH,GAAA,CACD,CACH,GAGA,OAAAa,GAAU,IAAM,CACIzC,IAClB0C,GAAW,YAAY,EAAE,OAAO,sBAAuB,UAAY,CACjE,WAAW,IAAM,CACRrD,KACN,GAAG,CAAA,CACP,CAAA,CACF"}