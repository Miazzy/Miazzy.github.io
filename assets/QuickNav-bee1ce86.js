var p=(k,o,s)=>new Promise((C,u)=>{var d=n=>{try{r(s.next(n))}catch(c){u(c)}},b=n=>{try{r(s.throw(n))}catch(c){u(c)}},r=n=>n.done?C(n.value):Promise.resolve(n.value).then(d,b);r((s=s.apply(k,o)).next())});import{I as F,bC as z,ax as A,_ as Q}from"./index.js";import{D as $}from"./DataSelectDialog-f9d1c1a8.js";import{d as q,e as L,f as P,h as R}from"./data-70d59c19.js";import{d as U,k as h,r as V,o as K,al as x,Z as m,_ as v,f as _,aa as B,$ as g,F as D,ae as w,a6 as O,ad as W}from"./vue-71d1abb3.js";import{a2 as Z}from"./antd-15ac76ed.js";import"./Dialog-0a006d82.js";const j={class:"card-content"},G={class:"nav-item-container"},H=["onClick"],J={class:"nav-label"},X=U({__name:"QuickNav",setup(k){const o=h(!1),s=h(),C=h([{title:"所属模块",dataIndex:"",customRender:({record:e})=>e.parent_node.label},{title:"功能名称",dataIndex:"title"}]),u=h([]),d=V({menuBoardDetail:[]}),b=["#FBCC5A","#3FD3A6","#F28E27","#38BBFE","#4799F5","#F57C47","#6880FA","#58DD96","#4799F5","#379EFF"];K(()=>p(this,null,function*(){r()}));const r=()=>p(this,null,function*(){yield q().then(e=>{e&&(u.value=e)}),yield L().then(e=>{e&&(d.menuBoardDetail=[],e.forEach(a=>{d.menuBoardDetail.push({value:a.parentId,label:a.name,parentId:a.parentId,name:a.name,icon:a.icon,url:a.url})}))})}),n=()=>p(this,null,function*(){const e=yield R({});s.value=c(e.result,!0)});function c(e,a){const l=[];for(let i=0;i<e.length;i++){const t=e[i];if(t.openWindowModel=="hidden")continue;const f={label:t.name,value:t.id,parentId:t.parentId,disabled:a?t.nodeKind!="fun":!1};t.children&&t.children.length>0&&(f.children=c(t.children,a)),l.push(f)}return l}const M=()=>{z(),o.value=!0,n()},E=()=>{o.value=!1},N=(e,a)=>{o.value=!1;let l=[];e&&e.length>0&&e.forEach(i=>{l.push({menuId:i.value})}),P(l).then(()=>{Z.success("操作成功"),r()})},S=e=>{console.log(e)},T=e=>{A(e.url,e.label)};return(e,a)=>{const l=x("a-carousel"),i=x("a-card");return m(),v(D,null,[_(i,{style:{height:"326px"},title:"快捷导航",bordered:!1},{extra:B(()=>[_(F,{icon:"ion:settings-outline",size:17,onClick:a[0]||(a[0]=t=>M())})]),default:B(()=>[g("div",j,[_(l,{"after-change":S,dotsClass:"carousel-dots"},{default:B(()=>[(m(!0),v(D,null,w(u.value,(t,f)=>(m(),v("div",{class:"nav-page",key:f},[g("div",G,[(m(!0),v(D,null,w(t,(y,I)=>(m(),v("div",{class:"nav-item",key:I,onClick:Y=>T(y)},[g("div",{class:"nav-icon-box",style:O({backgroundColor:b[I]})},[_(F,{icon:y.icon||"ion:logo-windows",size:32},null,8,["icon"])],4),g("div",J,W(y.name),1)],8,H))),128))])]))),128))]),_:1})])]),_:1}),_($,{title:"快捷导航设置",visible:o.value,"onUpdate:visible":a[1]||(a[1]=t=>o.value=t),value:d.menuBoardDetail,tdata:s.value,tfields:{key:"value",title:"label"},width:800,height:600,scolumns:C.value,onCancel:E,onConfirm:N,max:30},null,8,["visible","value","tdata","scolumns"])],64)}}});const ie=Q(X,[["__scopeId","data-v-6c19590e"]]);export{ie as default};
//# sourceMappingURL=QuickNav-bee1ce86.js.map
