{"version":3,"file":"create-ffcac15b.js","sources":["../../src/views/oa/info/infonotice/create.ts","../../src/views/oa/info/infonotice/create.vue"],"sourcesContent":["import { defHttp } from '@/utils/http/axios';\n\nenum Api {\n  //查询\n  getData = '/oa/info-notice-release/get',\n  createData = '/oa/info-notice-release/create',\n  getOrgTree = '/system/org/list-tree',\n  getInfoKind = '/oa/infoKind/getInfoKindByCodePreAndOrgId',\n  readStr = '/oa/info-query/read',\n \n}\n\n// 查询\nexport function getData(params) {\n  return defHttp.get({ url: Api.getData, params });\n}\nexport function createData(params) {\n  return defHttp.post({ url: Api.createData, params });\n}\n\nexport function getOrgTree(params) {\n  return defHttp.post({ url: Api.getOrgTree, params });\n}\nexport function getInfoKind(params) {\n  return defHttp.get({ url: Api.getInfoKind, params });\n}\nexport function sendRead(params) {\n  return defHttp.post({ url: Api.readStr, params });\n}\n","<template>\n  <PageWrapper dense contentFullHeight fixedHeight  contentClass=\"flex\" style=\"position: relative\">\n    <div class=\"load\">\n      <a-spin :spinning=\"formState.spinning\" tip=\"Loading...\">\n        <div class=\"process-box\">\n          <div class=\"header-box\">\n            <BillTitle :options=\"billTitleOptions\" />\n            <WfApproveBox\n              @agree=\"flowOption.handleAgree\"\n              @save=\"flowOption.handleSave\"\n              @submit=\"flowOption.handleSubmit\"\n              :processInstanceId=\"processInstanceId\"\n              :processStatus=\"formState.status\"\n              :listenMessage=\"`info-notice`\"\n            />\n            <!-- <PrintButton style=\"margin-left: 10px\" v-if=\"formState.status === 2\" /> -->\n          </div>\n          <div class=\"content\" v-global-disabled=\"isReadOnly\">\n            <a-form\n              :model=\"formState\"\n              name=\"basic\"\n              ref=\"formRef\"\n              :label-col=\"{ span: 4 }\"\n              :wrapper-col=\"{ span: 20 }\"\n              autocomplete=\"off\"\n              @finish=\"onFinish\"\n            >\n              <a-card title=\"基本信息\" :bordered=\"false\">\n                <a-row :gutter=\"24\">\n                  <a-col :span=\"12\" v-if=\"useUserStore().isMultiOrganization\">\n                    <a-form-item\n                      label=\"所在公司\"\n                      name=\"infoKindId\"\n                      :labelCol=\"{ span: 4 }\"\n                      :wrapperCol=\"7\"\n                      :rules=\"[{ required: false }]\"\n                    >\n                      <a-input v-model:value=\"formState.organName\" disabled=\"true\" />\n                    </a-form-item>\n                  </a-col>\n                  <a-col :span=\"12\">\n                    <a-form-item\n                      label=\"所在部门\"\n                      name=\"deptName\"\n                      :labelCol=\"{ span: 4 }\"\n                      :wrapperCol=\"7\"\n                      :rules=\"[{ required: false }]\"\n                    >\n                      <a-input v-model:value=\"formState.deptName\" disabled=\"true\" />\n                    </a-form-item>\n                  </a-col>\n                  <a-col :span=\"12\">\n                    <a-form-item\n                      label=\"发起人\"\n                      name=\"personMemberName\"\n                      :labelCol=\"{ span: 4 }\"\n                      :wrapperCol=\"7\"\n                      :rules=\"[{ required: false }]\"\n                    >\n                      <a-input v-model:value=\"formState.personMemberName\" disabled=\"true\" />\n                    </a-form-item>\n                  </a-col>\n                  <a-col :span=\"12\">\n                    <a-form-item\n                      label=\"信息类型\"\n                      name=\"infoKindId\"\n                      :labelCol=\"{ span: 4 }\"\n                      :wrapperCol=\"7\"\n                      :rules=\"[{ required: true, message: '信息类型不能为空' }]\"\n                    >\n                      <a-select\n                        v-model:value=\"formState.infoKindId\"\n                        allow-clear\n                        :options=\"infoKinds\"\n                        :disabled=\"disabledInput\"\n                        @change=\"changeInfoKind\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col :span=\"12\">\n                    <a-form-item\n                      label=\"是否允许下载\"\n                      name=\"isAllowDownloadFile\"\n                      :labelCol=\"{ span: 4 }\"\n                      :wrapperCol=\"7\"\n                      :rules=\"[{ required: true, message: '是否允许下载不能为空' }]\"\n                    >\n                      <DictSelectBox\n                        v-model:value=\"formState.isAllowDownloadFile\"\n                        :type=\"`yes_or_no`\"\n                        :disabled=\"disabledInput\"\n                        :style=\"`width: 100%`\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col :span=\"12\">\n                    <a-form-item\n                      label=\"是否允许抄送\"\n                      name=\"isAllowCopy\"\n                      :labelCol=\"{ span: 4 }\"\n                      :wrapperCol=\"7\"\n                      :rules=\"[{ required: true, message: '是否允许抄送不能为空' }]\"\n                    >\n                      <DictSelectBox\n                        v-model:value=\"formState.isAllowCopy\"\n                        :type=\"`yes_or_no`\"\n                        :disabled=\"disabledInput\"\n                        :style=\"`width: 100%`\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col :span=\"24\">\n                    <a-form-item\n                      label=\"接收范围\"\n                      name=\"receiver\"\n                      :labelCol=\"{ span: 2 }\"\n                      :wrapperCol=\"7\"\n                      :rules=\"[{ required: true, message: '接收范围不能为空' }]\"\n                    >\n                      <div v-if=\"!disabledInput\" :style=\"{ float: 'left', width: '10%' }\">\n                        <a-button type=\"link\" @click=\"openReceiver\">选择</a-button>\n                        <a-button type=\"link\" @click=\"cleanReceiver\">清空</a-button>\n                      </div>\n                      <a-input\n                        v-model:value=\"formState.receiverName\"\n                        disabled=\"true\"\n                        :style=\"{ width: !disabledInput ? '90%' : '100%' }\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col :span=\"24\">\n                    <a-form-item\n                      label=\"审批人\"\n                      name=\"handler\"\n                      :labelCol=\"{ span: 2 }\"\n                      :wrapperCol=\"7\"\n                      :rules=\"[{ required: true, message: '审批人不能为空' }]\"\n                    >\n                      <div v-if=\"!disabledInput\" :style=\"{ float: 'left', width: '10%' }\">\n                        <a-button type=\"link\" @click=\"openHandler\">选择</a-button>\n                        <a-button type=\"link\" @click=\"cleanHandler\">清空</a-button>\n                      </div>\n                      <a-input\n                        v-model:value=\"formState.handlerName\"\n                        disabled=\"true\"\n                        :style=\"{ width: !disabledInput ? '90%' : '100%' }\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col :span=\"24\">\n                    <a-form-item\n                      label=\"通知主题\"\n                      name=\"subject\"\n                      :labelCol=\"{ span: 2 }\"\n                      :wrapperCol=\"7\"\n                      :rules=\"[{ required: true, message: '通知主题不能为空' }]\"\n                    >\n                      <a-input\n                        v-model:value=\"formState.subject\"\n                        :disabled=\"disabledInput\"\n                        maxlength=\"128\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col :span=\"24\">\n                    <a-form-item\n                      label=\"说明\"\n                      name=\"remarks\"\n                      :labelCol=\"{ span: 2 }\"\n                      :wrapperCol=\"7\"\n                      :rules=\"[{ required: false, message: '说明不能为空' }]\"\n                    >\n                      <a-textarea\n                        :rows=\"3\"\n                        v-model:value=\"formState.remarks\"\n                        placeholder=\"1000字以内\"\n                        :maxlength=\"1000\"\n                        :disabled=\"disabledInput\"\n                        show-count\n                      />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n              </a-card>\n              <a-card title=\"正文\" :bordered=\"false\">\n                <Tinymce\n\n                  v-model=\"formState.content\"\n                  :width=\"`calc(100% - 3.5rem)`\"\n                  :height=\"300\"\n                  :maxChars=\"20000\"\n                  :disabled=\"disabledInput\"\n                />\n              </a-card>\n              <a-card title=\"附件上传\" :bordered=\"false\">\n                <UploadBox\n                  :width=\"800\"\n                  :height=\"550\"\n                  :maxCount=\"20\"\n                  :maxSize=\"100 * 1024 * 1024\"\n                  :application=\"`oa`\"\n                  :module=\"`infonotice`\"\n                  :vmode=\"!disabledInput ? `box` : `view`\"\n                  :bizId=\"formState.bizFileId\"\n                />\n              </a-card>\n            </a-form>\n          </div>\n          <OrganDialog\n            title=\"选择接收范围\"\n            v-model:value=\"formState.receiver\"\n            :visible=\"openDialog\"\n            :tdata=\"orgTreeData\"\n            :tfields=\"{ key: 'value', title: 'label' }\"\n            :width=\"800\"\n            :height=\"600\"\n            @cancel=\"receiverCancel\"\n            @confirm=\"receiverConfirm\"\n          />\n          <OrganDialog\n            title=\"选择审批人\"\n            v-model:value=\"formState.handler\"\n            :visible=\"openHandlerDialog\"\n            :tdata=\"personTreeData\"\n            :tfields=\"{ key: 'value', title: 'label' }\"\n            :width=\"800\"\n            :height=\"600\"\n            @cancel=\"handlerCancel\"\n            @confirm=\"handlerConfirm\"\n          />\n        </div>\n      </a-spin>\n    </div>\n  </PageWrapper>\n</template>\n<script lang=\"ts\" setup>\n  //form\n  import { PageWrapper } from '/@/components/Page';\n  import { reactive, ref, onMounted, toRaw, computed, onActivated, nextTick } from 'vue';\n  import { FormInstance } from 'ant-design-vue';\n  // import PrintButton from '/@/components/Framework/Button/PrintButton.vue';\n  import { SysMessage } from '/@/hooks/web/useMessage';\n  import { MsgManager } from '/@/message/MsgManager';\n  import { createData, getData, getOrgTree, getInfoKind, sendRead } from './create';\n  import OrganDialog from '@/components/Framework/Modal/OrganDialog.vue';\n  import DictSelectBox from '@/components/Framework/Combox/DictSelectBox.vue';\n  import BillTitle from '/@/components/Framework/BillTitle/BillTitle.vue';\n  import WfApproveBox from '/@/components/Framework/WorkFlow/WfApproveBox.vue';\n  import * as ProcessInstanceApi from '@/api/bpm/processInstance';\n  import type { TreeSelectProps } from 'ant-design-vue';\n  import { closeCurrentTab } from '@/utils/route';\n  import { Tinymce } from '/@/components/Tinymce/index';\n  import { useUserStore } from '/@/store/modules/user';\n  import UploadBox from '@/components/Framework/Combox/UploadBox.vue';\n  import { buildShortUUID } from '@/utils/uuid';\n  import { urlToPath } from '/@/utils/route';\n\n  const userStore = useUserStore() as any;\n  const userInfo = toRaw(userStore.getUserInfo);\n\n  const openDialog = ref(false);\n  const isReadOnly = ref(false);\n  const openHandlerDialog = ref(false);\n  const formRef = ref<FormInstance>();\n   const isRequire = ref(true);\n\n  const disabledInput = computed(() => {\n    if (typeof formState.status === 'undefined') {\n      return false;\n    }\n    if (formState.status === 0 && formState.personMemberId === '') {\n      return false;\n    }\n    const status =\n      formState.status != 0 ||\n      (formState.status == 0 &&\n        formState.personMemberId != '' &&\n        formState.personMemberId.substring(0, 32) != userInfo.userId);\n    return status;\n  });\n\n  const orgTreeData = ref<TreeSelectProps['treeData']>();\n  const personTreeData = ref<TreeSelectProps['treeData']>();\n  const processInstanceId: any = ref('');\n\n  const infoKinds = reactive<any>([]);\n\n  let { params } = urlToPath() as any;\n  const billTitleOptions = reactive<any>({\n    subject: '通知发布',\n  });\n\n  const formState: any = reactive({\n    id: params.id || '',\n    handler: [],\n    receiver: [],\n    spinning: false,\n    personMemberId: '',\n  });\n\n  const changeInfoKind = (id, item) => {\n    formState.infoKindId = id;\n    formState.infoKindName = item.label;\n  };\n\n  const onFinish = () => {\n    formState.spinning = true;\n    createData(formState)\n      .then((rsp) => {\n        if (rsp.result != '') {\n          formState.id = rsp.result;\n          SysMessage.getInstance().success(formState.status == 1 ? '提交成功' : '保存成功');\n          if (formState.status == 1) {\n            setTimeout(() => {\n              closeCurrentTab();\n              MsgManager.getInstance().sendMsg('info-notice', {});\n            }, 100);\n          }\n        } else {\n          isRequire.value = false;\n          SysMessage.getInstance().error('保存失败.');\n        }\n        formState.spinning = false;\n      })\n      .catch((e) => {\n        isRequire.value = false;\n        formState.status = 0;\n        formState.spinning = false;\n        console.log(e);\n      });\n  };\n\n  const openReceiver = () => {\n    openDialog.value = true;\n  };\n  const cleanReceiver = () => {\n    formState.receiver = [];\n    formState.receiverName = '';\n  };\n\n  const openHandler = () => {\n    openHandlerDialog.value = true;\n  };\n  const cleanHandler = () => {\n    formState.handler = [];\n    formState.handlerName = '';\n  };\n\n  const receiverCancel = () => {\n    openDialog.value = false; // 关闭弹框\n  };\n\n  const receiverConfirm = (nodeList) => {\n    openDialog.value = false; // 关闭弹框\n    if (nodeList && nodeList.length > 0) {\n      formState.receiver = [];\n      nodeList.forEach((e) => {\n        formState.receiver.push({\n          orgUnitId: e.value,\n          name: e.label,\n          value: e.value,\n          label: e.label,\n        });\n      });\n    } else {\n      formState.receiver = [];\n    }\n    formState.receiverName = formState.receiver.map((e) => e.name).join(',');\n  };\n  const handlerCancel = () => {\n    openHandlerDialog.value = false; // 关闭弹框\n  };\n\n  const handlerConfirm = (nodeList) => {\n    openHandlerDialog.value = false; // 关闭弹框\n    if (nodeList && nodeList.length > 0) {\n      formState.handler = [];\n      nodeList.forEach((e) => {\n        formState.handler.push({\n          orgUnitId: e.value,\n          name: e.label,\n          value: e.value,\n          label: e.label,\n        });\n      });\n    } else {\n      formState.handler = [];\n    }\n    formState.handlerName = formState.handler.map((e) => e.name).join(',');\n  };\n\n  const flowOption = {\n    handleAgree: (flowData) => {\n      console.log('同意', flowData);\n    },\n\n    handleSave: (flowData) => {\n      console.log('保存', flowData);\n      isRequire.value = false;\n      formState.status = 0;\n      onFinish();\n    },\n\n    handleSubmit: (flowData) => {\n      console.log('提交', flowData);\n      isRequire.value = true;\n      formState.status = 1;\n      const value = formRef.value;\n      if (!value) {\n        return;\n      }\n      value\n        .validateFields()\n        .then(() => {\n          onFinish();\n        })\n        .catch((e) => {\n          console.log(e);\n          formState.status = 0;\n        });\n    },\n  };\n\n  const getOrgTreeData = async () => {\n    const typeList = await getOrgTree({\n      orgId: '',\n      orgKindIds: 'ogn,dpt,pos,psm',\n      showPosition: true,\n      status: 1,\n    });\n\n    orgTreeData.value = dig(typeList.result, ['psm', 'dpt', 'ogn']);\n    personTreeData.value = dig(typeList.result, ['psm']);\n  };\n\n  function dig(data, selectType) {\n    const list: TreeSelectProps['treeData'] = [];\n    for (let i = 0; i < data.length; i++) {\n      const item = data[i];\n      const treeNode: TreeSelectProps['treeData'][number] = {\n        label: item.name,\n        value: item.id,\n        orgId: item.orgId,\n        parent_node: item.parent_node,\n        parentId: item.parentId,\n        disabled: selectType.indexOf(item.orgKindId) == -1,\n      };\n\n      if (item.children && item.children.length > 0) {\n        treeNode.children = dig(item.children, selectType);\n      }\n      list.push(treeNode);\n    }\n    return list;\n  }\n\n\n\n  // global\n  onMounted(async () => {\n    processInstanceId.value = params.processInstanceId;\n    if (!formState.id && params.processInstanceId) {\n      const processInstance = await ProcessInstanceApi.getProcessInstance(\n        params.processInstanceId as string,\n      );\n\n      formState.id = processInstance.businessKey;\n    }\n    getData({ id: formState.id }).then((rsp) => {\n      let rs = rsp.result;\n      if (formState.id) {\n        for (let key in rs) {\n          formState[key] = rs[key];\n        }\n        formState.status = Number(formState.status);\n        formState.isAllowCopy = formState.isAllowCopy + '';\n        formState.isAllowDownloadFile = formState.isAllowDownloadFile + '';\n        if (rs.receiver) {\n          formState.receiver = [];\n          rs.receiver.forEach((e) => {\n            formState.receiver.push({\n              value: e.orgUnitId,\n              label: e.orgUnitName,\n              orgUnitId: e.orgUnitId,\n              name: e.orgUnitName,\n            });\n          });\n          formState.receiverName = formState.receiver.map((e) => e.name).join(',');\n        }\n        if (rs.handler) {\n          formState.handler = [];\n          rs.handler.forEach((e) => {\n            formState.handler.push({\n              value: e.orgUnitId,\n              label: e.orgUnitName,\n              orgUnitId: e.orgUnitId,\n              name: e.orgUnitName,\n            });\n          });\n          formState.handlerName = formState.handler.map((e) => e.name).join(',');\n        }\n        if (formState.status == 2) {\n          sendRead({ infoReleaseId: formState.id });\n          MsgManager.getInstance().sendMsg('info-query', {});\n        }\n      } else {\n        formState.billCode = rs.billCode;\n        formState.personMemberName = rs.personMemberName;\n        formState.deptName = rs.deptName;\n        formState.fillinDate = rs.fillinDate;\n        formState.bizFileId = buildShortUUID();\n        formState.status = 0;\n        const orgs = userStore.userInfo.orgs;\n        let mainOrg = orgs.filter((e) => e.isMainOrg == 1)[0];\n        if (mainOrg == null) {\n          mainOrg = orgs[0];\n        }\n        formState.organName = mainOrg.orgName;\n        formState.organId = mainOrg.orgId;\n        formState.deptName = mainOrg.deptName;\n        formState.drafterId = mainOrg.id;\n        formState.drafterName = mainOrg.name;\n        formState.responsibleDeptName = mainOrg.deptName;\n        formState.responsibleDeptId = mainOrg.deptId;\n        formState.personMemberName = mainOrg.personMemberName;\n      }\n      if (formState.status == 0) {\n        getOrgTreeData();\n        getInfoKind({ type: 'infoKind', codePre: '02', orgId: formState.organId }).then((resp) => {\n          resp.result.forEach((e) => {\n            infoKinds.push({ value: e.id, label: e.name });\n          });\n        });\n      } else {\n        infoKinds.push({ value: formState.infoKindId, label: formState.infoKindName });\n      }\n      let { billCode, fillinDate, personMemberName, deptName } = rs;\n      Object.assign(billTitleOptions, { billCode, fillinDate, personMemberName, deptName });\n    });\n  });\n</script>\n<style lang=\"less\" scoped>\n  .customer_require::before {\n    content: '*';\n    display: inline-block;\n    margin-right: 4px;\n    color: #ff4d4f;\n    font-family: SimSun, sans-serif;\n    font-size: 14px;\n    line-height: 1;\n  }\n\n  .ant-btn {\n    padding: 4px 12px;\n  }\n\n  .vben-tinymce-container {\n    margin: 0.05rem 0 0.5rem 1.75rem;\n  }\n</style>\n"],"names":["getData","params","defHttp","createData","getOrgTree","getInfoKind","sendRead","userStore","useUserStore","userInfo","toRaw","openDialog","ref","isReadOnly","openHandlerDialog","formRef","isRequire","disabledInput","computed","formState","orgTreeData","personTreeData","processInstanceId","infoKinds","reactive","urlToPath","billTitleOptions","changeInfoKind","id","item","onFinish","rsp","SysMessage","closeCurrentTab","MsgManager","e","openReceiver","cleanReceiver","openHandler","cleanHandler","receiverCancel","receiverConfirm","nodeList","handlerCancel","handlerConfirm","flowOption","flowData","value","getOrgTreeData","__async","typeList","dig","data","selectType","list","i","treeNode","onMounted","processInstance","ProcessInstanceApi.getProcessInstance","rs","key","buildShortUUID","orgs","mainOrg","resp","billCode","fillinDate","personMemberName","deptName"],"mappings":"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"}