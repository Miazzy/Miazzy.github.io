import{a0 as l,az as s,a5 as n}from"./index.js";import"./BasicForm.vue_vue_type_style_index_0_lang-1ba7be9e.js";import{ai as c}from"./antd-15ac76ed.js";import"./index-316f6ffb.js";import"./index-085d06c7.js";import{u as d}from"./useRender-21ce56fb.js";import{n as u}from"./vue-71d1abb3.js";const m="YYYY-MM-DD HH:mm",T=e=>n.post({url:"/baseset/common/list-orgStationPeriodTree",params:e},{}),R=e=>n.post({url:"/baseset/common/list-stationPerson",params:e},{}),p=e=>n.post({url:"/po/workorder/create",params:e},{}),h=e=>n.put({url:"/po/workorder/update",params:e},{}),D=e=>e.id?h(e):p(e),Y=e=>n.post({url:"/po/workorder/export-excel",params:e,responseType:"blob"},{isOnlyResult:!0}),z=e=>n.get({url:"/po/workorder/get",params:e},{}),y=e=>n.get({url:"/po/workorder/page",params:e},{}),M=e=>n.get({url:"/po/workorder/ticket/list",params:e},{}),P=e=>n.post({url:"/baseset/areaset/list",params:e},{}),N=(e,t)=>n.get({url:`/po/ticket/${e}/page`,params:t},{});function i({column:e,record:t}){return t[e.dataIndex+"Text"]}function a({text:e}){return d.renderDate(e,m)}const S=()=>{const e=l().isMultiOrganization,t=[{title:"单据编号",dataIndex:"billCode",sorter:!0,resizable:!0,width:200},{title:"所属公司",dataIndex:"stationOrganName",headAlign:"center",align:"left",sorter:!0,resizable:!0,width:220},{title:"电站名称",dataIndex:"stationName",headAlign:"center",align:"left",sorter:!0,resizable:!0,width:220},{title:"期数",dataIndex:"periodName",sorter:!0,resizable:!0,width:100},{title:"工单级别",dataIndex:"grade",sorter:!0,resizable:!0,width:100,customRender:i},{title:"工单类型",dataIndex:"workOrderType",sorter:!0,resizable:!0,width:120,customRender:i},{title:"工单主题",dataIndex:"subject",headAlign:"center",align:"left",resizable:!0,width:220},{title:"创建人",dataIndex:"personMemberName",resizable:!0,width:100},{title:"计划处理人",dataIndex:"planHandleByName",resizable:!0,width:100},{title:"计划确认人",dataIndex:"planConfirmByName",resizable:!0,width:100},{title:"计划开始时间",dataIndex:"planStartDate",sorter:!0,resizable:!0,width:140,customRender:a},{title:"计划完成时间",dataIndex:"planEndDate",sorter:!0,resizable:!0,width:140,customRender:a},{title:"开具两票",dataIndex:"isInvoicing",sorter:!0,resizable:!0,width:100,customRender:i},{title:"验证结果",dataIndex:"result",sorter:!0,resizable:!0,width:100,customRender:i},{title:"是否逾期",dataIndex:"overdue",resizable:!0,width:100,customRender:i},{title:"创建时间",dataIndex:"fillinDate",resizable:!0,width:150},{title:"审批状态",dataIndex:"status",sorter:!0,resizable:!0,width:100,customRender:({text:r,record:o})=>d.renderFlowStatus(r,o.statusText)}];if(e)return t;{const[r,,...o]=t;return[r,...o]}},C=[{title:"单据编号",dataIndex:"workTicketBillCode",width:150,customRender:({text:e,record:t})=>{const r=t.workTicketSort,o=r==1?"操作票":r==2?"电气第一种工作票":"电气第二种工作票";return t.workTicketId?u(c,{type:"link",onClick:()=>{s(t.workTicketId,o)}},()=>e||""):e}},{title:"票号",dataIndex:"workTicketCode",width:150},{title:"检查结论",dataIndex:"checkResult",width:100,customRender:i}],B=e=>{let t=[{title:"票号",dataIndex:"ticketNumber",width:140}];return e==="operationticket"?t=t.concat([{title:"发令人",dataIndex:"commanderName",width:100},{title:"受令人",dataIndex:"recipientName",width:100},{title:"工作主题",dataIndex:"subject",headAlign:"center",align:"left",width:220},{title:"发令时间",dataIndex:"commandTime",width:140,customRender:a},{title:"操作时间",dataIndex:"principalTime",width:140,customRender:a},{title:"完成时间",dataIndex:"qualifiedTime",width:140,customRender:a}]):e==="firstworkticket"?t=t.concat([{title:"工作主题",dataIndex:"subject",headAlign:"center",align:"left",width:220},{title:"工作负责人",dataIndex:"headName",width:120},{title:"计划工作开始时间",dataIndex:"startTime",width:150,customRender:a},{title:"计划工作结束时间",dataIndex:"endTime",width:150,customRender:a},{title:"实际工作开始时间",dataIndex:"opstartTime",width:150,customRender:a},{title:"实际工作结束时间",dataIndex:"opendTime",width:150,customRender:a}]):e==="secondworkticket"&&(t=t.concat([{title:"工作主题",dataIndex:"subject",headAlign:"center",align:"left",width:220},{title:"工作负责人",dataIndex:"headName",width:120},{title:"计划工作开始时间",dataIndex:"startTime",width:150,customRender:a},{title:"计划工作结束时间",dataIndex:"endTime",width:150,customRender:a},{title:"执行负责人",dataIndex:"performHeadName",width:120},{title:"实际工作开始时间",dataIndex:"opstartTime",width:150,customRender:a},{title:"实际工作结束时间",dataIndex:"opendTime",width:150,customRender:a}])),t.concat([{title:"检查结论",dataIndex:"result",width:100,customRender:({record:r})=>r.resultText},{title:"审批状态",dataIndex:"status",customRender:({text:r,record:o})=>d.renderFlowStatus(r,o.statusText)}])},_={baseColProps:{span:8},labelWidth:120,autoAdvancedLine:1,schemas:[{field:"billCode",label:"单据编号",component:"Input"},{field:"grade",label:"工单级别",component:"DictSelectBox",componentProps:{type:"work_order_grade"}},{field:"workOrderType",label:"工单类型",component:"DictSelectBox",componentProps:{type:"work_order_type"}},{field:"personMemberName",label:"创建人",component:"Input"},{field:"planHandleByName",label:"计划处理人",component:"Input"},{field:"planConfirmByName",label:"计划确认人",component:"Input"},{field:"[planStartDate, planEndDate]",label:"计划起止日期",component:"RangePicker",componentProps:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD",placeholder:["开始日期","完成日期"],style:"width: 100%"}},{field:"result",label:"验证结果",component:"DictSelectBox",componentProps:{type:"validate_result"}},{field:"overdue",label:"是否逾期",component:"DictSelectBox",componentProps:{type:"yes_or_no"}},{field:"[startMonth, endMonth]",label:"创建时间",component:"RangePicker",componentProps:{format:"YYYY-MM",valueFormat:"YYYY-MM",picker:"month",placeholder:["开始月份","结束月份"],style:"width: 100%"}},{field:"status",label:"审批状态",component:"DictSelectBox",componentProps:{multiple:"multiple",maxTagCount:"responsive",type:"bpm_process_instance_result"}}]};export{y as a,T as b,z as c,D as d,Y as e,R as f,S as g,P as h,M as i,B as j,N as k,_ as s,C as t};
//# sourceMappingURL=workorder.data-e18a6fd9.js.map
