var V=(k,U,d)=>new Promise((c,v)=>{var n=s=>{try{o(d.next(s))}catch(l){v(l)}},f=s=>{try{o(d.throw(s))}catch(l){v(l)}},o=s=>s.done?c(s.value):Promise.resolve(s.value).then(n,f);o((d=d.apply(k,U)).next())});import{b as P,D as Y}from"./dict-c04c0dd8.js";import{b_ as Z,au as $,ce as x}from"./index.js";import{a as j,c as z,u as H}from"./index-b9390eab.js";import{g as J}from"./index-6f04a2b9.js";import{d as K,k as m,r as Q,al as u,x as W,Z as p,a9 as b,aa as t,f as r,E as y,v as X,_ as C,F as E,ae as F,u as S,ad as h}from"./vue-71d1abb3.js";const ue=K({name:"UserGroupForm",__name:"UserGroupForm",emits:["success"],setup(k,{expose:U,emit:d}){const{t:c}=Z(),v=$(),n=m(!1),f=m(""),o=m(!1),s=m(""),l=m({id:void 0,name:void 0,description:void 0,memberUserIds:void 0,status:x.ENABLE}),T=Q({name:[{required:!0,message:"组名不能为空",trigger:"blur"}],description:[{required:!0,message:"描述不能为空",trigger:"blur"}],memberUserIds:[{required:!0,message:"成员不能为空",trigger:"blur"}],status:[{required:!0,message:"状态不能为空",trigger:"blur"}]}),_=m(),D=m([]);U({open:(i,e)=>V(this,null,function*(){if(n.value=!0,f.value=c("action."+i),s.value=i,B(),e){o.value=!0;try{l.value=yield j(e)}finally{o.value=!1}}D.value=yield J()})});const L=()=>V(this,null,function*(){if(!(!_.value||!(yield _.value.validate()))){o.value=!0;try{const e=l.value;s.value==="create"?(yield z(e),v.success(c("common.createSuccess"))):(yield H(e),v.success(c("common.updateSuccess"))),n.value=!1,d("success")}finally{o.value=!1}}}),B=()=>{var i;l.value={id:void 0,name:void 0,description:void 0,memberUserIds:void 0,status:x.ENABLE},(i=_.value)==null||i.resetFields()};return(i,e)=>{const I=u("el-input"),g=u("el-form-item"),G=u("el-option"),N=u("el-select"),q=u("el-radio"),A=u("el-radio-group"),M=u("el-form"),w=u("el-button"),O=u("Dialog"),R=W("loading");return p(),b(O,{modelValue:n.value,"onUpdate:modelValue":e[5]||(e[5]=a=>n.value=a),title:f.value},{footer:t(()=>[r(w,{disabled:o.value,type:"primary",onClick:L},{default:t(()=>[y("确 定")]),_:1},8,["disabled"]),r(w,{onClick:e[4]||(e[4]=a=>n.value=!1)},{default:t(()=>[y("取 消")]),_:1})]),default:t(()=>[X((p(),b(M,{ref_key:"formRef",ref:_,model:l.value,rules:T,"label-width":"100px"},{default:t(()=>[r(g,{label:"组名",prop:"name"},{default:t(()=>[r(I,{modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.name=a),placeholder:"请输入组名"},null,8,["modelValue"])]),_:1}),r(g,{label:"描述"},{default:t(()=>[r(I,{modelValue:l.value.description,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.description=a),placeholder:"请输入描述",type:"textarea"},null,8,["modelValue"])]),_:1}),r(g,{label:"成员",prop:"memberUserIds"},{default:t(()=>[r(N,{modelValue:l.value.memberUserIds,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.memberUserIds=a),multiple:"",placeholder:"请选择成员"},{default:t(()=>[(p(!0),C(E,null,F(D.value,a=>(p(),b(G,{key:a.id,label:a.nickname,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(g,{label:"状态",prop:"status"},{default:t(()=>[r(A,{modelValue:l.value.status,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.status=a)},{default:t(()=>[(p(!0),C(E,null,F(S(P)(S(Y).COMMON_STATUS),a=>(p(),b(q,{key:a.value,label:a.value},{default:t(()=>[y(h(a.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[R,o.value]])]),_:1},8,["modelValue","title"])}}});export{ue as _};
//# sourceMappingURL=UserGroupForm.vue_vue_type_script_setup_true_lang-df6c4926.js.map
