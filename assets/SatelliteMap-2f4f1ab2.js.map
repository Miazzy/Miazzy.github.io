{"version":3,"file":"SatelliteMap-2f4f1ab2.js","sources":["../../src/views/da/groupOperation/groupData.ts","../../src/views/da/groupOperation/device/iconUrl.ts","../../src/views/da/groupOperation/SatelliteMap.vue"],"sourcesContent":["import { defHttp } from '/@/utils/http/axios';\n\nenum Api {\n  // 首页电站数据\n  // getHomePageStationsUrl = '/da/home-page/stations',\n  getHomePageStationsUrl = '/da/group-operation/overview/station/info',\n}\n\nexport const getHomePageStations = (params) =>\n  defHttp.post({ url: Api.getHomePageStationsUrl, params }, {});\n","export const iconUrl = {\n  // 电子工牌\n  ewc: {\n    online: '/images/work_card_online.svg',\n    leave: '/images/work_card_leave.svg',\n    offline: '/images/work_card_offline.svg',\n  },\n  // 行车记录仪\n  dr: {\n    online: '/images/dashcam_online.svg',\n    leave: '/images/dashcam_leave.svg',\n    offline: '/images/dashcam_offline.svg',\n  },\n  // 巡检仪\n  ii: {\n    online: '/images/itinerant_detector_online.svg',\n    leave: '/images/itinerant_detector_leave.svg',\n    offline: '/images/itinerant_detector_offline.svg',\n  },\n};\n","<template>\n  <div class=\"satellite-map\">\n    <div id=\"map-container\" class=\"map-container\"></div>\n    <div class=\"mask-left\"></div>\n    <div class=\"mask-top\"></div>\n    <div class=\"mask-right\"></div>\n    <div class=\"mask-bottom\"></div>\n    <!-- 电站小弹框 -->\n    <div class=\"station-modal\" v-show=\"ifShowValue\">\n      <div class=\"station-img-box\">\n        <img :src=\"formState.url\" />\n      </div>\n      <div class=\"info-box\">\n        <div class=\"station-name\" @click=\"forwordStation\">{{ formState.name }}</div>\n        <div class=\"station-data-box\">\n          <div class=\"data-item\">\n            今日发电量\n            <span class=\"blue-text\">{{ formState.outputPowerDay }}</span>\n            万kWh\n          </div>\n          <div class=\"data-item\">\n            实时功率\n            <span class=\"blue-text\">{{ formState.activePower }}</span>\n            MW\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\" setup>\n  import { onMounted, ref, reactive, UnwrapRef, onUnmounted } from 'vue';\n  import { getHomePageStations } from './groupData';\n  import { useGo } from '/@/hooks/web/usePage';\n  import { MsgManager } from '/@/message/MsgManager';\n  import { iconUrl } from './device/iconUrl';\n  import stationIcon from '/images/station.svg';\n  import { assign } from 'min-dash';\n  import * as FileApi from '@/api/infra/file';\n\n  const mapObject = ref();\n  const trackAni = ref();\n  const go = useGo();\n\n  const ifShowValue = ref<boolean>(false);\n  const formState: UnwrapRef<any> = reactive({});\n\n  // 初始化地图\n  const initMap = () => {\n    mapObject.value = new BMapGL.Map('map-container'); // 创建Map实例\n    mapObject.value.enableScrollWheelZoom(true); //开启鼠标滚轮缩放\n    mapObject.value.setMapType(BMAP_EARTH_MAP); // 设置地图类型为地球模式\n    mapObject.value.centerAndZoom(new BMapGL.Point(118.8, 37.5), 8); // 初始化地图,设置中心点坐标和地图级别\n  };\n\n  // 创建label\n  const createLabel = (pt, content) => {\n    let opts = {\n      position: pt, // 指定文本标注所在的地理位置\n      offset: new BMapGL.Size(15, -30), //设置文本偏移量\n    };\n    let label = new BMapGL.Label(content, opts); // 创建文本标注对象\n    label.setStyle({\n      //样式\n      width: 'auto !important',\n      color: 'white',\n      fontSize: '12px',\n      backgroundColor: 'rgba(0,0,0, 0.7)',\n      border: 0,\n      padding: '3px 10px',\n      borderRadius: '4px',\n      lineHeight: 1.5\n    });\n    return label; // 返回label\n  };\n\n  const forwordStation = () => {\n    go({\n      path: '/stationOperation',\n      query: {\n        id: formState.bizUuid,\n      },\n    });\n  };\n\n  // 创建mark\n  const createMark = (pt, markItem) => {\n    let myIcon = new BMapGL.Icon(stationIcon, new BMapGL.Size(30, 30), {\n      anchor: new BMapGL.Size(15, 30),\n    });\n    // 创建标注对象并添加到地图\n    let marker = new BMapGL.Marker(pt, { icon: myIcon });\n    mapObject.value.addOverlay(marker); // 创建标记\n    marker.onclick = async () => {\n      //清空\n      assign(formState, {});\n      ifShowValue.value = true;\n      const fileData = await FileApi.getFiles({ bizId: markItem.bizFileId });\n      if (fileData.length > 0) {\n        formState.url = FileApi.attachmentDownloadUrl(fileData[0].url);\n      }\n      assign(formState, markItem);\n    };\n\n    // 添加title 标题信息\n    let label = createLabel(pt, markItem.name);\n    mapObject.value.addOverlay(label);\n  };\n\n  // 获取mark 并将mark 标记在地图上\n  const getDoMarkData = async () => {\n    let data = await getHomePageStations({});\n    clearOverlays();\n    if (data.result?.length) {\n      let markData = data.result;\n      markData.forEach((item) => {\n        let pt = new BMapGL.Point(item.longitude, item.latitude);\n        createMark(pt, item);\n      });\n    }\n  };\n\n  //////////////////////////////智能设备（电子工牌、巡检仪、行车记录仪）/////////////////////////////////////////\n  // 创建mark\n  const createSmartDeviceMark = (pt, markItem, type) => {\n    let myIcon = new BMapGL.Icon(iconUrl[type][markItem.status], new BMapGL.Size(30, 44), {\n      anchor: new BMapGL.Size(15, 44),\n    });\n    // 创建标注对象并添加到地图\n    let marker = new BMapGL.Marker(pt, { icon: myIcon });\n    mapObject.value.addOverlay(marker);\n\n    // 点击marker打开弹框\n    marker.onclick = async () => {\n      MsgManager.getInstance().sendMsg('smart-device-modal-info', { type: type, record: markItem });\n    };\n\n    // 添加title 标题信息\n    const label = createLabel(pt, markItem.stationShortName);\n    // 移入\n    marker.onmouseover = () => {\n      mapObject.value.addOverlay(label);\n    };\n    // 移除\n    marker.onmouseout = () => {\n      mapObject.value.removeOverlay(label);\n    };\n  };\n\n  // 创建地理编码实例\n  let myGeo = new BMapGL.Geocoder();\n  const initAddress = (item) => {\n    // 根据坐标得到地址描述\n    myGeo.getLocation(new BMapGL.Point(item.longitude, item.latitude), function (result) {\n      if (result) {\n        item.address = result.address;\n      }\n    });\n  };\n\n  // 初始化全部点位标记\n  const initAllPointMark = async ({ type, data }) => {\n    clearOverlays();\n    // 设置中心点坐标和地图级别\n    mapObject.value.centerAndZoom(new BMapGL.Point(112, 34), 5);\n    if (data?.length) {\n      data.forEach((item) => {\n        initAddress(item);\n        if (item.status === 'online') {\n          const pt = new BMapGL.Point(item.longitude, item.latitude);\n          createSmartDeviceMark(pt, item, type);\n        }\n      });\n    }\n  };\n\n  // 初始化点位标记\n  const initPointMark = ({ type, record }) => {\n    // 关闭智能设备弹窗\n    MsgManager.getInstance().sendMsg('smart-device-modal', false);\n    // 初始化地址\n    initAddress(record);\n    // 返回地图当前缩放级别\n    const zoom = mapObject.value.getZoom();\n    // 设置中心点坐标和地图级别\n    const pt = new BMapGL.Point(record.longitude, record.latitude);\n    mapObject.value.centerAndZoom(pt, 14);\n    createSmartDeviceMark(pt, record, type);\n  };\n\n  // 轨迹回放\n  const initMapTrack = ({ trackParams, data }) => {\n    switch (trackParams.type) {\n      // 绘制轨迹\n      case 'track':\n        drawTrace(trackParams, data);\n        break;\n      // 回放\n      case 'replay':\n        trackAni.value.setDuration(trackParams.duration);\n        trackAni.value.start();\n        break;\n      // 暂停\n      case 'pause':\n        trackAni.value.pause();\n        break;\n      // 继续\n      case 'continue':\n        trackAni.value.continue();\n        break;\n      // 结束\n      case 'cancel':\n        trackAni.value.cancel();\n        break;\n      default:\n    }\n  };\n\n  // 创建开始标注对象并添加到地图\n  const createStartMarker = (lng, lat) => {\n    const point = new BMapGL.Point(lng, lat);\n    let myIcon = new BMapGL.Icon('/images/marker_start.png', new BMapGL.Size(30, 50), {\n      anchor: new BMapGL.Size(15, 50),\n    });\n    let startMarker = new BMapGL.Marker(point, { icon: myIcon });\n    mapObject.value.addOverlay(startMarker);\n  };\n\n  // 创建结束标注对象并添加到地图\n  const createEndMarker = (lng, lat) => {\n    const point = new BMapGL.Point(lng, lat);\n    let myIcon = new BMapGL.Icon('/images/marker_end.png', new BMapGL.Size(30, 50), {\n      anchor: new BMapGL.Size(15, 50),\n    });\n    // 创建标注对象并添加到地图\n    let endMarker = new BMapGL.Marker(point, { icon: myIcon });\n    mapObject.value.addOverlay(endMarker);\n  };\n\n  const clearOverlays = () => {\n    mapObject.value.clearOverlays();\n  };\n\n  const drawTrace = async (trackParams, data) => {\n    clearOverlays();\n    createStartMarker(data[0].longitude, data[0].latitude);\n    createEndMarker(data[data.length - 1].longitude, data[data.length - 1].latitude);\n    //轨迹线\n    let paths = [] as any;\n    data.forEach((item) => {\n      const point = new BMapGL.Point(item.longitude, item.latitude);\n      paths.push(point);\n    });\n\n    //添加折线\n    const bluePolyline = new BMapGL.Polyline(paths, getTrackAnimationOptions('blue'));\n    mapObject.value.addOverlay(bluePolyline);\n\n    const greenPolyline = new BMapGL.Polyline(paths, getTrackAnimationOptions('green'));\n    trackAni.value = new BMapGLLib.TrackAnimation(mapObject.value, greenPolyline, {\n      overallView: true, // 动画完成后自动调整视野到总览\n      tilt: 30, // 轨迹播放的角度，默认为55\n      duration: trackParams.trackDuration, // 动画持续时长，默认为10000，单位ms\n      delay: 0, // 动画开始的延迟，默认0，单位ms\n    });\n  };\n\n  const getTrackAnimationOptions = (color) => {\n    return {\n      enableEditing: false, //是否启用线编辑，默认为false\n      enableClicking: true, //是否响应点击事件，默认为true\n      icons: [],\n      strokeStyle: 'dashed',\n      strokeColor: color, //折线颜色\n      strokeWeight: 8, //折线的宽度，以像素为单位\n      strokeOpacity: 0.8, //折线的透明度，取值范围0 - 1\n      strokeTexture: {\n        url: `https://mapopen-pub-jsapigl.bj.bcebos.com/svgmodel/Icon_road_${color}_arrow.png`,\n        width: 16,\n        height: 64,\n      },\n    };\n  };\n\n  const listenSmartDevice = () => {\n    // 监听智能设备全部点位信息\n    MsgManager.getInstance().listen('smart-device-all-point-mark', initAllPointMark);\n    // 监听智能设备点位信息\n    MsgManager.getInstance().listen('smart-device-point-mark', initPointMark);\n    // 监听智能设备轨迹回放\n    MsgManager.getInstance().listen('smart-device-track', initMapTrack);\n    // 监听智能设备覆盖物\n    MsgManager.getInstance().listen('smart-device-clear-overlays', clearOverlays);\n\n    MsgManager.getInstance().listen('smart-device-reload-map', ({ type }) => {\n      if (type != 4) {\n        getDoMarkData();\n      } else {\n        clearOverlays();\n      }\n    });\n  };\n\n  //////////////////////////////智能设备（电子工牌、巡检仪、行车记录仪）/////////////////////////////////////////\n  // 点击地图其他位置关闭弹框\n  const closeStationModal = (e) => {\n    // 点击地图覆盖物不关闭\n    if (e.target.classList.contains('BMap_noprint')) {\n      return;\n    }\n    if (e.target.closest('.satellite-map') || e.target.closest('.footer.footer-layout')) {\n      ifShowValue.value = false;\n    }\n  };\n\n  // 销毁地图函数\n  const destory = () => {\n    try {\n      const dom = document.getElementById('map-container');\n      if (mapObject.value) {\n        mapObject.value?.destroy(); // 销毁地图\n        mapObject.value = null; // 销毁地图，防止内存泄露\n      }\n      if (dom) {\n        dom.innerHTML = '';\n      }\n    } catch (error) {\n      console.error('destory map error:', error);\n    }\n  };\n\n  defineExpose({\n    destory,\n    initMap,\n  });\n\n  onMounted(() => {\n    destory();\n    initMap();\n    getDoMarkData();\n    listenSmartDevice();\n    window.addEventListener('click', closeStationModal);\n  });\n\n  onUnmounted(() => {\n    destory();\n    window.removeEventListener('click', closeStationModal);\n  });\n</script>\n<style lang=\"less\" scoped>\n  .satellite-map {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: url('../images/background.png') no-repeat center/100% 100%;\n\n    .map-container {\n      width: 100%;\n      height: 100%;\n    }\n\n    .mask-left {\n      position: absolute;\n      z-index: 9;\n      top: 0;\n      left: 0;\n      width: 28vw;\n      height: 100vh;\n      background: url('../images/left.png') no-repeat center/100% 100%;\n    }\n\n    .mask-top {\n      position: absolute;\n      z-index: 9;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: calc(0.96rem + 13vh);\n      background: url('../images/top.png') no-repeat center/100% 100%;\n    }\n\n    .mask-right {\n      position: absolute;\n      z-index: 9;\n      top: 0;\n      right: 0;\n      width: 28vw;\n      height: 100vh;\n      background: url('../images/right.png') no-repeat center/100% 100%;\n    }\n\n    .mask-bottom {\n      position: absolute;\n      z-index: 9;\n      bottom: 0;\n      left: 0;\n      width: 100vw;\n      height: calc(0.16rem + 8vw);\n      background: url('../images/bottom.png') no-repeat center/100% 100%;\n    }\n\n    .station-modal {\n      display: flex;\n      position: absolute;\n      z-index: 10;\n      top: 31vh;\n      left: 38.7vw;\n      align-items: center;\n      width: 4rem;\n      height: 0.8rem;\n      padding-left: 0.09rem;\n      border: 1px solid rgb(1 180 241 / 20%);\n      border-radius: 0.04rem;\n      background-color: rgb(11 40 74 / 84%);\n\n      .station-img-box {\n        width: 0.6rem;\n        height: 0.6rem;\n        margin-right: 0.18rem;\n\n        & > img {\n          width: 100%;\n          height: 100%;\n          border-radius: 0.04rem;\n        }\n      }\n\n      .info-box {\n        color: #fff;\n        line-height: 1;\n\n        .station-name {\n          margin-bottom: 0.16rem;\n          font-size: 0.16rem;\n          cursor: pointer;\n        }\n\n        .station-data-box {\n          display: flex;\n        }\n\n        .data-item {\n          font-size: 0.12rem;\n\n          .blue-text {\n            color: #1890ff;\n            font-weight: 500;\n          }\n\n          & + .data-item {\n            margin-left: 0.16rem;\n          }\n        }\n      }\n    }\n  }\n</style>\n"],"names":["getHomePageStations","params","defHttp","iconUrl","mapObject","ref","trackAni","go","useGo","ifShowValue","formState","reactive","initMap","createLabel","pt","content","opts","label","forwordStation","createMark","markItem","myIcon","stationIcon","marker","__async","assign","fileData","FileApi.getFiles","FileApi.attachmentDownloadUrl","getDoMarkData","data","clearOverlays","_a","item","createSmartDeviceMark","type","MsgManager","myGeo","initAddress","result","initAllPointMark","_0","initPointMark","record","initMapTrack","trackParams","drawTrace","createStartMarker","lng","lat","point","startMarker","createEndMarker","endMarker","paths","bluePolyline","getTrackAnimationOptions","greenPolyline","color","listenSmartDevice","closeStationModal","e","destory","dom","error","__expose","onMounted","onUnmounted"],"mappings":"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"}