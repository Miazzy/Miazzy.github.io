{"version":3,"file":"inverterRealTimeAnalysis-d3228a8d.js","sources":["../../src/views/monitor/realTimeAnalysis/inverterRealTimeAnalysis.vue"],"sourcesContent":["<!--\n * @Description: 实时分析-区域实时分析\n * @Date: 2023-10-23 17:31:10\n * @LastEditTime: 2023-11-10 10:02:21\n * @FilePath: \\ygwl-framework\\src\\views\\monitor\\realTimeAnalysis\\areaRealTimeAnalysis.vue\n-->\n<template>\n  <div class=\"real-time-analysis\">\n    <a-row class=\"real-time-analysis-row\" type=\"flex\" :wrap=\"false\">\n      <a-col flex=\"298px\">\n        <CommonTree\n          :toolbar=\"true\"\n          :canEdit=\"false\"\n          :canAdd=\"false\"\n          :canDelete=\"false\"\n          :isShowOperationBtns=\"false\"\n          class=\"fit-common-tree\"\n          title=\"电站组织\"\n          :value=\"stationTreeData\"\n          :fieldNames=\"{ key: 'id', title: 'name' }\"\n          @select=\"handleSelect\"\n          :selectedKeys=\"selectedKeys\"\n          :expandedKeys=\"expandedKeys\"\n        />\n      </a-col>\n      <a-col flex=\"auto\">\n        <div class=\"right-box\">\n          <div class=\"right-row-box\">\n            <div class=\"box-header\">\n              <div class=\"header-left\">{{ selectedShowData.label }}</div>\n              <div class=\"header-right\">\n                <a-select\n                  v-model:value=\"selectedShowData\"\n                  allow-clear\n                  style=\"min-width: 206px\"\n                  placeholder=\"选择指标项\"\n                  :options=\"indicatorOptions\"\n                  showArrow\n                  @change=\"handleSelectionChange\"\n                />\n              </div>\n            </div>\n            <div class=\"box-content\">\n              <div class=\"chart-box\">\n                <div id=\"customerChart\" style=\"width: 1300px; height: 320px\"></div>\n              </div>\n            </div>\n          </div>\n          <div class=\"right-row-box\">\n            <div class=\"data-table-box\">\n              <!-- <div class=\"table-title-box\">\n                <div class=\"left-box\">\n                  <div class=\"select-box\">\n                    <div class=\"select-label-box\">区域：</div>\n                    <a-select v-model:value=\"area\" mode=\"multiple\" allow-clear style=\"min-width: 206px\" placeholder=\"选择区域\" :options=\"areaOptions\" :max-tag-count=\"2\" showArrow\n                      @change=\"handleAreaChange\"></a-select>\n                  </div>\n                  <div class=\"select-box\">\n                    <div class=\"select-label-box\">类型：</div>\n                    <a-select v-model:value=\"type\" mode=\"multiple\" allow-clear style=\"min-width: 206px\" placeholder=\"选择类型\" :options=\"typeOptions\" showArrow @change=\"handleTypeChange\"></a-select>\n                  </div>  \n                </div>\n                <div class=\"right-box\">\n                  <a-button>\n                    重置\n                  </a-button>\n                  <a-button>\n                    导出\n                  </a-button>\n                  <div class=\"divider\"></div>\n                </div>\n              </div> -->\n              <div class=\"table-title-line\"></div>\n              <BasicTable @register=\"registerTable\">\n                <template #tableTitle>\n                  <div class=\"select-box\">\n                    <div class=\"select-label-box\">区域</div>\n                    <a-select\n                      v-model:value=\"area\"\n                      allow-clear\n                      mode=\"multiple\"\n                      style=\"min-width: 256px\"\n                      placeholder=\"选择区域\"\n                      :options=\"areaOptions\"\n                      :max-tag-count=\"2\"\n                      showArrow\n                      @change=\"handleAreaChange\"\n                    />\n                  </div>\n                  <div class=\"select-box\">\n                    <div class=\"select-label-box\">类型</div>\n                    <a-select\n                      v-model:value=\"deviceType\"\n                      allow-clear\n                      style=\"min-width: 256px\"\n                      placeholder=\"选择类型\"\n                      :options=\"typeOptions\"\n                      showArrow\n                      @change=\"handleTypeChange\"\n                    />\n                  </div>\n                </template>\n                <template #toolbar>\n                  <div style=\"margin-top: -7px; padding-left: 8px\">\n                    <a-button @click=\"resetForm\"> 重置 </a-button>\n                    <a-button\n                      class=\"yellow-btn\"\n                      style=\"margin-left: 8px\"\n                      @click=\"exportData\"\n                      :preIcon=\"IconEnum.EXPORT\"\n                    >\n                      导出\n                    </a-button>\n                  </div>\n                </template>\n                <template #bodyCell=\"{ column, record }\">\n                  <template v-if=\"column.key === 'status'\">\n                    <span class=\"status-icon\" :class=\"statusMap[record.status]\"></span>\n                  </template>\n                </template>\n              </BasicTable>\n            </div>\n          </div>\n        </div>\n      </a-col>\n    </a-row>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import { ref, onMounted, reactive } from 'vue';\n  import CommonTree from '@/components/Framework/Tree/CommonTree.vue';\n  import { TreeItem } from '/@/components/Tree';\n  import { BasicTable, useTable, TableAction, BasicColumn } from '/@/components/Table';\n  import { exportExcelFile } from '@/utils/file/download';\n  import {\n    getStationTree,\n    getInverterRealData,\n    getInverterChartData,\n    exportInverter,\n    getAreas,\n  } from '../monitorApi.ts';\n  import * as echarts from 'echarts';\n  import { jsonToSheetXlsx } from '/@/components/Excel';\n  import { IconEnum } from '@/enums/appEnum';\n  import { useMessage } from '@/hooks/web/useMessage';\n\n  const { createConfirm } = useMessage();\n\n  const statusMap = {\n    normal: 'green',\n    alarm: 'red',\n    interrupt: 'grey',\n    halt: 'white',\n  };\n  const selectedKeys = ref([]);\n  const expandedKeys = ref([]);\n  const selectedStationId = ref('');\n  const stationTreeData = ref<TreeItem[]>([]);\n  // 查询电站树数据\n  async function queryDeptTreeList() {\n    let result = await getStationTree();\n    stationTreeData.value = result;\n    setTimeout(async () => {\n      expandedKeys.value = [result[0].id, result[0].children[0].id];\n      selectedKeys.value = [result[0].children[0].id];\n      selectedStationId.value = result[0].children[0].id;\n      await getAreaList();\n      setOption();\n      reload();\n    }, 500);\n  }\n  // 左侧树状菜单选中事件\n  async function handleSelect(nodes = {}) {\n    selectedStationId.value = null;\n    if (nodes.id != null && nodes.nodeKindId == 'station') {\n      selectedStationId.value = nodes.powerStationId;\n      area.value = [];\n      await getAreaList();\n      setOption();\n    }\n  }\n\n  // 导出\n  function exportData() {\n    createConfirm({\n      title: '提示',\n      iconType: 'warning',\n      content: '确定要导出所有记录？',\n      async onOk() {\n        let needSerialsTmp = 0;\n        if (deviceType.value == 'StringFormation') {\n          needSerialsTmp = 1;\n        }\n        let param = {\n          stationId: selectedStationId.value,\n          areaIds: area.value,\n          deviceType: deviceType.value,\n          needSerialsTmp: needSerialsTmp,\n        };\n        param.fileName = '逆变器实时数据';\n        param.excelList = columns.value;\n        await exportInverter(param).then((res) => {\n          exportExcelFile(res?.data, param.fileName);\n        });\n        // let exportDataList = [];\n        // tableData.value.forEach((element) => {\n        //   let temp = {};\n        //   columns.value.forEach((item) => {\n        //     temp[item.dataIndex] = element[item.dataIndex];\n        //   });\n        //   exportDataList.push(temp);\n        // });\n        // let header = {};\n        // columns.value.forEach((item) => {\n        //   if (item.children != null) {\n        //     item.children.forEach((element) => {\n        //       header[element.dataIndex] = element.title;\n        //     });\n        //   } else {\n        //     header[item.dataIndex] = item.title;\n        //   }\n        // });\n        // jsonToSheetXlsx({\n        //   data: exportDataList,\n        //   header: header,\n        //   filename: '逆变器实时数据.xlsx',\n        // });\n      },\n    });\n  }\n\n  // 选择区域\n  const area = ref([]);\n  const areaOptions = ref<SelectProps['options']>([]);\n  const handleAreaChange = (value: string[]) => {\n    console.log(`selected ${value}`);\n    area.value = value;\n    getInverterActualChart();\n    reload();\n  };\n  // 获取区域列表数据\n  const getAreaList = async () => {\n    let res = await getAreas({ stationId: selectedStationId.value });\n    if (res?.length) {\n      let temp = [];\n      res.forEach((element) => {\n        temp.push({ value: element.id, label: element.name });\n      });\n      if (area.value.length == 0) {\n        area.value.push(res[0].id);\n      }\n      areaOptions.value = temp;\n      reload();\n    }\n  };\n\n  // 选择类型\n  const deviceType = ref('StringFormation');\n  const typeOptions = ref<SelectProps['options']>([\n    {\n      value: 'StringFormation',\n      label: '组串式',\n    },\n    {\n      value: 'Concentrate',\n      label: '集中式',\n    },\n  ]);\n  const handleTypeChange = (value: string[]) => {\n    reload();\n\n    setOption();\n  };\n\n  // 重置\n  function resetForm() {\n    area.value = [];\n    deviceType.value = '';\n  }\n  // 选择折线图指标项\n  const selectedShowData = ref({ label: '等效小时数', value: 'ppr', dataKind: 'bar' });\n  const indicatorOptions = ref([\n    { label: '日发电量', value: 'outputPower', dataKind: 'line' },\n    { label: 'PV容量', value: 'installedCapacity', dataKind: 'line' },\n    { label: '等效小时数', value: 'ppr', dataKind: 'line' },\n    { label: '平均转换效率', value: 'inverterEfficiencyAverage', dataKind: 'line' },\n    { label: '最大输出功率', value: 'activePowerMax', dataKind: 'line' },\n    { label: '最大输入功率', value: 'dcInputTotalPowerMax', dataKind: 'line' },\n    { label: '平均输出功率', value: 'activePowerAverage', dataKind: 'line' },\n  ]);\n  async function handleSelectionChange(label, value: any) {\n    selectedShowData.value = value;\n    getInverterActualChart();\n  }\n  // 表格\n  const columns: BasicColumn[] = ref([]);\n  const showColumns = ref(0); // 展示字段\n  const getColumns = async () => {\n    // 数据表格\n    let preColumns = [\n      {\n        title: '区域',\n        dataIndex: 'areaName',\n        width: 100,\n      },\n      {\n        title: '设备名称',\n        dataIndex: 'deviceName',\n        sorter: true,\n        width: 100,\n      },\n      {\n        title: '状态',\n        dataIndex: 'status',\n        sorter: true,\n        width: 100,\n      },\n      // {\n      //   title: '状态',\n      //   dataIndex: 'status',\n      //   width: 100,\n      // },\n      {\n        title: '装机容量(kWp)',\n        dataIndex: 'installedCapacity',\n        sorter: true,\n        width: 120,\n      },\n      {\n        title: '等效小时数(h)',\n        dataIndex: 'ppr',\n        sorter: true,\n        width: 120,\n      },\n      {\n        title: '日发电量(kWh)',\n        dataIndex: 'outputPower',\n        sorter: true,\n        width: 120,\n      },\n      {\n        title: '平均转换效率(%)',\n        dataIndex: 'inverterEfficiencyAverage',\n        sorter: true,\n        width: 150,\n      },\n      {\n        title: '最大输出功率(kW)',\n        dataIndex: 'activePowerMax',\n        sorter: true,\n        width: 150,\n      },\n      {\n        title: '平均输出功率(kW)',\n        dataIndex: 'activePowerAverage',\n        sorter: true,\n        width: 150,\n      },\n      {\n        title: 'kW输出功率(kW)',\n        dataIndex: 'activePower',\n        sorter: true,\n        width: 150,\n      },\n    ];\n    if (showColumns.value > 0) {\n      for (let i = 1; i <= showColumns.value; i++) {\n        let children = [];\n        let sonCulomnA = {\n          title: '平均电流',\n          dataIndex: i + '_i_avg',\n          width: 100,\n        };\n        let sonCulomnB = {\n          title: '平均电压',\n          dataIndex: i + '_p_avg',\n          width: 100,\n        };\n        let sonCulomnC = {\n          title: '最大功率',\n          dataIndex: i + '_p_max',\n          width: 100,\n        };\n        let sonCulomnD = {\n          title: '平均功率',\n          dataIndex: i + '_u_avg',\n          width: 100,\n        };\n        children.push(sonCulomnA);\n        children.push(sonCulomnB);\n        children.push(sonCulomnC);\n        children.push(sonCulomnD);\n        let headerCulomn = {\n          title: '组串' + i,\n          width: 240,\n          children: children,\n        };\n        preColumns.push(headerCulomn);\n      }\n    }\n    columns.value = preColumns;\n  };\n\n  const tableData = ref([]);\n  const loadDataList = async () => {\n    if (selectedStationId.value == '') {\n      return;\n    }\n    let needSerialsTmp = 0;\n    if (deviceType.value == 'StringFormation') {\n      needSerialsTmp = 1;\n    }\n    const paginationRef = getPaginationRef() as any;\n    let param = {\n      stationId: selectedStationId.value,\n      areaIds: area.value,\n      deviceType: deviceType.value,\n      needSerialsTmp: needSerialsTmp,\n      pageNo: paginationRef.current,\n      pageSize: paginationRef.pageSize,\n    };\n    let res = await getInverterRealData(param);\n    showColumns.value = res.columnSize;\n\n    if (res.data.list?.length > 0) {\n      res.data.list.forEach((item) => {\n        if (item.serialsTmp != null) {\n          let serMap = item.serialsTmp;\n          for (let k in serMap) {\n            // debugger;\n            // alert(serMap);\n            // let key = k + '_iAvg';\n            item[k + '_i_avg'] = serMap[k].i_avg;\n            item[k + '_p_avg'] = serMap[k].p_avg;\n            item[k + '_p_max'] = serMap[k].p_max;\n            item[k + '_u_avg'] = serMap[k].u_avg;\n          }\n        }\n      });\n    }\n    tableData.value = res.data.list;\n    await getColumns();\n    return res.data;\n  };\n  const [registerTable, { reload, getPaginationRef }] = useTable({\n    api: loadDataList,\n    title: '数据列表',\n    columns,\n    bordered: true,\n    // fetchSetting: {\n    //   listField: 'list', // 请求返回结果list字段\n    //   pageField: 'page', // page字段\n    //   sizeField: 'pageSize', // pageSize字段\n    //   totalField: 'total', // 请求返回结果total字段\n    // },\n    pagination: { pageSize: 20, pageSizeOptions: ['20', '50', '100', '200'] },\n    // dataSource: tableData,\n  });\n  const showChart = ref(false);\n\n  const options = {\n    dataZoom: [{ type: 'inside' }],\n    tooltip: {\n      trigger: 'axis',\n      axisPointer: {\n        type: 'line',\n        lineStyle: {\n          type: 'dashed',\n          color: 'rgba(252,171,40,.5)',\n        },\n      },\n      backgroundColor: ' #f5fbfb',\n      borderColor: '#c6ecea',\n      borderWidth: 1,\n      textStyle: {\n        color: '#666',\n      },\n      formatter: (value) => {},\n    },\n    grid: {\n      top: 55,\n      bottom: 30,\n      left: 40,\n      right: 10,\n    },\n    xAxis: [\n      {\n        type: 'category',\n        axisLine: {\n          lineStyle: {\n            color: '#ccc',\n          },\n        },\n        axisLabel: {\n          color: '#888',\n        },\n        axisTick: {\n          alignWithLabel: true,\n          show: false,\n        },\n        data: [],\n      },\n    ],\n    yAxis: [\n      {\n        type: 'value',\n        // name: 'kW',\n        nameTextStyle: {\n          color: '#888',\n        },\n        axisLine: {\n          show: true,\n          lineStyle: {\n            color: '#ccc',\n          },\n        },\n        axisLabel: {\n          color: '#888',\n          formatter: '{value}',\n        },\n        axisTick: {\n          show: false,\n        },\n        splitLine: {\n          lineStyle: {\n            color: 'rgba(0, 0, 0, .1)',\n            type: 'dashed',\n          },\n        },\n      },\n    ],\n    series: [\n      {\n        name: '功率',\n        type: 'line',\n        showSymbol: true,\n        symbol: 'circle',\n        symbolSize: 12,\n        smooth: 0,\n        lineStyle: {\n          width: 2,\n          color: 'rgba(64,202,192,1)',\n        },\n        itemStyle: {\n          normal: {\n            shadowColor: 'rgba(0,0,0,0.1)',\n            shadowBlur: 6,\n            borderWidth: 3,\n            borderColor: '#fff',\n            color: '#40cac0',\n          },\n        },\n      },\n    ],\n  };\n  // 输入总功率,输出有功功率,输出无功功率 => 曲线\n  const getInverterActualChart = async () => {\n    if (selectedStationId.value == null || selectedShowData.value == null) {\n      return;\n    }\n    let param = {\n      stationId: selectedStationId.value,\n      showData: selectedShowData.value.value,\n      deviceType: deviceType.value,\n      areaIds: area.value,\n    };\n    let res = await getInverterChartData(param);\n    _option(res);\n    // if (res != null && selectedShowData.value.dataKind == 'line') {\n    //   _option(res);\n    // } else if (res != null && selectedShowData.value.dataKind == 'bar') {\n    //   // setBarOption(res, selectedShowData.value.value);\n    // }\n  };\n\n  function setOption() {\n    getInverterActualChart();\n  }\n  const myEchart = ref({});\n  function _option(data, name) {\n    let option = JSON.parse(JSON.stringify(options)),\n      series = [];\n    option.xAxis[0].data = data.x; // x轴\n    option.yAxis[0].name = data.unit; // y轴单位\n    series.push({\n      name,\n      data: data.y,\n      type: 'line',\n      showSymbol: true,\n      symbol: 'circle',\n      symbolSize: 12,\n      smooth: 0,\n      lineStyle: {\n        width: 2,\n        color: 'rgba(64,202,192,1)',\n      },\n      itemStyle: {\n        normal: {\n          shadowColor: 'rgba(0,0,0,0.1)',\n          shadowBlur: 6,\n          borderWidth: 3,\n          borderColor: '#fff',\n          color: '#40cac0',\n        },\n      },\n    });\n    option.series = series;\n    option.tooltip.formatter = (params) => {\n      return (\n        '<p style=\"text-align: left;color:#666;opacity: .8; line-height: 20px;font-size:12px;\">' +\n        params[0].axisValue +\n        '</p> ' +\n        '<p style=\"font-size:12px;color:#666;\">' +\n        name +\n        '  <span style=\"color: #3ccacc;font-size:13px;font-weight:bold;\">' +\n        params[0].data +\n        '</span> ' +\n        data.unit +\n        '</p>'\n      );\n    };\n    setTimeout(() => {\n      showChart.value = true;\n      initChart(option);\n    });\n  }\n\n  function initChart(data, callback) {\n    const main = document.getElementById('customerChart');\n    myEchart.value = echarts.init(main);\n    myEchart.value.setOption(data, true);\n    //窗口改变时重绘echarts,使用函数节流提高性能\n    callback && callback(myEchart);\n    window.addEventListener('resize', () => {\n      myEchart.value.resize();\n    });\n  }\n  onMounted(async () => {\n    await queryDeptTreeList();\n  });\n</script>\n\n<style lang=\"less\">\n  @import '../style/themes.less';\n</style>\n\n<style lang=\"less\" scoped>\n  .real-time-analysis {\n    height: 100%;\n    padding: 10px;\n\n    .real-time-analysis-row {\n      height: 100%;\n    }\n\n    .fit-common-tree {\n      height: 100%;\n      margin: 0 !important;\n      border: none !important;\n    }\n\n    .right-box {\n      height: 100%;\n      padding-left: 10px;\n\n      .right-row-box {\n        width: 100%;\n        height: calc(50% - 5px);\n        margin-bottom: 10px;\n        border-radius: 2px;\n\n        &:last-child {\n          margin-bottom: 0;\n        }\n\n        .box-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          height: 48px;\n          padding: 0 16px;\n          font-size: 14px;\n          line-height: 47px;\n        }\n\n        .data-table-box {\n          position: relative;\n\n          :deep(.vben-basic-table .ant-table-wrapper) {\n            padding: 7px 16px 8px;\n          }\n\n          :deep(.vben-basic-title.vben-basic-table-title) {\n            padding-left: 0;\n            font-size: 14px;\n          }\n\n          :deep(.ant-table-title) {\n            position: relative;\n            margin-bottom: 10px;\n          }\n\n          :deep(.table-settings) {\n            padding: 7px 0 1px;\n          }\n\n          :deep(.vben-basic-table-header__toolbar > .table-settings) {\n            margin-right: 0;\n          }\n\n          :deep(.table-settings > span:last-child) {\n            margin-right: 0;\n          }\n\n          .select-box {\n            display: flex;\n            align-items: center;\n            margin-right: 20px;\n\n            &:last-child {\n              margin-right: 0;\n            }\n\n            .select-label-box {\n              margin-right: 14px;\n              font-size: 14px;\n            }\n          }\n\n          .status-icon {\n            display: inline-block;\n            width: 12px;\n            height: 12px;\n            border-radius: 50%;\n\n            &.green {\n              background-color: #52c41a;\n            }\n\n            &.red {\n              background-color: #ff4d4f;\n            }\n\n            &.grey {\n              background-color: #999;\n            }\n\n            &.white {\n              background-color: #f5f4f4;\n            }\n          }\n\n          .table-title-line {\n            position: absolute;\n            z-index: 1;\n            top: 45px;\n            left: 0;\n            width: 100%;\n            height: 1px;\n            opacity: 0.85;\n          }\n        }\n      }\n    }\n  }\n\n  .chart-box {\n    width: 300px;\n    height: 600px;\n  }\n</style>\n"],"names":["createConfirm","useMessage","statusMap","selectedKeys","ref","expandedKeys","selectedStationId","stationTreeData","queryDeptTreeList","__async","result","getStationTree","getAreaList","setOption","reload","handleSelect","nodes","area","exportData","needSerialsTmp","deviceType","param","columns","exportInverter","res","exportExcelFile","areaOptions","handleAreaChange","value","getInverterActualChart","getAreas","temp","element","typeOptions","handleTypeChange","resetForm","selectedShowData","indicatorOptions","handleSelectionChange","label","showColumns","getColumns","preColumns","i","children","sonCulomnA","sonCulomnB","sonCulomnC","sonCulomnD","headerCulomn","tableData","loadDataList","paginationRef","getPaginationRef","getInverterRealData","_a","item","serMap","k","registerTable","useTable","showChart","options","getInverterChartData","_option","myEchart","data","name","option","series","params","initChart","callback","main","echarts.init","onMounted"],"mappings":"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"}