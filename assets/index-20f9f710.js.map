{"version":3,"mappings":"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","names":["basicProps","propTypes","MenuModeEnum","MenuTypeEnum","ThemeEnum","itemProps","contentProps","t","useI18n","_sfc_main$s","defineComponent","Icon","props","prefixCls","useDesign","getI18nName","computed","_a","getIcon","_resolveComponent","_normalizeClass","_ctx","_createBlock","_component_Icon","_createCommentVNode","_sfc_main$r","Menu","MenuItemContent","_sfc_main$q","BasicMenuItem","getShowMenu","menuHasChildren","menuTreeItem","_createElementBlock","_Fragment","_openBlock","_component_BasicMenuItem","_normalizeProps","_mergeProps","_component_SubMenu","_createVNode","_component_MenuItemContent","_renderList","childrenItem","_component_BasicSubMenuItem","useOpenKeys","menuState","menus","mode","accordion","getCollapsed","getIsMixSidebar","useMenuSetting","setOpenKeys","path","__async","native","unref","handle","menuList","toRaw","getAllParentPath","uniq","useTimeoutFn","getOpenKeys","resetKeys","handleOpenChange","openKeys","rootSubMenuKeys","children","latestOpenKey","key","_sfc_main$p","BasicSubMenuItem","emit","isClickGo","ref","currentActiveMenu","reactive","items","toRefs","getTopMenuAlign","getSplit","currentRoute","useRouter","getIsTopMenu","type","getMenuClass","align","getInlineCollapseOptions","isInline","inlineCollapseOptions","listenerRouteChange","route","REDIRECT_NAME","handleMenuChange","watch","handleMenuClick","_0","beforeClickFn","isFunction","e","parentPath","getCurrentParentPath","parentPaths","__spreadValues","_component_Menu","_withCtx","item","createSimpleRootMenuContext","context","createContext","useSimpleRootMenuContext","useContext","_sfc_main$o","rootMenuEmitter","mitt","instance","getCurrentInstance","currentActiveName","openedNames","isRemoveAllPopup","getClass","theme","watchEffect","nextTick","updateOpened","addSubMenu","name","removeSubMenu","removeAll","sliceIndex","index","provide","onMounted","opened","_sfc_render","_cache","$props","$setup","$data","$options","useMenuItem","getParentMenu","findParentMenu","getParentRootMenu","getParentSubMenu","getItemStyle","parent","indentSize","_b","padding","_c","getParentList","ret","getParentInstance","_sfc_main$n","Tooltip","slots","active","activeName","getCollapse","showTooptip","handleClickItem","disabled","uidList","list","_withModifiers","args","_normalizeStyle","_component_Tooltip","_renderSlot","_createElementVNode","DELAY","_sfc_main$m","CollapseTransition","Popover","state","data","subMenuEmitter","parentAddSubmenu","parentRemoveSubmenu","parentRemoveAll","parentGetOpenNames","level","rootProps","parentHandleMouseleave","inject","getAccordion","getTheme","getOverlayStyle","getIsOpend","getSubClass","isActive","getEvents","deep","handleMouseenter","handleMouseleave","handleClick","deepDispatch","onBeforeMount","isBoolean","isObject","opend","handleVisibleChange","visible","_component_Popover","_guardReactiveProps","_component_CollapseTransition","_withDirectives","_sfc_main$l","SubMenu","MenuItem","createAsyncComponent","__vitePreload","SimpleMenuTag$1","getShowSubTitle","getIsCollapseParent","getLevelClass","_hoisted_1","_hoisted_2","_component_MenuItem","_toDisplayString","_component_SimpleMenuTag","_vShow","_component_SimpleSubMenu","mixSider","collapse","debounceSetOpenKeys","useDebounceFn","keys","_sfc_main$k","SimpleSubMenu","attrs","getBindValues","handleSelect","isUrl","openWindow","_sfc_main$j","getShowTag","tag","dot","content","getContent","collapseParent","tagCls","useSplitMenu","splitType","menusRef","getIsMobile","useAppInject","permissionStore","usePermissionStore","setMenuSetting","getIsHorizontal","throttleHandleSplitLeftMenu","useThrottleFn","handleSplitLeftMenu","splitNotLeft","MenuSplitTyeEnum","getSplitLeft","getSpiltTop","normalType","meta","genMenus","getChildrenMenus","getMenus","shallowMenus","getShallowMenus","oneOf","Number","default","NONE","isHorizontal","bool","menuMode","String","setup","go","useGo","router","getMenuMode","getMenuType","getMenuTheme","getCollapsedShowTitle","getIsSidebarType","getShowLogo","useRootSetting","toRef","getComputedMenuMode","INLINE","getComputedMenuTheme","getIsShowLogo","getUseScroll","LEFT","getWrapperStyle","height","getLogoClass","getCommonProps","beforeMenuClickFn","collapsedShowTitle","onMenuClick","push","renderHeader","AppLogo","renderMenu","menuProps","length","BasicMenu","SimpleMenu","toggleCollapsed","_sfc_main$e","FullscreenExitOutlined","FullscreenOutlined","toggle","isFullscreen","useFullscreen","_sfc_main$d","Layout","LayoutTrigger","LayoutBreadcrumb","LayoutMenu","UserDropDown","FullScreen","Notify","AppSearch","ErrorAction","getShowTopMenu","getShowHeaderTrigger","getIsMixMode","getMenuWidth","getUseErrorHandle","getShowSettingButton","getSettingButtonPosition","getHeaderTheme","getShowFullScreen","getShowNotice","getShowContent","getShowBread","getShowHeaderLogo","getShowHeader","getShowSearch","useHeaderSetting","getShowLocalePicker","useLocale","getHeaderClass","getShowSetting","settingButtonPosition","SettingButtonPositionEnum","getLogoWidth","getSplitType","_component_AppLogo","_component_LayoutTrigger","_component_LayoutBreadcrumb","_component_LayoutMenu","_component_AppSearch","_component_ErrorAction","_component_Notify","_component_FullScreen","_component_UserDropDown","_component_SettingDrawer","useMultipleTabSetting","appStore","useAppStore","getShowMultipleTab","getShowQuick","getShowRedo","getShowFold","setMultipleTabSetting","multiTabsSetting","useFrameKeepAlive","tabStore","useMultipleTabStore","getFramePages","getAllFramePages","getOpenTabList","prev","next","routes","res","frameSrc","uniqBy","showIframe","hasRenderFrame","_sfc_main$c","FramePage","showFrame","_component_FramePage","frame","getTransitionName","openCache","cacheTabs","enableTransition","def","isInCache","transitionName","_sfc_main$b","FrameLayout","getOpenKeepAlive","getCanEmbedIFramePage","getBasicTransition","getEnableTransition","useTransitionSetting","isCachedComponent","getCaches","routeKey","component","setComponetInfo","flag","result","error","_KeepAlive","_component_RouterView","Component","_resolveDynamicComponent","_sfc_main$a","PageLayout","getOpenPageLoading","getLayoutContentMode","getPageLoading","useContentViewHeight","_directive_loading","_resolveDirective","_component_PageLayout","useSiderEvent","getMiniWidthNumber","getCollapsedWidth","onBreakpointChange","broken","useTrigger","getTrigger","getShowTrigger","trigger","TriggerEnum","useDragLine","siderRef","dragBarRef","mix","changeWrapWidth","getEl","elRef","el","handleMouseMove","ele","wrap","clientX","innerE","iT","maxT","minT","removeMouseup","width","miniWidth","_sfc_main$9","getCanDrag","getDragBarStyle","_sfc_main$8","DragBar","sideRef","getRealWidth","getMenuHidden","getMenuFixed","getTriggerAttr","getMode","showClassSideBarRef","getSiderClass","getHiddenDomStyle","h","_component_Sider","_createSlots","_sfc_main$7","ScrollContainer","SimpleMenuTag","clickOutside","menuModules","activePath","childrenMenus","openMenu","getCloseMixSidebarOnChange","getMixSideTrigger","getMixSideFixed","mixSideHasChildren","title","useGlobSetting","getMenuStyle","getMixSideWidth","getIsFixed","isFixed","SIDE_BAR_MINI_WIDTH","SIDE_BAR_SHOW_TIT_MINI_WIDTH","getDomStyle","fixedWidth","getWrapCommonStyle","getWrapStyle","getMenuEvents","setActive","closeMenu","getShowDragBar","handleModuleClick","hover","setChildren","activeMenu","p","handleClickOutside","getItemEvents","handleFixedMenu","_component_ScrollContainer","_component_SimpleMenu","_sfc_main$6","Sider","Drawer","MixSider","handleClose","_component_MixSider","_component_Drawer","MenuEventEnum","MenuEventEnum2","useTabDropdown","tabContentProps","getIsTabs","refreshPage","closeAll","close","closeLeft","closeOther","closeRight","useTabs","getTargetTab","getDropMenuList","curItem","isCurItem","refreshDisabled","closeLeftDisabled","closeRightDisabled","handleContextMenu","tabItem","tab","handleMenuEvent","menu","event","_sfc_main$5","Dropdown","getTitle","handleContext","_component_Dropdown","_sfc_main$4","setHeaderSetting","getIsUnFold","handleFold","isUnFold","triggerWindowResize","_sfc_main$3","RedoOutlined","loading","handleRedo","useSortable","options","initSortable","initAffixTabs","affixList","filterAffixTabs","tabs","addAffixTabs","affixTabs","isAddAffix","useTabsDrag","affixTextList","projectSetting","text","evt","oldIndex","newIndex","isNullAndUnDef","_sfc_main$2","TabRedo","FoldButton","Tabs","TabContent","activeKeyRef","userStore","useUserStore","getTabsState","unClose","getWrapClass","element","fullPath","hideTab","isHide","findParentRoute","handleChange","activeKey","handleEdit","targetKey","_component_Tabs","_component_TabPane","_component_TabContent","_component_FoldButton","HEADER_HEIGHT","TABS_HEIGHT","_sfc_main$1","LayoutHeader","MultipleTabs","setHeaderHeight","useLayoutHeight","getCalcContentWidth","getFixed","getShowInsetHeaderRef","getShowFullHeaderRef","getFullContent","useFullContent","getShowTabs","getIsShowPlaceholderDom","style","getPlaceholderDomStyle","_component_MultipleTabs","useLockPage","getLockTime","lockStore","useLockStore","timeId","clear","resetCalcLockTimeout","lockTime","lockPage","onClean","onUnmounted","keyupFn","_sfc_main","LayoutContent","LayoutSideBar","LayoutMultipleHeader","getShowSidebar","lockEvents","layoutClass","cls","_component_Layout","_component_LayoutFeatures","_component_LayoutHeader","_component_LayoutSideBar","_component_LayoutMultipleHeader","_component_LayoutContent"],"sources":["../../src/components/Menu/src/props.ts","../../src/components/Menu/src/components/MenuItemContent.vue","../../src/components/Menu/src/components/BasicMenuItem.vue","../../src/components/Menu/src/components/BasicSubMenuItem.vue","../../src/components/Menu/src/useOpenKeys.ts","../../src/components/Menu/src/BasicMenu.vue","../../src/components/SimpleMenu/src/components/useSimpleMenuContext.ts","../../src/components/SimpleMenu/src/components/Menu.vue","../../src/components/SimpleMenu/src/components/useMenu.ts","../../src/components/SimpleMenu/src/components/MenuItem.vue","../../src/components/SimpleMenu/src/components/SubMenuItem.vue","../../src/components/SimpleMenu/src/SimpleSubMenu.vue","../../src/components/SimpleMenu/src/useOpenKeys.ts","../../src/components/SimpleMenu/src/SimpleMenu.vue","../../src/components/SimpleMenu/src/SimpleMenuTag.vue","../../src/layouts/default/menu/useLayoutMenu.ts","../../src/layouts/default/menu/index.vue","../../src/layouts/default/trigger/HeaderTrigger.vue","../../src/layouts/default/trigger/SiderTrigger.vue","../../src/layouts/default/header/components/FullScreen.vue","../../src/layouts/default/header/index.vue","../../src/hooks/setting/useMultipleTabSetting.ts","../../src/layouts/iframe/useFrameKeepAlive.ts","../../src/layouts/iframe/index.vue","../../src/layouts/page/transition.ts","../../src/layouts/page/index.vue","../../src/layouts/default/content/index.vue","../../src/layouts/default/sider/useLayoutSider.ts","../../src/layouts/default/sider/DragBar.vue","../../src/layouts/default/sider/LayoutSider.vue","../../src/layouts/default/sider/MixSider.vue","../../src/layouts/default/sider/index.vue","../../src/layouts/default/tabs/types.ts","../../src/layouts/default/tabs/useTabDropdown.ts","../../src/layouts/default/tabs/components/TabContent.vue","../../src/layouts/default/tabs/components/FoldButton.vue","../../src/layouts/default/tabs/components/TabRedo.vue","../../src/hooks/web/useSortable.ts","../../src/layouts/default/tabs/useMultipleTabs.ts","../../src/layouts/default/tabs/index.vue","../../src/layouts/default/header/MultipleHeader.vue","../../src/hooks/web/useLockPage.ts","../../src/layouts/default/index.vue"],"sourcesContent":["import type { Menu } from '/@/router/types';\nimport type { PropType } from 'vue';\n\nimport { MenuModeEnum, MenuTypeEnum } from '/@/enums/menuEnum';\nimport { ThemeEnum } from '/@/enums/appEnum';\nimport { propTypes } from '/@/utils/propTypes';\nimport type { MenuTheme } from 'ant-design-vue';\nimport type { MenuMode } from 'ant-design-vue/lib/menu/src/interface';\n\nexport const basicProps = {\n  items: {\n    type: Array as PropType<Menu[]>,\n    default: () => [],\n  },\n  collapsedShowTitle: propTypes.bool,\n  // 最好是4 倍数\n  inlineIndent: propTypes.number.def(20),\n  // 菜单组件的mode属性\n  mode: {\n    type: String as PropType<MenuMode>,\n    default: MenuModeEnum.INLINE,\n  },\n\n  type: {\n    type: String as PropType<MenuTypeEnum>,\n    default: MenuTypeEnum.MIX,\n  },\n  theme: {\n    type: String as PropType<MenuTheme>,\n    default: ThemeEnum.DARK,\n  },\n  inlineCollapsed: propTypes.bool,\n  mixSider: propTypes.bool,\n\n  isHorizontal: propTypes.bool,\n  accordion: propTypes.bool.def(true),\n  beforeClickFn: {\n    type: Function as PropType<(key: string) => Promise<boolean>>,\n  },\n};\n\nexport const itemProps = {\n  item: {\n    type: Object as PropType<Menu>,\n    default: () => ({}),\n  },\n  level: propTypes.number,\n  theme: propTypes.oneOf(['dark', 'light']),\n  showTitle: propTypes.bool,\n  isHorizontal: propTypes.bool,\n};\n\nexport const contentProps = {\n  item: {\n    type: Object as PropType<Menu>,\n    default: null,\n  },\n  showTitle: propTypes.bool.def(true),\n  level: propTypes.number.def(0),\n  isHorizontal: propTypes.bool.def(true),\n};\n","<template>\n  <span :class=\"`${prefixCls}- flex items-center `\">\n    <Icon v-if=\"getIcon\" :icon=\"getIcon\" :size=\"18\" :class=\"`${prefixCls}-wrapper__icon mr-2`\" />\n    {{ getI18nName }}\n  </span>\n</template>\n<script lang=\"ts\">\n  import { computed, defineComponent } from 'vue';\n  import Icon from '@/components/Icon/Icon.vue';\n  import { useI18n } from '/@/hooks/web/useI18n';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { contentProps } from '../props';\n\n  const { t } = useI18n();\n\n  export default defineComponent({\n    name: 'MenuItemContent',\n    components: {\n      Icon,\n    },\n    props: contentProps,\n    setup(props) {\n      const { prefixCls } = useDesign('basic-menu-item-content');\n      const getI18nName = computed(() => t(props.item?.name));\n      const getIcon = computed(() => props.item?.icon);\n\n      return {\n        prefixCls,\n        getI18nName,\n        getIcon,\n      };\n    },\n  });\n</script>\n","<template>\n  <MenuItem :key=\"item.path\">\n    <MenuItemContent v-bind=\"$props\" :item=\"item\" />\n  </MenuItem>\n</template>\n<script lang=\"ts\">\n  import { defineComponent } from 'vue';\n  import { Menu } from 'ant-design-vue';\n  import { itemProps } from '../props';\n\n  import MenuItemContent from './MenuItemContent.vue';\n\n  export default defineComponent({\n    name: 'BasicMenuItem',\n    components: { MenuItem: Menu.Item, MenuItemContent },\n    props: itemProps,\n    setup() {\n      return {};\n    },\n  });\n</script>\n","<template>\n  <BasicMenuItem v-if=\"!menuHasChildren(item) && getShowMenu\" v-bind=\"$props\" />\n  <SubMenu\n    v-if=\"menuHasChildren(item) && getShowMenu\"\n    :class=\"[theme]\"\n    :key=\"`submenu-${item.path}`\"\n    popupClassName=\"app-top-menu-popup\"\n  >\n    <template #title>\n      <MenuItemContent v-bind=\"$props\" :item=\"item\" />\n    </template>\n\n    <template v-for=\"childrenItem in item.children || []\" :key=\"childrenItem.path\">\n      <BasicSubMenuItem v-bind=\"$props\" :item=\"childrenItem\" />\n    </template>\n  </SubMenu>\n</template>\n<script lang=\"ts\">\n  import type { Menu as MenuType } from '/@/router/types';\n  import { defineComponent, computed } from 'vue';\n  import { Menu } from 'ant-design-vue';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { itemProps } from '../props';\n  import BasicMenuItem from './BasicMenuItem.vue';\n  import MenuItemContent from './MenuItemContent.vue';\n\n  export default defineComponent({\n    name: 'BasicSubMenuItem',\n    isSubMenu: true,\n    components: {\n      BasicMenuItem,\n      SubMenu: Menu.SubMenu,\n      MenuItemContent,\n    },\n    props: itemProps,\n    setup(props) {\n      const { prefixCls } = useDesign('basic-menu-item');\n\n      const getShowMenu = computed(() => !props.item.meta?.hideMenu);\n      function menuHasChildren(menuTreeItem: MenuType): boolean {\n        return (\n          !menuTreeItem.meta?.hideChildrenInMenu &&\n          Reflect.has(menuTreeItem, 'children') &&\n          !!menuTreeItem.children &&\n          menuTreeItem.children.length > 0\n        );\n      }\n      return {\n        prefixCls,\n        menuHasChildren,\n        getShowMenu,\n      };\n    },\n  });\n</script>\n","import { MenuModeEnum } from '/@/enums/menuEnum';\nimport type { Menu as MenuType } from '/@/router/types';\nimport type { MenuState } from './types';\nimport { computed, Ref, toRaw, unref } from 'vue';\nimport { useTimeoutFn } from '@vben/hooks';\nimport { uniq } from 'lodash-es';\nimport { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\nimport { getAllParentPath } from '/@/router/helper/menuHelper';\n\nexport function useOpenKeys(\n  menuState: MenuState,\n  menus: Ref<MenuType[]>,\n  mode: Ref<MenuModeEnum>,\n  accordion: Ref<boolean>,\n) {\n  const { getCollapsed, getIsMixSidebar } = useMenuSetting();\n\n  async function setOpenKeys(path: string) {\n    if (mode.value === MenuModeEnum.HORIZONTAL) {\n      return;\n    }\n    const native = unref(getIsMixSidebar);\n    const handle = () => {\n      const menuList = toRaw(menus.value);\n      if (menuList?.length === 0) {\n        menuState.openKeys = [];\n        return;\n      }\n      if (!unref(accordion)) {\n        menuState.openKeys = uniq([...menuState.openKeys, ...getAllParentPath(menuList, path)]);\n      } else {\n        menuState.openKeys = getAllParentPath(menuList, path);\n      }\n    };\n    if (native) {\n      handle();\n    } else {\n      useTimeoutFn(handle, 16);\n    }\n  }\n\n  const getOpenKeys = computed(() => {\n    const collapse = unref(getIsMixSidebar) ? false : unref(getCollapsed);\n\n    return collapse ? menuState.collapsedOpenKeys : menuState.openKeys;\n  });\n\n  /**\n   * @description:  重置值\n   */\n  function resetKeys() {\n    menuState.selectedKeys = [];\n    menuState.openKeys = [];\n  }\n\n  function handleOpenChange(openKeys: string[]) {\n    if (unref(mode) === MenuModeEnum.HORIZONTAL || !unref(accordion) || unref(getIsMixSidebar)) {\n      menuState.openKeys = openKeys;\n    } else {\n      // const menuList = toRaw(menus.value);\n      // getAllParentPath(menuList, path);\n      const rootSubMenuKeys: string[] = [];\n      for (const { children, path } of unref(menus)) {\n        if (children && children.length > 0) {\n          rootSubMenuKeys.push(path);\n        }\n      }\n      if (!unref(getCollapsed)) {\n        const latestOpenKey = openKeys.find((key) => menuState.openKeys.indexOf(key) === -1);\n        if (rootSubMenuKeys.indexOf(latestOpenKey as string) === -1) {\n          menuState.openKeys = openKeys;\n        } else {\n          menuState.openKeys = latestOpenKey ? [latestOpenKey] : [];\n        }\n      } else {\n        menuState.collapsedOpenKeys = openKeys;\n      }\n    }\n  }\n  return { setOpenKeys, resetKeys, getOpenKeys, handleOpenChange };\n}\n","<template>\n  <Menu\n    :selectedKeys=\"selectedKeys\"\n    :defaultSelectedKeys=\"defaultSelectedKeys\"\n    :mode=\"mode\"\n    :openKeys=\"getOpenKeys\"\n    :inlineIndent=\"inlineIndent\"\n    :theme=\"theme\"\n    @open-change=\"handleOpenChange\"\n    :class=\"getMenuClass\"\n    @click=\"handleMenuClick\"\n    :subMenuOpenDelay=\"0.2\"\n    v-bind=\"getInlineCollapseOptions\"\n  >\n    <template v-for=\"item in items\" :key=\"item.path\">\n      <BasicSubMenuItem :item=\"item\" :theme=\"theme\" :isHorizontal=\"isHorizontal\" />\n    </template>\n  </Menu>\n</template>\n<script lang=\"ts\">\n  import type { MenuState } from './types';\n  import { computed, defineComponent, unref, reactive, watch, toRefs, ref } from 'vue';\n  import { Menu } from 'ant-design-vue';\n  import BasicSubMenuItem from './components/BasicSubMenuItem.vue';\n  import { MenuModeEnum, MenuTypeEnum } from '/@/enums/menuEnum';\n  import { useOpenKeys } from './useOpenKeys';\n  import { RouteLocationNormalizedLoaded, useRouter } from 'vue-router';\n  import { isFunction } from '/@/utils/is';\n  import { basicProps } from './props';\n  import { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\n  import { REDIRECT_NAME } from '/@/router/constant';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { getCurrentParentPath } from '/@/router/menus';\n  import { listenerRouteChange } from '/@/logics/mitt/routeChange';\n  import { getAllParentPath } from '/@/router/helper/menuHelper';\n\n  export default defineComponent({\n    name: 'BasicMenu',\n    components: {\n      Menu,\n      BasicSubMenuItem,\n    },\n    props: basicProps,\n    emits: ['menuClick'],\n    setup(props, { emit }) {\n      const isClickGo = ref(false);\n      const currentActiveMenu = ref('');\n\n      const menuState = reactive<MenuState>({\n        defaultSelectedKeys: [],\n        openKeys: [],\n        selectedKeys: [],\n        collapsedOpenKeys: [],\n      });\n\n      const { prefixCls } = useDesign('basic-menu');\n      const { items, mode, accordion } = toRefs(props);\n\n      const { getCollapsed, getTopMenuAlign, getSplit } = useMenuSetting();\n\n      const { currentRoute } = useRouter();\n\n      const { handleOpenChange, setOpenKeys, getOpenKeys } = useOpenKeys(\n        menuState,\n        items,\n        mode as any,\n        accordion,\n      );\n\n      const getIsTopMenu = computed(() => {\n        const { type, mode } = props;\n\n        return (\n          (type === MenuTypeEnum.TOP_MENU && mode === MenuModeEnum.HORIZONTAL) ||\n          (props.isHorizontal && unref(getSplit))\n        );\n      });\n\n      const getMenuClass = computed(() => {\n        const align = props.isHorizontal && unref(getSplit) ? 'start' : unref(getTopMenuAlign);\n        return [\n          prefixCls,\n          `justify-${align}`,\n          {\n            [`${prefixCls}__second`]: !props.isHorizontal && unref(getSplit),\n            [`${prefixCls}__sidebar-hor`]: unref(getIsTopMenu),\n          },\n        ];\n      });\n\n      const getInlineCollapseOptions = computed(() => {\n        const isInline = props.mode === MenuModeEnum.INLINE;\n\n        const inlineCollapseOptions: { inlineCollapsed?: boolean } = {};\n        if (isInline) {\n          inlineCollapseOptions.inlineCollapsed = props.mixSider ? false : unref(getCollapsed);\n        }\n        return inlineCollapseOptions;\n      });\n\n      listenerRouteChange((route) => {\n        if (route.name === REDIRECT_NAME) return;\n        handleMenuChange(route);\n        currentActiveMenu.value = route.meta?.currentActiveMenu as string;\n\n        if (unref(currentActiveMenu)) {\n          menuState.selectedKeys = [unref(currentActiveMenu)];\n          setOpenKeys(unref(currentActiveMenu));\n        }\n      });\n\n      !props.mixSider &&\n        watch(\n          () => props.items,\n          () => {\n            handleMenuChange();\n          },\n        );\n\n      async function handleMenuClick({ key }: { key: string; keyPath: string[] }) {\n        try {\n          const { beforeClickFn } = props;\n          if (beforeClickFn && isFunction(beforeClickFn)) {\n            const flag = await beforeClickFn(key);\n            if (!flag) return;\n          }\n          isClickGo.value = true;\n          menuState.selectedKeys = [key];\n          emit('menuClick', key);\n        } catch {\n          //\n        }\n      }\n\n      async function handleMenuChange(route?: RouteLocationNormalizedLoaded) {\n        if (unref(isClickGo)) {\n          isClickGo.value = false;\n          return;\n        }\n        const path =\n          (route || unref(currentRoute)).meta?.currentActiveMenu ||\n          (route || unref(currentRoute)).path;\n        setOpenKeys(path);\n        if (unref(currentActiveMenu)) return;\n        if (props.isHorizontal && unref(getSplit)) {\n          const parentPath = await getCurrentParentPath(path);\n          menuState.selectedKeys = [parentPath];\n        } else {\n          const parentPaths = await getAllParentPath(props.items, path);\n          menuState.selectedKeys = parentPaths;\n        }\n      }\n\n      return {\n        handleMenuClick,\n        getInlineCollapseOptions,\n        getMenuClass,\n        handleOpenChange,\n        getOpenKeys,\n        ...toRefs(menuState),\n      };\n    },\n  });\n</script>\n<style lang=\"less\">\n  @import url('./index.less');\n</style>\n","import type { InjectionKey, Ref } from 'vue';\nimport type { Emitter } from '/@/utils/mitt';\nimport { createContext, useContext } from '/@/hooks/core/useContext';\n\nexport interface SimpleRootMenuContextProps {\n  rootMenuEmitter: Emitter;\n  activeName: Ref<string | number>;\n}\n\nconst key: InjectionKey<SimpleRootMenuContextProps> = Symbol();\n\nexport function createSimpleRootMenuContext(context: SimpleRootMenuContextProps) {\n  return createContext<SimpleRootMenuContextProps>(context, key, { readonly: false, native: true });\n}\n\nexport function useSimpleRootMenuContext() {\n  return useContext<SimpleRootMenuContextProps>(key);\n}\n","<template>\n  <ul :class=\"getClass\">\n    <slot></slot>\n  </ul>\n</template>\n\n<script lang=\"ts\">\n  import type { PropType } from 'vue';\n  import type { SubMenuProvider } from './types';\n  import {\n    defineComponent,\n    ref,\n    computed,\n    onMounted,\n    watchEffect,\n    watch,\n    nextTick,\n    getCurrentInstance,\n    provide,\n  } from 'vue';\n\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { propTypes } from '/@/utils/propTypes';\n  import { createSimpleRootMenuContext } from './useSimpleMenuContext';\n  import { mitt } from '/@/utils/mitt';\n\n  export default defineComponent({\n    name: 'Menu',\n    props: {\n      theme: propTypes.oneOf(['light', 'dark']).def('light'),\n      activeName: propTypes.oneOfType([propTypes.string, propTypes.number]),\n      openNames: {\n        type: Array as PropType<string[]>,\n        default: () => [],\n      },\n      accordion: propTypes.bool.def(true),\n      width: propTypes.string.def('100%'),\n      collapsedWidth: propTypes.string.def('48px'),\n      indentSize: propTypes.number.def(16),\n      collapse: propTypes.bool.def(true),\n      activeSubMenuNames: {\n        type: Array as PropType<(string | number)[]>,\n        default: () => [],\n      },\n    },\n    emits: ['select', 'open-change'],\n    setup(props, { emit }) {\n      const rootMenuEmitter = mitt();\n      const instance = getCurrentInstance();\n\n      const currentActiveName = ref<string | number>('');\n      const openedNames = ref<string[]>([]);\n\n      const { prefixCls } = useDesign('menu');\n\n      const isRemoveAllPopup = ref(false);\n\n      createSimpleRootMenuContext({\n        rootMenuEmitter: rootMenuEmitter,\n        activeName: currentActiveName,\n      });\n\n      const getClass = computed(() => {\n        const { theme } = props;\n        return [\n          prefixCls,\n          `${prefixCls}-${theme}`,\n          `${prefixCls}-vertical`,\n          {\n            [`${prefixCls}-collapse`]: props.collapse,\n          },\n        ];\n      });\n\n      watchEffect(() => {\n        openedNames.value = props.openNames;\n      });\n\n      watchEffect(() => {\n        if (props.activeName) {\n          currentActiveName.value = props.activeName;\n        }\n      });\n\n      watch(\n        () => props.openNames,\n        () => {\n          nextTick(() => {\n            updateOpened();\n          });\n        },\n      );\n\n      function updateOpened() {\n        rootMenuEmitter.emit('on-update-opened', openedNames.value);\n      }\n\n      function addSubMenu(name: string) {\n        if (openedNames.value.includes(name)) return;\n        openedNames.value.push(name);\n        updateOpened();\n      }\n\n      function removeSubMenu(name: string) {\n        openedNames.value = openedNames.value.filter((item) => item !== name);\n        updateOpened();\n      }\n\n      function removeAll() {\n        openedNames.value = [];\n        updateOpened();\n      }\n\n      function sliceIndex(index: number) {\n        if (index === -1) return;\n        openedNames.value = openedNames.value.slice(0, index + 1);\n        updateOpened();\n      }\n\n      provide<SubMenuProvider>(`subMenu:${instance?.uid}`, {\n        addSubMenu,\n        removeSubMenu,\n        getOpenNames: () => openedNames.value,\n        removeAll,\n        isRemoveAllPopup,\n        sliceIndex,\n        level: 0,\n        props: props as any,\n      });\n\n      onMounted(() => {\n        openedNames.value = !props.collapse ? [...props.openNames] : [];\n        updateOpened();\n        rootMenuEmitter.on('on-menu-item-select', (name: string) => {\n          currentActiveName.value = name;\n\n          nextTick(() => {\n            props.collapse && removeAll();\n          });\n          emit('select', name);\n        });\n\n        rootMenuEmitter.on('open-name-change', ({ name, opened }) => {\n          if (opened && !openedNames.value.includes(name)) {\n            openedNames.value.push(name);\n          } else if (!opened) {\n            const index = openedNames.value.findIndex((item) => item === name);\n            index !== -1 && openedNames.value.splice(index, 1);\n          }\n        });\n      });\n\n      return { getClass, openedNames };\n    },\n  });\n</script>\n<style lang=\"less\">\n  @import url('./menu.less');\n</style>\n","import { computed, ComponentInternalInstance, unref } from 'vue';\nimport type { CSSProperties } from 'vue';\n\nexport function useMenuItem(instance: ComponentInternalInstance | null) {\n  const getParentMenu = computed(() => {\n    return findParentMenu(['Menu', 'SubMenu']);\n  });\n\n  const getParentRootMenu = computed(() => {\n    return findParentMenu(['Menu']);\n  });\n\n  const getParentSubMenu = computed(() => {\n    return findParentMenu(['SubMenu']);\n  });\n\n  const getItemStyle = computed((): CSSProperties => {\n    let parent = instance?.parent;\n    if (!parent) return {};\n    const indentSize = (unref(getParentRootMenu)?.props.indentSize as number) ?? 20;\n    let padding = indentSize;\n\n    if (unref(getParentRootMenu)?.props.collapse) {\n      padding = indentSize;\n    } else {\n      while (parent && parent.type.name !== 'Menu') {\n        if (parent.type.name === 'SubMenu') {\n          padding += indentSize;\n        }\n        parent = parent.parent;\n      }\n    }\n    return { paddingLeft: padding + 'px' };\n  });\n\n  function findParentMenu(name: string[]) {\n    let parent = instance?.parent;\n    if (!parent) return null;\n    while (parent && name.indexOf(parent.type.name!) === -1) {\n      parent = parent.parent;\n    }\n    return parent;\n  }\n\n  function getParentList() {\n    let parent = instance;\n    if (!parent)\n      return {\n        uidList: [],\n        list: [],\n      };\n    const ret: any[] = [];\n    while (parent && parent.type.name !== 'Menu') {\n      if (parent.type.name === 'SubMenu') {\n        ret.push(parent);\n      }\n      parent = parent.parent;\n    }\n    return {\n      uidList: ret.map((item) => item.uid),\n      list: ret,\n    };\n  }\n\n  function getParentInstance(instance: ComponentInternalInstance, name = 'SubMenu') {\n    let parent = instance.parent;\n    while (parent) {\n      if (parent.type.name !== name) {\n        return parent;\n      }\n      parent = parent.parent;\n    }\n    return parent;\n  }\n\n  return {\n    getParentMenu,\n    getParentInstance,\n    getParentRootMenu,\n    getParentList,\n    getParentSubMenu,\n    getItemStyle,\n  };\n}\n","<template>\n  <li :class=\"getClass\" @click.stop=\"handleClickItem\" :style=\"getCollapse ? {} : getItemStyle\">\n    <Tooltip placement=\"right\" v-if=\"showTooptip\">\n      <template #title>\n        <slot name=\"title\"></slot>\n      </template>\n      <div :class=\"`${prefixCls}-tooltip`\">\n        <slot></slot>\n      </div>\n    </Tooltip>\n\n    <template v-else>\n      <slot></slot>\n      <slot name=\"title\"></slot>\n    </template>\n  </li>\n</template>\n\n<script lang=\"ts\">\n  import { PropType, defineComponent, ref, computed, unref, getCurrentInstance, watch } from 'vue';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { propTypes } from '/@/utils/propTypes';\n  import { useMenuItem } from './useMenu';\n  import { Tooltip } from 'ant-design-vue';\n  import { useSimpleRootMenuContext } from './useSimpleMenuContext';\n\n  export default defineComponent({\n    name: 'MenuItem',\n    components: { Tooltip },\n    props: {\n      name: {\n        type: [String, Number] as PropType<string | number>,\n        required: true,\n      },\n      disabled: propTypes.bool,\n    },\n    setup(props, { slots }) {\n      const instance = getCurrentInstance();\n\n      const active = ref(false);\n\n      const { getItemStyle, getParentList, getParentMenu, getParentRootMenu } =\n        useMenuItem(instance);\n\n      const { prefixCls } = useDesign('menu');\n\n      const { rootMenuEmitter, activeName } = useSimpleRootMenuContext();\n\n      const getClass = computed(() => {\n        return [\n          `${prefixCls}-item`,\n          {\n            [`${prefixCls}-item-active`]: unref(active),\n            [`${prefixCls}-item-selected`]: unref(active),\n            [`${prefixCls}-item-disabled`]: !!props.disabled,\n          },\n        ];\n      });\n\n      const getCollapse = computed(() => unref(getParentRootMenu)?.props.collapse);\n\n      const showTooptip = computed(() => {\n        return unref(getParentMenu)?.type.name === 'Menu' && unref(getCollapse) && slots.title;\n      });\n\n      function handleClickItem() {\n        const { disabled } = props;\n        if (disabled) {\n          return;\n        }\n\n        rootMenuEmitter.emit('on-menu-item-select', props.name);\n        if (unref(getCollapse)) {\n          return;\n        }\n        const { uidList } = getParentList();\n\n        rootMenuEmitter.emit('on-update-opened', {\n          opend: false,\n          parent: instance?.parent,\n          uidList: uidList,\n        });\n      }\n      watch(\n        () => activeName.value,\n        (name: string) => {\n          if (name === props.name) {\n            const { list, uidList } = getParentList();\n            active.value = true;\n            list.forEach((item) => {\n              if (item.proxy) {\n                (item.proxy as any).active = true;\n              }\n            });\n\n            rootMenuEmitter.emit('on-update-active-name:submenu', uidList);\n          } else {\n            active.value = false;\n          }\n        },\n        { immediate: true },\n      );\n\n      return { getClass, prefixCls, getItemStyle, getCollapse, handleClickItem, showTooptip };\n    },\n  });\n</script>\n","<template>\n  <li :class=\"getClass\">\n    <template v-if=\"!getCollapse\">\n      <div :class=\"`${prefixCls}-submenu-title`\" @click.stop=\"handleClick\" :style=\"getItemStyle\">\n        <slot name=\"title\"></slot>\n        <Icon\n          icon=\"eva:arrow-ios-downward-outline\"\n          :size=\"14\"\n          :class=\"`${prefixCls}-submenu-title-icon`\"\n        />\n      </div>\n      <CollapseTransition>\n        <ul :class=\"prefixCls\" v-show=\"opened\">\n          <slot></slot>\n        </ul>\n      </CollapseTransition>\n    </template>\n\n    <Popover\n      placement=\"rightTop\"\n      :overlayClassName=\"`${prefixCls}-menu-popover`\"\n      v-else\n      :visible=\"getIsOpend\"\n      @visible-change=\"handleVisibleChange\"\n      :overlayStyle=\"getOverlayStyle\"\n      :align=\"{ offset: [0, 0] }\"\n    >\n      <div :class=\"getSubClass\" v-bind=\"getEvents(false)\">\n        <div\n          :class=\"[\n            {\n              [`${prefixCls}-submenu-popup`]: !getParentSubMenu,\n              [`${prefixCls}-submenu-collapsed-show-tit`]: collapsedShowTitle,\n            },\n          ]\"\n        >\n          <slot name=\"title\"></slot>\n        </div>\n        <Icon\n          v-if=\"getParentSubMenu\"\n          icon=\"eva:arrow-ios-downward-outline\"\n          :size=\"14\"\n          :class=\"`${prefixCls}-submenu-title-icon`\"\n        />\n      </div>\n      <!-- eslint-disable-next-line -->\n      <template #content v-show=\"opened\">\n        <div v-bind=\"getEvents(true)\">\n          <ul :class=\"[prefixCls, `${prefixCls}-${getTheme}`, `${prefixCls}-popup`]\">\n            <slot></slot>\n          </ul>\n        </div>\n      </template>\n    </Popover>\n  </li>\n</template>\n\n<script lang=\"ts\">\n  import { type TimeoutHandle, type Recordable } from '@vben/types';\n  import type { CSSProperties, PropType } from 'vue';\n  import type { SubMenuProvider } from './types';\n  import {\n    defineComponent,\n    computed,\n    unref,\n    getCurrentInstance,\n    toRefs,\n    reactive,\n    provide,\n    onBeforeMount,\n    inject,\n  } from 'vue';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { propTypes } from '/@/utils/propTypes';\n  import { useMenuItem } from './useMenu';\n  import { useSimpleRootMenuContext } from './useSimpleMenuContext';\n  import { CollapseTransition } from '/@/components/Transition';\n  import Icon from '@/components/Icon/Icon.vue';\n  import { Popover } from 'ant-design-vue';\n  import { isBoolean, isObject } from '/@/utils/is';\n  import { mitt } from '/@/utils/mitt';\n\n  const DELAY = 200;\n  export default defineComponent({\n    name: 'SubMenu',\n    components: {\n      Icon,\n      CollapseTransition,\n      Popover,\n    },\n    props: {\n      name: {\n        type: [String, Number] as PropType<string | number>,\n        required: true,\n      },\n      disabled: propTypes.bool,\n      collapsedShowTitle: propTypes.bool,\n    },\n    setup(props) {\n      const instance = getCurrentInstance();\n\n      const state = reactive({\n        active: false,\n        opened: false,\n      });\n\n      const data = reactive({\n        timeout: null as TimeoutHandle | null,\n        mouseInChild: false,\n        isChild: false,\n      });\n\n      const { getParentSubMenu, getItemStyle, getParentMenu, getParentList } =\n        useMenuItem(instance);\n\n      const { prefixCls } = useDesign('menu');\n\n      const subMenuEmitter = mitt();\n\n      const { rootMenuEmitter } = useSimpleRootMenuContext();\n\n      const {\n        addSubMenu: parentAddSubmenu,\n        removeSubMenu: parentRemoveSubmenu,\n        removeAll: parentRemoveAll,\n        getOpenNames: parentGetOpenNames,\n        isRemoveAllPopup,\n        sliceIndex,\n        level,\n        props: rootProps,\n        handleMouseleave: parentHandleMouseleave,\n      } = inject<SubMenuProvider>(`subMenu:${getParentMenu.value?.uid}`)!;\n\n      const getClass = computed(() => {\n        return [\n          `${prefixCls}-submenu`,\n          {\n            [`${prefixCls}-item-active`]: state.active,\n            [`${prefixCls}-opened`]: state.opened,\n            [`${prefixCls}-submenu-disabled`]: props.disabled,\n            [`${prefixCls}-submenu-has-parent-submenu`]: unref(getParentSubMenu),\n            [`${prefixCls}-child-item-active`]: state.active,\n          },\n        ];\n      });\n\n      const getAccordion = computed(() => rootProps.accordion);\n      const getCollapse = computed(() => rootProps.collapse);\n      const getTheme = computed(() => rootProps.theme);\n\n      const getOverlayStyle = computed((): CSSProperties => {\n        return {\n          minWidth: '200px',\n        };\n      });\n\n      const getIsOpend = computed(() => {\n        const name = props.name;\n        if (unref(getCollapse)) {\n          return parentGetOpenNames().includes(name);\n        }\n        return state.opened;\n      });\n\n      const getSubClass = computed(() => {\n        const isActive = rootProps.activeSubMenuNames.includes(props.name);\n        return [\n          `${prefixCls}-submenu-title`,\n          {\n            [`${prefixCls}-submenu-active`]: isActive,\n            [`${prefixCls}-submenu-active-border`]: isActive && level === 0,\n            [`${prefixCls}-submenu-collapse`]: unref(getCollapse) && level === 0,\n          },\n        ];\n      });\n\n      function getEvents(deep: boolean) {\n        if (!unref(getCollapse)) {\n          return {};\n        }\n        return {\n          onMouseenter: handleMouseenter,\n          onMouseleave: () => handleMouseleave(deep),\n        };\n      }\n\n      function handleClick() {\n        const { disabled } = props;\n        if (disabled || unref(getCollapse)) return;\n        const opened = state.opened;\n\n        if (unref(getAccordion)) {\n          const { uidList } = getParentList();\n          rootMenuEmitter.emit('on-update-opened', {\n            opend: false,\n            parent: instance?.parent,\n            uidList: uidList,\n          });\n        } else {\n          rootMenuEmitter.emit('open-name-change', {\n            name: props.name,\n            opened: !opened,\n          });\n        }\n        state.opened = !opened;\n      }\n\n      function handleMouseenter() {\n        const disabled = props.disabled;\n        if (disabled) return;\n\n        subMenuEmitter.emit('submenu:mouse-enter-child');\n\n        const index = parentGetOpenNames().findIndex((item) => item === props.name);\n\n        sliceIndex(index);\n\n        const isRoot = level === 0 && parentGetOpenNames().length === 2;\n        if (isRoot) {\n          parentRemoveAll();\n        }\n        data.isChild = parentGetOpenNames().includes(props.name);\n        clearTimeout(data.timeout!);\n        data.timeout = setTimeout(() => {\n          parentAddSubmenu(props.name);\n        }, DELAY);\n      }\n\n      function handleMouseleave(deepDispatch = false) {\n        const parentName = getParentMenu.value?.props.name;\n        if (!parentName) {\n          isRemoveAllPopup.value = true;\n        }\n\n        if (parentGetOpenNames().slice(-1)[0] === props.name) {\n          data.isChild = false;\n        }\n\n        subMenuEmitter.emit('submenu:mouse-leave-child');\n        if (data.timeout) {\n          clearTimeout(data.timeout!);\n          data.timeout = setTimeout(() => {\n            if (isRemoveAllPopup.value) {\n              parentRemoveAll();\n            } else if (!data.mouseInChild) {\n              parentRemoveSubmenu(props.name);\n            }\n          }, DELAY);\n        }\n        if (deepDispatch) {\n          if (getParentSubMenu.value) {\n            parentHandleMouseleave?.(true);\n          }\n        }\n      }\n\n      onBeforeMount(() => {\n        subMenuEmitter.on('submenu:mouse-enter-child', () => {\n          data.mouseInChild = true;\n          isRemoveAllPopup.value = false;\n          clearTimeout(data.timeout!);\n        });\n        subMenuEmitter.on('submenu:mouse-leave-child', () => {\n          if (data.isChild) return;\n          data.mouseInChild = false;\n          clearTimeout(data.timeout!);\n        });\n\n        rootMenuEmitter.on(\n          'on-update-opened',\n          (data: boolean | (string | number)[] | Recordable<any>) => {\n            if (unref(getCollapse)) return;\n            if (isBoolean(data)) {\n              state.opened = data;\n              return;\n            }\n            if (isObject(data) && rootProps.accordion) {\n              const { opend, parent, uidList } = data as Recordable<any>;\n              if (parent === instance?.parent) {\n                state.opened = opend;\n              } else if (!uidList.includes(instance?.uid)) {\n                state.opened = false;\n              }\n              return;\n            }\n\n            if (props.name && Array.isArray(data)) {\n              state.opened = (data as (string | number)[]).includes(props.name);\n            }\n          },\n        );\n\n        rootMenuEmitter.on('on-update-active-name:submenu', (data: number[]) => {\n          if (instance?.uid) {\n            state.active = data.includes(instance?.uid);\n          }\n        });\n      });\n\n      function handleVisibleChange(visible: boolean) {\n        state.opened = visible;\n      }\n\n      // provide\n      provide<SubMenuProvider>(`subMenu:${instance?.uid}`, {\n        addSubMenu: parentAddSubmenu,\n        removeSubMenu: parentRemoveSubmenu,\n        getOpenNames: parentGetOpenNames,\n        removeAll: parentRemoveAll,\n        isRemoveAllPopup,\n        sliceIndex,\n        level: level + 1,\n        handleMouseleave,\n        props: rootProps,\n      });\n\n      return {\n        getClass,\n        prefixCls,\n        getCollapse,\n        getItemStyle,\n        handleClick,\n        handleVisibleChange,\n        getParentSubMenu,\n        getOverlayStyle,\n        getTheme,\n        getIsOpend,\n        getEvents,\n        getSubClass,\n        ...toRefs(state),\n        ...toRefs(data),\n      };\n    },\n  });\n</script>\n","<template>\n  <MenuItem\n    :name=\"item.path\"\n    v-if=\"!menuHasChildren(item) && getShowMenu\"\n    v-bind=\"$props\"\n    :class=\"getLevelClass\"\n  >\n    <Icon v-if=\"getIcon\" :icon=\"getIcon\" :size=\"16\" />\n    <div v-if=\"collapsedShowTitle && getIsCollapseParent\" class=\"mt-1 collapse-title\">\n      {{ getI18nName }}\n    </div>\n    <template #title>\n      <span :class=\"['ml-2', `${prefixCls}-sub-title`]\">\n        {{ getI18nName }}\n      </span>\n      <SimpleMenuTag :item=\"item\" :collapseParent=\"getIsCollapseParent\" />\n    </template>\n  </MenuItem>\n  <SubMenu\n    :name=\"item.path\"\n    v-if=\"menuHasChildren(item) && getShowMenu\"\n    :class=\"[getLevelClass, theme]\"\n    :collapsedShowTitle=\"collapsedShowTitle\"\n  >\n    <template #title>\n      <Icon v-if=\"getIcon\" :icon=\"getIcon\" :size=\"16\" />\n\n      <div v-if=\"collapsedShowTitle && getIsCollapseParent\" class=\"mt-2 collapse-title\">\n        {{ getI18nName }}\n      </div>\n\n      <span v-show=\"getShowSubTitle\" :class=\"['ml-2', `${prefixCls}-sub-title`]\">\n        {{ getI18nName }}\n      </span>\n      <SimpleMenuTag :item=\"item\" :collapseParent=\"!!collapse && !!parent\" />\n    </template>\n    <template\n      v-for=\"childrenItem in item.children || []\"\n      :key=\"childrenItem.paramPath || childrenItem.path\"\n    >\n      <SimpleSubMenu v-bind=\"$props\" :item=\"childrenItem\" :parent=\"false\" />\n    </template>\n  </SubMenu>\n</template>\n<script lang=\"ts\">\n  import type { PropType } from 'vue';\n  import type { Menu } from '/@/router/types';\n\n  import { defineComponent, computed } from 'vue';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import Icon from '@/components/Icon/Icon.vue';\n\n  import MenuItem from './components/MenuItem.vue';\n  import SubMenu from './components/SubMenuItem.vue';\n  import { propTypes } from '/@/utils/propTypes';\n  import { useI18n } from '/@/hooks/web/useI18n';\n  import { createAsyncComponent } from '/@/utils/factory/createAsyncComponent';\n\n  export default defineComponent({\n    name: 'SimpleSubMenu',\n    components: {\n      SubMenu,\n      MenuItem,\n      SimpleMenuTag: createAsyncComponent(() => import('./SimpleMenuTag.vue')),\n      Icon,\n    },\n    props: {\n      item: {\n        type: Object as PropType<Menu>,\n        default: () => ({}),\n      },\n      parent: propTypes.bool,\n      collapsedShowTitle: propTypes.bool,\n      collapse: propTypes.bool,\n      theme: propTypes.oneOf(['dark', 'light']),\n    },\n    setup(props) {\n      const { t } = useI18n();\n      const { prefixCls } = useDesign('simple-menu');\n\n      const getShowMenu = computed(() => !props.item?.meta?.hideMenu);\n      const getIcon = computed(() => props.item?.icon);\n      const getI18nName = computed(() => t(props.item?.name));\n      const getShowSubTitle = computed(() => !props.collapse || !props.parent);\n      const getIsCollapseParent = computed(() => !!props.collapse && !!props.parent);\n      const getLevelClass = computed(() => {\n        return [\n          {\n            [`${prefixCls}__parent`]: props.parent,\n            [`${prefixCls}__children`]: !props.parent,\n          },\n        ];\n      });\n\n      function menuHasChildren(menuTreeItem: Menu): boolean {\n        return (\n          !menuTreeItem.meta?.hideChildrenInMenu &&\n          Reflect.has(menuTreeItem, 'children') &&\n          !!menuTreeItem.children &&\n          menuTreeItem.children.length > 0\n        );\n      }\n\n      return {\n        prefixCls,\n        menuHasChildren,\n        getShowMenu,\n        getIcon,\n        getI18nName,\n        getShowSubTitle,\n        getLevelClass,\n        getIsCollapseParent,\n      };\n    },\n  });\n</script>\n","import type { Menu as MenuType } from '/@/router/types';\nimport type { MenuState } from './types';\nimport { computed, Ref, toRaw, unref } from 'vue';\nimport { uniq } from 'lodash-es';\nimport { getAllParentPath } from '/@/router/helper/menuHelper';\nimport { useTimeoutFn } from '@vben/hooks';\nimport { useDebounceFn } from '@vueuse/core';\n\nexport function useOpenKeys(\n  menuState: MenuState,\n  menus: Ref<MenuType[]>,\n  accordion: Ref<boolean>,\n  mixSider: Ref<boolean>,\n  collapse: Ref<boolean>,\n) {\n  const debounceSetOpenKeys = useDebounceFn(setOpenKeys, 50);\n  async function setOpenKeys(path: string) {\n    const native = !mixSider.value;\n    const menuList = toRaw(menus.value);\n\n    const handle = () => {\n      if (menuList?.length === 0) {\n        menuState.activeSubMenuNames = [];\n        menuState.openNames = [];\n        return;\n      }\n      const keys = getAllParentPath(menuList, path);\n\n      if (!unref(accordion)) {\n        menuState.openNames = uniq([...menuState.openNames, ...keys]);\n      } else {\n        menuState.openNames = keys;\n      }\n      menuState.activeSubMenuNames = menuState.openNames;\n    };\n    if (native) {\n      handle();\n    } else {\n      useTimeoutFn(handle, 30);\n    }\n  }\n\n  const getOpenKeys = computed(() => {\n    return unref(collapse) ? [] : menuState.openNames;\n  });\n\n  return { setOpenKeys: debounceSetOpenKeys, getOpenKeys };\n}\n","<template>\n  <Menu\n    v-bind=\"getBindValues\"\n    :activeName=\"activeName\"\n    :openNames=\"getOpenKeys\"\n    :class=\"prefixCls\"\n    :activeSubMenuNames=\"activeSubMenuNames\"\n    @select=\"handleSelect\"\n  >\n    <template v-for=\"item in items\" :key=\"item.path\">\n      <SimpleSubMenu\n        :item=\"item\"\n        :parent=\"true\"\n        :collapsedShowTitle=\"collapsedShowTitle\"\n        :collapse=\"collapse\"\n      />\n    </template>\n  </Menu>\n</template>\n<script lang=\"ts\">\n  import type { MenuState } from './types';\n  import type { Menu as MenuType } from '/@/router/types';\n  import type { RouteLocationNormalizedLoaded } from 'vue-router';\n  import { defineComponent, computed, ref, unref, reactive, toRefs, watch, PropType } from 'vue';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import Menu from './components/Menu.vue';\n  import SimpleSubMenu from './SimpleSubMenu.vue';\n  import { listenerRouteChange } from '/@/logics/mitt/routeChange';\n  import { propTypes } from '/@/utils/propTypes';\n  import { REDIRECT_NAME } from '/@/router/constant';\n  import { useRouter } from 'vue-router';\n  import { isFunction, isUrl } from '/@/utils/is';\n  import { openWindow } from '/@/utils';\n  import { useUserStore } from '/@/store/modules/user';\n  import { useOpenKeys } from './useOpenKeys';\n\n  export default defineComponent({\n    name: 'SimpleMenu',\n    components: {\n      Menu,\n      SimpleSubMenu,\n    },\n    inheritAttrs: false,\n    props: {\n      items: {\n        type: Array as PropType<MenuType[]>,\n        default: () => [],\n      },\n      collapse: propTypes.bool,\n      mixSider: propTypes.bool,\n      theme: propTypes.string,\n      accordion: propTypes.bool.def(true),\n      collapsedShowTitle: propTypes.bool,\n      beforeClickFn: {\n        type: Function as PropType<(key: string) => Promise<boolean>>,\n      },\n      isSplitMenu: propTypes.bool,\n    },\n    emits: ['menuClick'],\n    setup(props, { attrs, emit }) {\n      const currentActiveMenu = ref('');\n      const isClickGo = ref(false);\n\n      const menuState = reactive<MenuState>({\n        activeName: '',\n        openNames: [],\n        activeSubMenuNames: [],\n      });\n\n      const { currentRoute } = useRouter();\n      const { prefixCls } = useDesign('simple-menu');\n      const { items, accordion, mixSider, collapse } = toRefs(props);\n\n      const { setOpenKeys, getOpenKeys } = useOpenKeys(\n        menuState,\n        items,\n        accordion,\n        mixSider as any,\n        collapse as any,\n      );\n\n      const getBindValues = computed(() => ({ ...attrs, ...props }));\n      // const userStore = useUserStore();\n\n      watch(\n        () => props.collapse,\n        (collapse) => {\n          if (collapse) {\n            menuState.openNames = [];\n          } else {\n            setOpenKeys(currentRoute.value.path);\n          }\n        },\n        { immediate: true },\n      );\n\n      watch(\n        () => props.items,\n        () => {\n          if (!props.isSplitMenu) {\n            return;\n          }\n          /*** 左侧菜单，监听菜单变化\n          const menus = userStore.getMenuList;\n          const element = menus.find((item) => {\n            return item?.url === currentRoute.value.path && item?.name === currentRoute.value?.name;\n          });\n          if (element) {\n            return;\n          } **/\n          setOpenKeys(currentRoute.value.path);\n        },\n        { flush: 'post' },\n      );\n\n      listenerRouteChange((route) => {\n        if (route.name === REDIRECT_NAME) return;\n        /*** 左侧菜单，监听路由变化\n        const menus = userStore.getMenuList;\n        const element = menus.find((item) => {\n          return item?.url === route.path && item?.name === route?.name;\n        });\n        if (element) {\n          return;\n        } **/\n        currentActiveMenu.value = route.meta?.currentActiveMenu as string;\n        handleMenuChange(route);\n\n        if (unref(currentActiveMenu)) {\n          menuState.activeName = unref(currentActiveMenu);\n          setOpenKeys(unref(currentActiveMenu));\n        }\n      });\n\n      async function handleMenuChange(route?: RouteLocationNormalizedLoaded) {\n        if (unref(isClickGo)) {\n          isClickGo.value = false;\n          return;\n        }\n        const path = (route || unref(currentRoute)).path;\n\n        menuState.activeName = path;\n\n        setOpenKeys(path);\n      }\n\n      async function handleSelect(key: string) {\n        try {\n          if (isUrl(key)) {\n            openWindow(key);\n            return;\n          }\n          const { beforeClickFn } = props;\n          if (beforeClickFn && isFunction(beforeClickFn)) {\n            const flag = await beforeClickFn(key);\n            if (!flag) return;\n          }\n          isClickGo.value = true;\n          setOpenKeys(key);\n          menuState.activeName = key;\n          emit('menuClick', key);\n        } catch {\n          //\n        }\n      }\n\n      return {\n        prefixCls,\n        getBindValues,\n        handleSelect,\n        getOpenKeys,\n        ...toRefs(menuState),\n      };\n    },\n  });\n</script>\n<style lang=\"less\">\n  @import url('./index.less');\n</style>\n","<template>\n  <span :class=\"getTagClass\" v-if=\"getShowTag\">{{ getContent }}</span>\n</template>\n<script lang=\"ts\">\n  import type { Menu } from '/@/router/types';\n\n  import { defineComponent, computed } from 'vue';\n\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { propTypes } from '/@/utils/propTypes';\n\n  export default defineComponent({\n    name: 'SimpleMenuTag',\n    props: {\n      item: {\n        type: Object as PropType<Menu>,\n        default: () => ({}),\n      },\n      dot: propTypes.bool,\n      collapseParent: propTypes.bool,\n    },\n    setup(props) {\n      const { prefixCls } = useDesign('simple-menu');\n\n      const getShowTag = computed(() => {\n        const { item } = props;\n\n        if (!item) return false;\n\n        const { tag } = item;\n        if (!tag) return false;\n\n        const { dot, content } = tag;\n        if (!dot && !content) return false;\n        return true;\n      });\n\n      const getContent = computed(() => {\n        if (!getShowTag.value) return '';\n        const { item, collapseParent } = props;\n        const { tag } = item;\n        const { dot, content } = tag!;\n        return dot || collapseParent ? '' : content;\n      });\n\n      const getTagClass = computed(() => {\n        const { item, collapseParent } = props;\n        const { tag = {} } = item || {};\n        const { dot, type = 'error' } = tag;\n        const tagCls = `${prefixCls}-tag`;\n        return [\n          tagCls,\n\n          [`${tagCls}--${type}`],\n          {\n            [`${tagCls}--collapse`]: collapseParent,\n            [`${tagCls}--dot`]: dot || props.dot,\n          },\n        ];\n      });\n      return {\n        getTagClass,\n        getShowTag,\n        getContent,\n      };\n    },\n  });\n</script>\n","import type { Menu } from '/@/router/types';\nimport type { Ref } from 'vue';\nimport { watch, unref, ref, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { MenuSplitTyeEnum } from '/@/enums/menuEnum';\nimport { useThrottleFn } from '@vueuse/core';\nimport { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\nimport { getChildrenMenus, getCurrentParentPath, getMenus, getShallowMenus } from '/@/router/menus';\nimport { usePermissionStore } from '/@/store/modules/permission';\nimport { useAppInject } from '/@/hooks/web/useAppInject';\n\nexport function useSplitMenu(splitType: Ref<MenuSplitTyeEnum>) {\n  // Menu array\n  const menusRef = ref<Menu[]>([]);\n  const { currentRoute } = useRouter();\n  const { getIsMobile } = useAppInject();\n  const permissionStore = usePermissionStore();\n  const { setMenuSetting, getIsHorizontal, getSplit } = useMenuSetting();\n\n  const throttleHandleSplitLeftMenu = useThrottleFn(handleSplitLeftMenu, 50);\n\n  const splitNotLeft = computed(\n    () => unref(splitType) !== MenuSplitTyeEnum.LEFT && !unref(getIsHorizontal),\n  );\n\n  const getSplitLeft = computed(\n    () => !unref(getSplit) || unref(splitType) !== MenuSplitTyeEnum.LEFT,\n  );\n\n  const getSpiltTop = computed(() => unref(splitType) === MenuSplitTyeEnum.TOP);\n\n  const normalType = computed(() => {\n    return unref(splitType) === MenuSplitTyeEnum.NONE || !unref(getSplit);\n  });\n\n  watch(\n    [() => unref(currentRoute).path, () => unref(splitType)],\n    async ([path]: [string, MenuSplitTyeEnum]) => {\n      if (unref(splitNotLeft) || unref(getIsMobile)) return;\n\n      const { meta } = unref(currentRoute);\n      const currentActiveMenu = meta.currentActiveMenu as string;\n      let parentPath = await getCurrentParentPath(path);\n      if (!parentPath) {\n        parentPath = await getCurrentParentPath(currentActiveMenu);\n      }\n      parentPath && throttleHandleSplitLeftMenu(parentPath);\n    },\n    {\n      immediate: true,\n    },\n  );\n\n  // Menu changes\n  watch(\n    [() => permissionStore.getLastBuildMenuTime, () => permissionStore.getBackMenuList],\n    () => {\n      genMenus();\n    },\n    {\n      immediate: true,\n    },\n  );\n\n  // split Menu changes\n  watch(\n    () => getSplit.value,\n    () => {\n      if (unref(splitNotLeft)) return;\n      genMenus();\n    },\n  );\n\n  // Handle left menu split\n  async function handleSplitLeftMenu(parentPath: string) {\n    if (unref(getSplitLeft) || unref(getIsMobile)) return;\n\n    // spilt mode left\n    const children = await getChildrenMenus(parentPath);\n\n    if (!children || !children.length) {\n      setMenuSetting({ hidden: true });\n      menusRef.value = [];\n      return;\n    }\n\n    setMenuSetting({ hidden: false });\n    menusRef.value = children;\n  }\n\n  // get menus\n  async function genMenus() {\n    // normal mode\n    if (unref(normalType) || unref(getIsMobile)) {\n      menusRef.value = await getMenus();\n      return;\n    }\n\n    // split-top\n    if (unref(getSpiltTop)) {\n      const shallowMenus = await getShallowMenus();\n\n      menusRef.value = shallowMenus;\n      return;\n    }\n  }\n\n  return { menusRef };\n}\n","<script lang=\"tsx\">\n  import type { PropType, CSSProperties } from 'vue';\n  import { nextTick, computed, defineComponent, unref, toRef } from 'vue';\n  import { BasicMenu } from '/@/components/Menu';\n  import { SimpleMenu } from '/@/components/SimpleMenu';\n  import { AppLogo } from '/@/components/Application';\n\n  import { MenuModeEnum, MenuSplitTyeEnum } from '/@/enums/menuEnum';\n\n  import { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\n  import { ScrollContainer } from '/@/components/Container';\n\n  import { useGo } from '/@/hooks/web/usePage';\n  import { useSplitMenu } from './useLayoutMenu';\n  import { openWindow } from '/@/utils';\n  import { propTypes } from '/@/utils/propTypes';\n  import { isUrl } from '/@/utils/is';\n  import { useRootSetting } from '/@/hooks/setting/useRootSetting';\n  import { useAppInject } from '/@/hooks/web/useAppInject';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { useRouter } from 'vue-router';\n\n  export default defineComponent({\n    name: 'LayoutMenu',\n    props: {\n      theme: propTypes.oneOf(['light', 'dark']),\n\n      splitType: {\n        type: Number as PropType<MenuSplitTyeEnum>,\n        default: MenuSplitTyeEnum.NONE,\n      },\n\n      isHorizontal: propTypes.bool,\n      // menu Mode\n      menuMode: {\n        type: [String] as PropType<MenuModeEnum | null>,\n        default: '',\n      },\n    },\n    setup(props) {\n      const go = useGo();\n      const router = useRouter();\n      const {\n        getMenuMode,\n        getMenuType,\n        getMenuTheme,\n        getCollapsed,\n        getCollapsedShowTitle,\n        getAccordion,\n        getIsHorizontal,\n        getIsSidebarType,\n        getSplit,\n      } = useMenuSetting();\n      const { getShowLogo } = useRootSetting();\n\n      const { prefixCls } = useDesign('layout-menu');\n\n      const { menusRef } = useSplitMenu(toRef(props, 'splitType'));\n\n      const { getIsMobile } = useAppInject();\n\n      const getComputedMenuMode = computed(() =>\n        unref(getIsMobile) ? MenuModeEnum.INLINE : props.menuMode || unref(getMenuMode),\n      );\n\n      const getComputedMenuTheme = computed(() => props.theme || unref(getMenuTheme));\n\n      const getIsShowLogo = computed(() => unref(getShowLogo) && unref(getIsSidebarType));\n\n      const getUseScroll = computed(() => {\n        return (\n          !unref(getIsHorizontal) &&\n          (unref(getIsSidebarType) ||\n            props.splitType === MenuSplitTyeEnum.LEFT ||\n            props.splitType === MenuSplitTyeEnum.NONE)\n        );\n      });\n\n      const getWrapperStyle = computed((): CSSProperties => {\n        return {\n          height: `calc(100% - ${unref(getIsShowLogo) ? '48px' : '0px'})`,\n        };\n      });\n\n      const getLogoClass = computed(() => {\n        return [\n          `${prefixCls}-logo`,\n          unref(getComputedMenuTheme),\n          {\n            [`${prefixCls}--mobile`]: unref(getIsMobile),\n          },\n        ];\n      });\n\n      const getCommonProps = computed(() => {\n        const menus = unref(menusRef);\n        return {\n          menus,\n          beforeClickFn: beforeMenuClickFn,\n          items: menus,\n          theme: unref(getComputedMenuTheme),\n          accordion: unref(getAccordion),\n          collapse: unref(getCollapsed),\n          collapsedShowTitle: unref(getCollapsedShowTitle),\n          onMenuClick: handleMenuClick,\n        };\n      });\n\n      /**\n       * click menu\n       * @param menu\n       */\n      function handleMenuClick(path: string) {\n        nextTick(() => {\n          try {\n            router.push(path);\n          } catch {\n            go(path);\n          }\n        });\n      }\n\n      /**\n       * before click menu\n       * @param menu\n       */\n      async function beforeMenuClickFn(path: string) {\n        if (!isUrl(path)) {\n          return true;\n        }\n        openWindow(path);\n        return false;\n      }\n\n      function renderHeader() {\n        if (!unref(getIsShowLogo) && !unref(getIsMobile)) return null;\n\n        return (\n          <AppLogo\n            showTitle={!unref(getCollapsed)}\n            class={unref(getLogoClass)}\n            theme={unref(getComputedMenuTheme)}\n          />\n        );\n      }\n\n      function renderMenu() {\n        const { menus, ...menuProps } = unref(getCommonProps);\n        // console.log(menus);\n        if (!menus || !menus.length) return null;\n        return !props.isHorizontal ? (\n          <SimpleMenu {...menuProps} isSplitMenu={unref(getSplit)} items={menus} />\n        ) : (\n          <BasicMenu\n            {...(menuProps as any)}\n            isHorizontal={props.isHorizontal}\n            type={unref(getMenuType)}\n            showLogo={unref(getIsShowLogo)}\n            mode={unref(getComputedMenuMode as any)}\n            items={menus}\n          />\n        );\n      }\n\n      return () => {\n        return (\n          <>\n            {renderHeader()}\n            {unref(getUseScroll) ? (\n              <ScrollContainer style={unref(getWrapperStyle)}>{() => renderMenu()}</ScrollContainer>\n            ) : (\n              renderMenu()\n            )}\n          </>\n        );\n      };\n    },\n  });\n</script>\n<style lang=\"less\">\n  @prefix-cls: ~'@{namespace}-layout-menu';\n  @logo-prefix-cls: ~'@{namespace}-app-logo';\n\n  .@{prefix-cls} {\n    &-logo {\n      height: @header-height;\n      padding: 10px 4px 10px 10px;\n\n      img {\n        width: @logo-width;\n        height: @logo-width;\n      }\n    }\n\n    &--mobile {\n      .@{logo-prefix-cls} {\n        &__title {\n          opacity: 1;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <span :class=\"[prefixCls, theme]\" @click=\"toggleCollapsed\">\n    <MenuUnfoldOutlined v-if=\"getCollapsed\" /> <MenuFoldOutlined v-else />\n  </span>\n</template>\n<script lang=\"ts\" setup>\n  import { MenuUnfoldOutlined, MenuFoldOutlined } from '@ant-design/icons-vue';\n  import { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { propTypes } from '/@/utils/propTypes';\n\n  defineProps({\n    theme: propTypes.oneOf(['light', 'dark']),\n  });\n  const { getCollapsed, toggleCollapsed } = useMenuSetting();\n  const { prefixCls } = useDesign('layout-header-trigger');\n</script>\n","<template>\n  <div @click.stop=\"toggleCollapsed\">\n    <DoubleRightOutlined v-if=\"getCollapsed\" />\n    <DoubleLeftOutlined v-else />\n  </div>\n</template>\n<script lang=\"ts\" setup>\n  import { DoubleRightOutlined, DoubleLeftOutlined } from '@ant-design/icons-vue';\n  import { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\n\n  const { getCollapsed, toggleCollapsed } = useMenuSetting();\n</script>\n","<template>\n  <Tooltip :title=\"getTitle\" placement=\"bottom\" :mouseEnterDelay=\"0.5\">\n    <span @click=\"toggle\">\n      <FullscreenOutlined v-if=\"!isFullscreen\" />\n      <FullscreenExitOutlined v-else />\n    </span>\n  </Tooltip>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, computed, unref } from 'vue';\n  import { Tooltip } from 'ant-design-vue';\n  import { useI18n } from '/@/hooks/web/useI18n';\n  import { useFullscreen } from '@vueuse/core';\n\n  import { FullscreenExitOutlined, FullscreenOutlined } from '@ant-design/icons-vue';\n\n  export default defineComponent({\n    name: 'FullScreen',\n    components: { FullscreenExitOutlined, FullscreenOutlined, Tooltip },\n\n    setup() {\n      const { t } = useI18n();\n      const { toggle, isFullscreen } = useFullscreen();\n      // 重新检查全屏状态\n      isFullscreen.value = !!(\n        document.fullscreenElement ||\n        document.webkitFullscreenElement ||\n        document.mozFullScreenElement ||\n        document.msFullscreenElement\n      );\n\n      const getTitle = computed(() => {\n        return unref(isFullscreen)\n          ? t('layout.header.tooltipExitFull')\n          : t('layout.header.tooltipEntryFull');\n      });\n\n      return {\n        getTitle,\n        isFullscreen,\n        toggle,\n      };\n    },\n  });\n</script>\n","<template>\n  <Header :class=\"getHeaderClass\">\n    <!-- left start -->\n    <div :class=\"`${prefixCls}-left`\">\n      <!-- logo -->\n      <AppLogo\n        v-if=\"getShowHeaderLogo || getIsMobile\"\n        :class=\"`${prefixCls}-logo`\"\n        :theme=\"getHeaderTheme\"\n        :style=\"getLogoWidth\"\n      />\n      <LayoutTrigger\n        v-if=\"\n          (getShowContent && getShowHeaderTrigger && !getSplit && !getIsMixSidebar) || getIsMobile\n        \"\n        :theme=\"getHeaderTheme\"\n        :sider=\"false\"\n      />\n      <LayoutBreadcrumb v-if=\"getShowContent && getShowBread\" :theme=\"getHeaderTheme\" />\n    </div>\n    <!-- left end -->\n\n    <!-- menu start -->\n    <div :class=\"`${prefixCls}-menu`\" v-if=\"getShowTopMenu && !getIsMobile\">\n      <LayoutMenu\n        :isHorizontal=\"true\"\n        :theme=\"getHeaderTheme\"\n        :splitType=\"getSplitType\"\n        :menuMode=\"getMenuMode\"\n      />\n    </div>\n    <!-- menu-end -->\n\n    <!-- action  -->\n    <div :class=\"`${prefixCls}-action`\">\n      <AppSearch :class=\"`${prefixCls}-action__item `\" v-if=\"getShowSearch\" />\n      <ErrorAction v-if=\"getUseErrorHandle\" :class=\"`${prefixCls}-action__item error-action`\" />\n      <Notify v-if=\"getShowNotice\" :class=\"`${prefixCls}-action__item notify-item`\" />\n      <FullScreen v-if=\"getShowFullScreen\" :class=\"`${prefixCls}-action__item fullscreen-item`\" />\n      <UserDropDown :theme=\"getHeaderTheme\" />\n      <SettingDrawer v-if=\"getShowSetting\" :class=\"`${prefixCls}-action__item`\" />\n    </div>\n  </Header>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, unref, computed } from 'vue';\n\n  import { propTypes } from '/@/utils/propTypes';\n\n  import { Layout } from 'ant-design-vue';\n  import { AppLogo, AppSearch, AppLocalePicker } from '/@/components/Application';\n  import LayoutMenu from '../menu/index.vue';\n  import LayoutTrigger from '../trigger/index.vue';\n\n  import { useHeaderSetting } from '/@/hooks/setting/useHeaderSetting';\n  import { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\n  import { useRootSetting } from '/@/hooks/setting/useRootSetting';\n\n  import { MenuModeEnum, MenuSplitTyeEnum } from '/@/enums/menuEnum';\n  import { SettingButtonPositionEnum } from '/@/enums/appEnum';\n\n  import { UserDropDown, LayoutBreadcrumb, FullScreen, Notify, ErrorAction } from './components';\n  import { useAppInject } from '/@/hooks/web/useAppInject';\n  import { useDesign } from '/@/hooks/web/useDesign';\n\n  import { createAsyncComponent } from '/@/utils/factory/createAsyncComponent';\n  import { useLocale } from '/@/locales/useLocale';\n\n  export default defineComponent({\n    name: 'LayoutHeader',\n    components: {\n      Header: Layout.Header,\n      AppLogo,\n      LayoutTrigger,\n      LayoutBreadcrumb,\n      LayoutMenu,\n      UserDropDown,\n      FullScreen,\n      Notify,\n      AppSearch,\n      ErrorAction,\n      SettingDrawer: createAsyncComponent(() => import('/@/layouts/default/setting/index.vue'), {\n        loading: true,\n      }),\n    },\n    props: {\n      fixed: propTypes.bool,\n    },\n    setup(props) {\n      const { prefixCls } = useDesign('layout-header');\n      const {\n        getShowTopMenu,\n        getShowHeaderTrigger,\n        getSplit,\n        getIsMixMode,\n        getMenuWidth,\n        getIsMixSidebar,\n      } = useMenuSetting();\n      const { getUseErrorHandle, getShowSettingButton, getSettingButtonPosition } =\n        useRootSetting();\n\n      const {\n        getHeaderTheme,\n        getShowFullScreen,\n        getShowNotice,\n        getShowContent,\n        getShowBread,\n        getShowHeaderLogo,\n        getShowHeader,\n        getShowSearch,\n      } = useHeaderSetting();\n\n      const { getShowLocalePicker } = useLocale();\n\n      const { getIsMobile } = useAppInject();\n\n      const getHeaderClass = computed(() => {\n        const theme = unref(getHeaderTheme);\n        return [\n          prefixCls,\n          {\n            [`${prefixCls}--fixed`]: props.fixed,\n            [`${prefixCls}--mobile`]: unref(getIsMobile),\n            [`${prefixCls}--${theme}`]: theme,\n          },\n        ];\n      });\n\n      const getShowSetting = computed(() => {\n        if (!unref(getShowSettingButton)) {\n          return false;\n        }\n        const settingButtonPosition = unref(getSettingButtonPosition);\n\n        if (settingButtonPosition === SettingButtonPositionEnum.AUTO) {\n          return unref(getShowHeader);\n        }\n        return settingButtonPosition === SettingButtonPositionEnum.HEADER;\n      });\n\n      const getLogoWidth = computed(() => {\n        if (!unref(getIsMixMode) || unref(getIsMobile)) {\n          return {};\n        }\n        const width = unref(getMenuWidth) < 180 ? 180 : unref(getMenuWidth);\n        return { width: `${width}px` };\n      });\n\n      const getSplitType = computed(() => {\n        return unref(getSplit) ? MenuSplitTyeEnum.TOP : MenuSplitTyeEnum.NONE;\n      });\n\n      const getMenuMode = computed(() => {\n        return unref(getSplit) ? MenuModeEnum.HORIZONTAL : null;\n      });\n\n      return {\n        prefixCls,\n        getHeaderClass,\n        getShowHeaderLogo,\n        getHeaderTheme,\n        getShowHeaderTrigger,\n        getIsMobile,\n        getShowBread,\n        getShowContent,\n        getSplitType,\n        getSplit,\n        getMenuMode,\n        getShowTopMenu,\n        getShowLocalePicker,\n        getShowFullScreen,\n        getShowNotice,\n        getUseErrorHandle,\n        getLogoWidth,\n        getIsMixSidebar,\n        getShowSettingButton,\n        getShowSetting,\n        getShowSearch,\n      };\n    },\n  });\n</script>\n<style lang=\"less\">\n  @import url('./index.less');\n</style>\n","import type { MultiTabsSetting } from '/#/config';\n\nimport { computed } from 'vue';\n\nimport { useAppStore } from '/@/store/modules/app';\n\nexport function useMultipleTabSetting() {\n  const appStore = useAppStore();\n\n  const getShowMultipleTab = computed(() => appStore.getMultiTabsSetting.show);\n\n  const getShowQuick = computed(() => appStore.getMultiTabsSetting.showQuick);\n\n  const getShowRedo = computed(() => appStore.getMultiTabsSetting.showRedo);\n\n  const getShowFold = computed(() => appStore.getMultiTabsSetting.showFold);\n\n  function setMultipleTabSetting(multiTabsSetting: Partial<MultiTabsSetting>) {\n    appStore.setProjectConfig({ multiTabsSetting });\n  }\n  return {\n    setMultipleTabSetting,\n    getShowMultipleTab,\n    getShowQuick,\n    getShowRedo,\n    getShowFold,\n  };\n}\n","import type { AppRouteRecordRaw } from '/@/router/types';\n\nimport { computed, toRaw, unref } from 'vue';\n\nimport { useMultipleTabStore } from '/@/store/modules/multipleTab';\n\nimport { uniqBy } from 'lodash-es';\n\nimport { useMultipleTabSetting } from '/@/hooks/setting/useMultipleTabSetting';\n\nimport { useRouter } from 'vue-router';\n\nexport function useFrameKeepAlive() {\n  const router = useRouter();\n  const { currentRoute } = router;\n  const { getShowMultipleTab } = useMultipleTabSetting();\n  const tabStore = useMultipleTabStore();\n  const getFramePages = computed(() => {\n    const ret = getAllFramePages(toRaw(router.getRoutes()) as unknown as AppRouteRecordRaw[]) || [];\n    return ret;\n  });\n\n  const getOpenTabList = computed((): string[] => {\n    return tabStore.getTabList.reduce((prev: string[], next) => {\n      if (next.meta && Reflect.has(next.meta, 'frameSrc')) {\n        prev.push(next.name as string);\n      }\n      return prev;\n    }, []);\n  });\n\n  function getAllFramePages(routes: AppRouteRecordRaw[]): AppRouteRecordRaw[] {\n    let res: AppRouteRecordRaw[] = [];\n    for (const route of routes) {\n      const { meta: { frameSrc } = {}, children } = route;\n      if (frameSrc) {\n        res.push(route);\n      }\n      if (children && children.length) {\n        res.push(...getAllFramePages(children));\n      }\n    }\n    res = uniqBy(res, 'name');\n    return res;\n  }\n\n  function showIframe(item: AppRouteRecordRaw) {\n    return item.name === unref(currentRoute).name;\n  }\n\n  function hasRenderFrame(name: string) {\n    if (!unref(getShowMultipleTab)) {\n      return router.currentRoute.value.name === name;\n    }\n    return unref(getOpenTabList).includes(name);\n  }\n\n  return { hasRenderFrame, getFramePages, showIframe, getAllFramePages };\n}\n","<template>\n  <div v-if=\"showFrame\">\n    <template v-for=\"frame in getFramePages\" :key=\"frame.path\">\n      <FramePage\n        v-if=\"frame.meta.frameSrc && hasRenderFrame(frame.name)\"\n        v-show=\"showIframe(frame)\"\n        :frameSrc=\"frame.meta.frameSrc\"\n      />\n    </template>\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, unref, computed } from 'vue';\n  import FramePage from '/@/views/sys/iframe/index.vue';\n\n  import { useFrameKeepAlive } from './useFrameKeepAlive';\n\n  export default defineComponent({\n    name: 'FrameLayout',\n    components: { FramePage },\n    setup() {\n      const { getFramePages, hasRenderFrame, showIframe } = useFrameKeepAlive();\n\n      const showFrame = computed(() => unref(getFramePages).length > 0);\n\n      return { getFramePages, hasRenderFrame, showIframe, showFrame };\n    },\n  });\n</script>\n","import type { FunctionalComponent } from 'vue';\nimport type { RouteLocation } from 'vue-router';\n\nexport interface DefaultContext {\n  Component: FunctionalComponent & { type: Recordable };\n  route: RouteLocation;\n}\n\nexport function getTransitionName({\n  route,\n  openCache,\n  cacheTabs,\n  enableTransition,\n  def,\n}: Pick<DefaultContext, 'route'> & {\n  enableTransition: boolean;\n  openCache: boolean;\n  def: string;\n  cacheTabs: string[];\n}): string | undefined {\n  if (!enableTransition) {\n    return undefined;\n  }\n\n  const isInCache = cacheTabs.includes(route.name as string);\n  const transitionName = 'fade-slide';\n  let name: string | undefined = transitionName;\n\n  if (openCache) {\n    name = isInCache && route.meta.loaded ? transitionName : undefined;\n  }\n  return name || (route.meta.transitionName as string) || def;\n}\n","<template>\n  <keep-alive>\n    <RouterView>\n      <template #default=\"{ Component, route }\">\n        <template v-if=\"handleIsCachedComponent(Component, route, 'reverse')\">\n          <component :is=\"handleComponent(Component, route)\" :key=\"routeKey\" />\n        </template>\n        <template v-else>\n          <keep-alive>\n            <component :is=\"handleComponent(Component, route)\" :key=\"routeKey\" />\n          </keep-alive>\n        </template>\n      </template>\n    </RouterView>\n  </keep-alive>\n  <FrameLayout v-if=\"getCanEmbedIFramePage\" />\n</template>\n\n<script lang=\"ts\">\n  import { computed, defineComponent, unref, ref } from 'vue';\n  import { setComponetInfo } from '/@/utils/cache';\n\n  import FrameLayout from '/@/layouts/iframe/index.vue';\n\n  import { useRootSetting } from '/@/hooks/setting/useRootSetting';\n\n  import { useTransitionSetting } from '/@/hooks/setting/useTransitionSetting';\n  import { useMultipleTabSetting } from '/@/hooks/setting/useMultipleTabSetting';\n  import { getTransitionName } from './transition';\n\n  import { useMultipleTabStore } from '/@/store/modules/multipleTab';\n\n  export default defineComponent({\n    name: 'PageLayout',\n    components: { FrameLayout },\n    setup() {\n      const { getShowMultipleTab } = useMultipleTabSetting();\n      const tabStore = useMultipleTabStore();\n\n      const { getOpenKeepAlive, getCanEmbedIFramePage } = useRootSetting();\n\n      const { getBasicTransition, getEnableTransition } = useTransitionSetting();\n\n      const openCache = computed(() => unref(getOpenKeepAlive) && unref(getShowMultipleTab));\n      const isCachedComponent = ref(true);\n\n      const getCaches = computed((): string[] => {\n        if (!unref(getOpenKeepAlive)) {\n          return [];\n        }\n        return tabStore.getCachedTabList;\n      });\n\n      const routeKey = ref('');\n\n      const handleComponent = (component, route) => {\n        if (typeof component?.type != 'function') {\n          routeKey.value = route.fullPath;\n          setComponetInfo(route.fullPath + '#type', component?.type);\n        } else {\n          routeKey.value = route.fullPath;\n          setComponetInfo(route.fullPath + '#type', component?.type);\n        }\n        return component;\n      };\n\n      const handleIsCachedComponent = (component, route, flag = 'forward'): boolean => {\n        try {\n          // 如果Path在刷新List中，则重新渲染，如果在Tab页签List中，则使用缓存\n          const result = !tabStore.getRefreshList(route.fullPath);\n          console.log('path use cache:', result, ' path:', route.fullPath);\n          if (flag == 'forward') {\n            return result;\n          } else {\n            return !result;\n          }\n        } catch (error) {\n          return true;\n        }\n      };\n\n      return {\n        getTransitionName,\n        openCache,\n        getEnableTransition,\n        getBasicTransition,\n        getCaches,\n        getCanEmbedIFramePage,\n        isCachedComponent,\n        handleComponent,\n        handleIsCachedComponent,\n        routeKey,\n      };\n    },\n  });\n</script>\n","<template>\n  <div :class=\"[prefixCls, getLayoutContentMode]\" v-loading=\"getOpenPageLoading && getPageLoading\">\n    <PageLayout />\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent } from 'vue';\n  import PageLayout from '/@/layouts/page/index.vue';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { useRootSetting } from '/@/hooks/setting/useRootSetting';\n  import { useTransitionSetting } from '/@/hooks/setting/useTransitionSetting';\n  import { useContentViewHeight } from './useContentViewHeight';\n\n  export default defineComponent({\n    name: 'LayoutContent',\n    components: { PageLayout },\n    setup() {\n      const { prefixCls } = useDesign('layout-content');\n      const { getOpenPageLoading } = useTransitionSetting();\n      const { getLayoutContentMode, getPageLoading } = useRootSetting();\n\n      useContentViewHeight();\n      return {\n        prefixCls,\n        getOpenPageLoading,\n        getLayoutContentMode,\n        getPageLoading,\n      };\n    },\n  });\n</script>\n<style lang=\"less\">\n  @prefix-cls: ~'@{namespace}-layout-content';\n\n  .@{prefix-cls} {\n    position: relative;\n    flex: 1 1 auto;\n    min-height: 0;\n    height: calc(100vh - 78px);\n    overflow-y: auto;\n\n    // begin: 下面这块代码 在我的项目打包后在比较宽的屏幕(2K 31 寸)有显示 bug 有偶发性 清缓存首次进入会出现 , 刷新就没了, 这里为什么要指定宽度 ?\n    &.fixed {\n      width: 1200px;\n      margin: 0 auto;\n    }\n    // end\n\n    &-loading {\n      position: absolute;\n      z-index: @page-loading-z-index;\n      top: 200px;\n    }\n  }\n</style>\n","import type { Ref } from 'vue';\n\nimport { computed, unref, onMounted, nextTick } from 'vue';\n\nimport { TriggerEnum } from '/@/enums/menuEnum';\n\nimport { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\nimport { useDebounceFn } from '@vueuse/core';\nimport { useAppStore } from '/@/store/modules/app';\n\n/**\n * Handle related operations of menu events\n */\nexport function useSiderEvent() {\n  const appStore = useAppStore();\n  const { getMiniWidthNumber } = useMenuSetting();\n\n  const getCollapsedWidth = computed(() => {\n    return unref(getMiniWidthNumber);\n  });\n\n  function onBreakpointChange(broken: boolean) {\n    appStore.setProjectConfig({\n      menuSetting: {\n        siderHidden: broken,\n      },\n    });\n  }\n\n  return { getCollapsedWidth, onBreakpointChange };\n}\n\n/**\n * Handle related operations of menu folding\n */\nexport function useTrigger(getIsMobile: Ref<boolean>) {\n  const { getTrigger, getSplit } = useMenuSetting();\n\n  const getShowTrigger = computed(() => {\n    const trigger = unref(getTrigger);\n\n    return (\n      trigger !== TriggerEnum.NONE &&\n      !unref(getIsMobile) &&\n      (trigger === TriggerEnum.FOOTER || unref(getSplit))\n    );\n  });\n\n  const getTriggerAttr = computed(() => {\n    if (unref(getShowTrigger)) {\n      return {};\n    }\n    return {\n      trigger: null,\n    };\n  });\n\n  return { getTriggerAttr, getShowTrigger };\n}\n\n/**\n * Handle menu drag and drop related operations\n * @param siderRef\n * @param dragBarRef\n */\nexport function useDragLine(siderRef: Ref<any>, dragBarRef: Ref<any>, mix = false) {\n  const { getMiniWidthNumber, getCollapsed, setMenuSetting } = useMenuSetting();\n\n  onMounted(() => {\n    nextTick(() => {\n      const exec = useDebounceFn(changeWrapWidth, 80);\n      exec();\n    });\n  });\n\n  function getEl(elRef: Ref<ElRef | ComponentRef>): any {\n    const el = unref(elRef);\n    if (!el) return null;\n    if (Reflect.has(el, '$el')) {\n      return (unref(elRef) as ComponentRef)?.$el;\n    }\n    return unref(elRef);\n  }\n\n  function handleMouseMove(ele: HTMLElement, wrap: HTMLElement, clientX: number) {\n    document.onmousemove = function (innerE) {\n      let iT = (ele as any).left + (innerE.clientX - clientX);\n      innerE = innerE || window.event;\n      const maxT = 800;\n      const minT = unref(getMiniWidthNumber);\n      iT < 0 && (iT = 0);\n      iT > maxT && (iT = maxT);\n      iT < minT && (iT = minT);\n      ele.style.left = wrap.style.width = iT + 'px';\n      return false;\n    };\n  }\n\n  // Drag and drop in the menu area-release the mouse\n  function removeMouseup(ele: any) {\n    const wrap = getEl(siderRef);\n    document.onmouseup = function () {\n      document.onmousemove = null;\n      document.onmouseup = null;\n      wrap.style.transition = 'width 0.2s';\n      const width = parseInt(wrap.style.width);\n\n      if (!mix) {\n        const miniWidth = unref(getMiniWidthNumber);\n        if (!unref(getCollapsed)) {\n          width > miniWidth + 20\n            ? setMenuSetting({ menuWidth: width })\n            : setMenuSetting({ collapsed: true });\n        } else {\n          width > miniWidth && setMenuSetting({ collapsed: false, menuWidth: width });\n        }\n      } else {\n        setMenuSetting({ menuWidth: width });\n      }\n\n      ele.releaseCapture?.();\n    };\n  }\n\n  function changeWrapWidth() {\n    const ele = getEl(dragBarRef);\n    if (!ele) return;\n    const wrap = getEl(siderRef);\n    if (!wrap) return;\n\n    ele.onmousedown = (e: any) => {\n      wrap.style.transition = 'unset';\n      const clientX = e?.clientX;\n      ele.left = ele.offsetLeft;\n      handleMouseMove(ele, wrap, clientX);\n      removeMouseup(ele);\n      ele.setCapture?.();\n      return false;\n    };\n  }\n\n  return {};\n}\n","<template>\n  <div :class=\"getClass\" :style=\"getDragBarStyle\"></div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, computed, unref } from 'vue';\n\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\n\n  export default defineComponent({\n    name: 'DargBar',\n    props: {\n      mobile: Boolean,\n    },\n    setup(props) {\n      const { getMiniWidthNumber, getCollapsed, getCanDrag } = useMenuSetting();\n\n      const { prefixCls } = useDesign('darg-bar');\n      const getDragBarStyle = computed(() => {\n        if (unref(getCollapsed)) {\n          return { left: `${unref(getMiniWidthNumber)}px` };\n        }\n        return {};\n      });\n\n      const getClass = computed(() => {\n        return [\n          prefixCls,\n          {\n            [`${prefixCls}--hide`]: !unref(getCanDrag) || props.mobile,\n          },\n        ];\n      });\n\n      return {\n        prefixCls,\n        getDragBarStyle,\n        getClass,\n      };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls: ~'@{namespace}-darg-bar';\n\n  .@{prefix-cls} {\n    position: absolute;\n    z-index: @side-drag-z-index;\n    top: 0;\n    right: -2px;\n    width: 2px;\n    height: 100%;\n    border-top: none;\n    border-bottom: none;\n    cursor: col-resize;\n\n    &--hide {\n      display: none;\n    }\n\n    &:hover {\n      background-color: @primary-color;\n      box-shadow: 0 0 4px 0 rgb(28 36 56 / 15%);\n    }\n  }\n</style>\n","<template>\n  <div\n    v-if=\"getMenuFixed && !getIsMobile\"\n    :style=\"getHiddenDomStyle\"\n    v-show=\"showClassSideBarRef\"\n  ></div>\n  <Sider\n    v-show=\"showClassSideBarRef\"\n    ref=\"sideRef\"\n    breakpoint=\"lg\"\n    collapsible\n    :class=\"getSiderClass\"\n    :width=\"getMenuWidth\"\n    :collapsed=\"getCollapsed\"\n    :collapsedWidth=\"getCollapsedWidth\"\n    :theme=\"getMenuTheme\"\n    @breakpoint=\"onBreakpointChange\"\n    :trigger=\"getTrigger\"\n    v-bind=\"getTriggerAttr\"\n  >\n    <template #trigger v-if=\"getShowTrigger\">\n      <LayoutTrigger />\n    </template>\n    <LayoutMenu :theme=\"getMenuTheme\" :menuMode=\"getMode\" :splitType=\"getSplitType\" />\n    <DragBar ref=\"dragBarRef\" />\n  </Sider>\n</template>\n<script lang=\"ts\">\n  import { computed, defineComponent, ref, unref, CSSProperties, h } from 'vue';\n\n  import { Layout } from 'ant-design-vue';\n  import LayoutMenu from '../menu/index.vue';\n  import LayoutTrigger from '/@/layouts/default/trigger/index.vue';\n  import { MenuModeEnum, MenuSplitTyeEnum } from '/@/enums/menuEnum';\n  import { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\n  import { useTrigger, useDragLine, useSiderEvent } from './useLayoutSider';\n  import { useAppInject } from '/@/hooks/web/useAppInject';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import DragBar from './DragBar.vue';\n\n  export default defineComponent({\n    name: 'LayoutSideBar',\n    components: { Sider: Layout.Sider, LayoutMenu, DragBar, LayoutTrigger },\n    setup() {\n      const dragBarRef = ref(null);\n      const sideRef = ref(null);\n\n      const {\n        getCollapsed,\n        getMenuWidth,\n        getSplit,\n        getMenuTheme,\n        getRealWidth,\n        getMenuHidden,\n        getMenuFixed,\n        getIsMixMode,\n        toggleCollapsed,\n      } = useMenuSetting();\n\n      const { prefixCls } = useDesign('layout-sideBar');\n\n      const { getIsMobile } = useAppInject();\n\n      const { getTriggerAttr, getShowTrigger } = useTrigger(getIsMobile);\n\n      useDragLine(sideRef, dragBarRef);\n\n      const { getCollapsedWidth, onBreakpointChange } = useSiderEvent();\n\n      const getMode = computed(() => {\n        return unref(getSplit) ? MenuModeEnum.INLINE : null;\n      });\n\n      const getSplitType = computed(() => {\n        return unref(getSplit) ? MenuSplitTyeEnum.LEFT : MenuSplitTyeEnum.NONE;\n      });\n\n      const showClassSideBarRef = computed(() => {\n        return unref(getSplit) ? !unref(getMenuHidden) : true;\n      });\n\n      const getSiderClass = computed(() => {\n        return [\n          prefixCls,\n          {\n            [`${prefixCls}--fixed`]: unref(getMenuFixed),\n            [`${prefixCls}--mix`]: unref(getIsMixMode) && !unref(getIsMobile),\n          },\n        ];\n      });\n\n      const getHiddenDomStyle = computed((): CSSProperties => {\n        const width = `${unref(getRealWidth)}px`;\n        return {\n          width: width,\n          overflow: 'hidden',\n          flex: `0 0 ${width}`,\n          maxWidth: width,\n          minWidth: width,\n          transition: 'all 0.2s',\n        };\n      });\n\n      // 在此处使用计算量可能会导致sider异常\n      // andv 更新后，如果trigger插槽可用，则此处代码可废弃\n      const getTrigger = h(LayoutTrigger);\n\n      return {\n        prefixCls,\n        sideRef,\n        dragBarRef,\n        getIsMobile,\n        getHiddenDomStyle,\n        getSiderClass,\n        getTrigger,\n        getTriggerAttr,\n        getCollapsedWidth,\n        getMenuFixed,\n        showClassSideBarRef,\n        getMenuWidth,\n        getCollapsed,\n        getMenuTheme,\n        onBreakpointChange,\n        getMode,\n        getSplitType,\n        getShowTrigger,\n        toggleCollapsed,\n      };\n    },\n  });\n</script>\n<style lang=\"less\">\n  @prefix-cls: ~'@{namespace}-layout-sideBar';\n\n  .@{prefix-cls} {\n    z-index: @layout-sider-fixed-z-index;\n\n    &--fixed {\n      position: fixed;\n      top: 0;\n      left: 0;\n      height: 100%;\n    }\n\n    &--mix {\n      top: @header-height;\n      height: calc(100% - @header-height);\n    }\n\n    &.ant-layout-sider-dark {\n      background-color: @sider-dark-bg-color;\n\n      .ant-layout-sider-trigger {\n        background-color: @trigger-dark-bg-color;\n        color: darken(@white, 25%);\n\n        &:hover {\n          background-color: @trigger-dark-hover-bg-color;\n          color: @white;\n        }\n      }\n    }\n\n    &:not(.ant-layout-sider-dark) {\n      // box-shadow: 2px 0 8px 0 rgba(29, 35, 41, 0.05);\n\n      .ant-layout-sider-trigger {\n        border-top: 1px solid @border-color-light;\n        color: @text-color-base;\n      }\n    }\n\n    .ant-layout-sider-zero-width-trigger {\n      z-index: 10;\n      top: 40%;\n    }\n\n    & .ant-layout-sider-trigger {\n      height: 36px;\n      line-height: 36px;\n    }\n  }\n</style>\n","<template>\n  <div :class=\"`${prefixCls}-dom`\" :style=\"getDomStyle\"></div>\n  <div\n    v-click-outside=\"handleClickOutside\"\n    :style=\"getWrapStyle\"\n    :class=\"[\n      prefixCls,\n      getMenuTheme,\n      {\n        open: openMenu,\n        mini: getCollapsed,\n      },\n    ]\"\n    v-bind=\"getMenuEvents\"\n  >\n    <AppLogo :showTitle=\"false\" :class=\"`${prefixCls}-logo`\" />\n\n    <LayoutTrigger :class=\"`${prefixCls}-trigger`\" />\n\n    <ScrollContainer>\n      <ul :class=\"`${prefixCls}-module`\">\n        <li\n          :class=\"[\n            `${prefixCls}-module__item `,\n            {\n              [`${prefixCls}-module__item--active`]: item.path === activePath,\n            },\n          ]\"\n          v-bind=\"getItemEvents(item)\"\n          v-for=\"item in menuModules\"\n          :key=\"item.path\"\n        >\n          <SimpleMenuTag :item=\"item\" collapseParent dot />\n          <Icon\n            :class=\"`${prefixCls}-module__icon`\"\n            :size=\"getCollapsed ? 16 : 20\"\n            :icon=\"item.icon || (item.meta && item.meta.icon)\"\n          />\n          <p :class=\"`${prefixCls}-module__name`\">\n            {{ t(item.name) }}\n          </p>\n        </li>\n      </ul>\n    </ScrollContainer>\n\n    <div :class=\"`${prefixCls}-menu-list`\" ref=\"sideRef\" :style=\"getMenuStyle\">\n      <div\n        v-show=\"openMenu\"\n        :class=\"[\n          `${prefixCls}-menu-list__title`,\n          {\n            show: openMenu,\n          },\n        ]\"\n      >\n        <span class=\"text\"> {{ title }}</span>\n        <Icon\n          :size=\"16\"\n          :icon=\"getMixSideFixed ? 'ri:pushpin-2-fill' : 'ri:pushpin-2-line'\"\n          class=\"pushpin\"\n          @click=\"handleFixedMenu\"\n        />\n      </div>\n      <ScrollContainer :class=\"`${prefixCls}-menu-list__content`\">\n        <SimpleMenu\n          :items=\"childrenMenus\"\n          :theme=\"getMenuTheme\"\n          mixSider\n          @menu-click=\"handleMenuClick\"\n        />\n      </ScrollContainer>\n      <div\n        v-show=\"getShowDragBar && openMenu\"\n        :class=\"`${prefixCls}-drag-bar`\"\n        ref=\"dragBarRef\"\n      ></div>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\n  import type { Menu } from '/@/router/types';\n  import type { CSSProperties } from 'vue';\n  import { nextTick, computed, defineComponent, onMounted, ref, unref, watch } from 'vue';\n  import type { RouteLocationNormalized } from 'vue-router';\n  import { ScrollContainer } from '/@/components/Container';\n  import { SimpleMenu, SimpleMenuTag } from '/@/components/SimpleMenu';\n  import Icon from '@/components/Icon/Icon.vue';\n  import { AppLogo } from '/@/components/Application';\n  import { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\n  import { usePermissionStore } from '/@/store/modules/permission';\n  import { useDragLine } from './useLayoutSider';\n  import { useGlobSetting } from '/@/hooks/setting';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { useI18n } from '/@/hooks/web/useI18n';\n  import { useGo } from '/@/hooks/web/usePage';\n  import { SIDE_BAR_MINI_WIDTH, SIDE_BAR_SHOW_TIT_MINI_WIDTH } from '/@/enums/appEnum';\n  import clickOutside from '/@/directives/clickOutside';\n  import { getChildrenMenus, getCurrentParentPath, getShallowMenus } from '/@/router/menus';\n  import { listenerRouteChange } from '/@/logics/mitt/routeChange';\n  import LayoutTrigger from '../trigger/index.vue';\n  import { useRouter } from 'vue-router';\n\n  export default defineComponent({\n    name: 'LayoutMixSider',\n    components: {\n      ScrollContainer,\n      AppLogo,\n      SimpleMenu,\n      Icon,\n      LayoutTrigger,\n      SimpleMenuTag,\n    },\n    directives: {\n      clickOutside,\n    },\n    setup() {\n      let menuModules = ref<Menu[]>([]);\n      const activePath = ref('');\n      const childrenMenus = ref<Menu[]>([]);\n      const openMenu = ref(false);\n      const dragBarRef = ref(null);\n      const sideRef = ref(null);\n      const currentRoute = ref<RouteLocationNormalized | null>(null);\n\n      const { prefixCls } = useDesign('layout-mix-sider');\n      const go = useGo();\n      const { t } = useI18n();\n      const {\n        getMenuWidth,\n        getCanDrag,\n        getCloseMixSidebarOnChange,\n        getMenuTheme,\n        getMixSideTrigger,\n        getRealWidth,\n        getMixSideFixed,\n        mixSideHasChildren,\n        setMenuSetting,\n        getIsMixSidebar,\n        getCollapsed,\n      } = useMenuSetting();\n\n      const router = useRouter();\n      const { title } = useGlobSetting();\n      const permissionStore = usePermissionStore();\n\n      useDragLine(sideRef, dragBarRef, true);\n\n      const getMenuStyle = computed((): CSSProperties => {\n        return {\n          width: unref(openMenu) ? `${unref(getMenuWidth)}px` : 0,\n          left: `${unref(getMixSideWidth)}px`,\n        };\n      });\n\n      const getIsFixed = computed(() => {\n        /* eslint-disable-next-line */\n        mixSideHasChildren.value = unref(childrenMenus).length > 0;\n        const isFixed = unref(getMixSideFixed) && unref(mixSideHasChildren);\n        if (isFixed) {\n          /* eslint-disable-next-line */\n          openMenu.value = true;\n        }\n        return isFixed;\n      });\n\n      const getMixSideWidth = computed(() => {\n        return unref(getCollapsed) ? SIDE_BAR_MINI_WIDTH : SIDE_BAR_SHOW_TIT_MINI_WIDTH;\n      });\n\n      const getDomStyle = computed((): CSSProperties => {\n        const fixedWidth = unref(getIsFixed) ? unref(getRealWidth) : 0;\n        const width = `${unref(getMixSideWidth) + fixedWidth}px`;\n        return getWrapCommonStyle(width);\n      });\n\n      const getWrapStyle = computed((): CSSProperties => {\n        const width = `${unref(getMixSideWidth)}px`;\n        return getWrapCommonStyle(width);\n      });\n\n      const getMenuEvents = computed(() => {\n        return !unref(getMixSideFixed)\n          ? {\n              onMouseleave: () => {\n                setActive(true);\n                closeMenu();\n              },\n            }\n          : {};\n      });\n\n      const getShowDragBar = computed(() => unref(getCanDrag));\n\n      onMounted(async () => {\n        menuModules.value = await getShallowMenus();\n      });\n\n      // Menu changes\n      watch(\n        [() => permissionStore.getLastBuildMenuTime, () => permissionStore.getBackMenuList],\n        async () => {\n          menuModules.value = await getShallowMenus();\n        },\n        {\n          immediate: true,\n        },\n      );\n\n      listenerRouteChange((route) => {\n        currentRoute.value = route;\n        setActive(true);\n        if (unref(getCloseMixSidebarOnChange)) {\n          closeMenu();\n        }\n      });\n\n      function getWrapCommonStyle(width: string): CSSProperties {\n        return {\n          width,\n          maxWidth: width,\n          minWidth: width,\n          flex: `0 0 ${width}`,\n        };\n      }\n\n      // Process module menu click\n      async function handleModuleClick(path: string, hover = false) {\n        const children = await getChildrenMenus(path);\n        if (unref(activePath) === path) {\n          if (!hover) {\n            if (!unref(openMenu)) {\n              openMenu.value = true;\n            } else {\n              closeMenu();\n            }\n          } else {\n            if (!unref(openMenu)) {\n              openMenu.value = true;\n            }\n          }\n          if (!unref(openMenu)) {\n            setActive();\n          }\n        } else {\n          openMenu.value = true;\n          activePath.value = path;\n        }\n\n        if (!children || children.length === 0) {\n          if (!hover) go(path);\n          childrenMenus.value = [];\n          closeMenu();\n          return;\n        }\n        childrenMenus.value = children;\n      }\n\n      // Set the currently active menu and submenu\n      async function setActive(setChildren = false) {\n        const path = currentRoute.value?.path;\n        if (!path) return;\n        activePath.value = await getCurrentParentPath(path);\n        // hanldeModuleClick(parentPath);\n        if (unref(getIsMixSidebar)) {\n          const activeMenu = unref(menuModules).find((item) => item.path === unref(activePath));\n          const p = activeMenu?.path;\n          if (p) {\n            const children = await getChildrenMenus(p);\n            if (setChildren) {\n              childrenMenus.value = children;\n\n              if (unref(getMixSideFixed)) {\n                openMenu.value = children.length > 0;\n              }\n            }\n            if (children.length === 0) {\n              childrenMenus.value = [];\n            }\n          }\n        }\n      }\n\n      function handleMenuClick(path: string) {\n        nextTick(() => {\n          try {\n            router.push(path);\n          } catch {\n            go(path);\n          } finally {\n            // setTimeout(() => {\n            //   document.location.reload();\n            // }, 300);\n          }\n        });\n      }\n\n      function handleClickOutside() {\n        setActive(true);\n        closeMenu();\n      }\n\n      function getItemEvents(item: Menu) {\n        if (unref(getMixSideTrigger) === 'hover') {\n          return {\n            onMouseenter: () => handleModuleClick(item.path, true),\n            onClick: async () => {\n              const children = await getChildrenMenus(item.path);\n              if (item.path && (!children || children.length === 0)) go(item.path);\n            },\n          };\n        }\n        return {\n          onClick: () => handleModuleClick(item.path),\n        };\n      }\n\n      function handleFixedMenu() {\n        setMenuSetting({\n          mixSideFixed: !unref(getIsFixed),\n        });\n      }\n\n      // Close menu\n      function closeMenu() {\n        if (!unref(getIsFixed)) {\n          openMenu.value = false;\n        }\n      }\n\n      return {\n        t,\n        prefixCls,\n        menuModules,\n        handleModuleClick: handleModuleClick,\n        activePath,\n        childrenMenus: childrenMenus,\n        getShowDragBar,\n        handleMenuClick,\n        getMenuStyle,\n        handleClickOutside,\n        sideRef,\n        dragBarRef,\n        title,\n        openMenu,\n        getMenuTheme,\n        getItemEvents,\n        getMenuEvents,\n        getDomStyle,\n        handleFixedMenu,\n        getMixSideFixed,\n        getWrapStyle,\n        getCollapsed,\n      };\n    },\n  });\n</script>\n<style lang=\"less\">\n  @prefix-cls: ~'@{namespace}-layout-mix-sider';\n  @width: 80px;\n  .@{prefix-cls} {\n    position: fixed;\n    z-index: @layout-mix-sider-fixed-z-index;\n    top: 0;\n    left: 0;\n    height: 100%;\n    overflow: hidden;\n    transition: all 0.2s ease 0s;\n    background-color: @sider-dark-bg-color;\n\n    &-dom {\n      height: 100%;\n      overflow: hidden;\n      transition: all 0.2s ease 0s;\n    }\n\n    &-logo {\n      display: flex;\n      justify-content: center;\n      height: @header-height;\n      padding-left: 0 !important;\n\n      img {\n        width: @logo-width;\n        height: @logo-width;\n      }\n    }\n\n    &.light {\n      .@{prefix-cls}-logo {\n        border-bottom: 1px solid rgb(238 238 238);\n      }\n\n      &.open {\n        > .scrollbar {\n          border-right: 1px solid rgb(238 238 238);\n        }\n      }\n\n      .@{prefix-cls}-module {\n        &__item {\n          color: rgb(0 0 0 / 65%);\n          font-weight: normal;\n\n          &--active {\n            background-color: unset;\n            color: @primary-color;\n          }\n        }\n      }\n      .@{prefix-cls}-menu-list {\n        &__content {\n          box-shadow: 0 0 4px 0 rgb(0 0 0 / 10%);\n        }\n\n        &__title {\n          .pushpin {\n            color: rgb(0 0 0 / 35%);\n\n            &:hover {\n              color: rgb(0 0 0 / 85%);\n            }\n          }\n        }\n      }\n    }\n    @border-color: @sider-dark-lighten-bg-color;\n\n    &.dark {\n      &.open {\n        .@{prefix-cls}-logo {\n          // border-bottom: 1px solid @border-color;\n        }\n\n        > .scrollbar {\n          border-right: 1px solid @border-color;\n        }\n      }\n      .@{prefix-cls}-menu-list {\n        background-color: @sider-dark-bg-color;\n\n        &__title {\n          border-bottom: none;\n          border-bottom: 1px solid @border-color;\n          color: @white;\n        }\n      }\n    }\n\n    > .scrollbar {\n      height: calc(100% - @header-height - 38px);\n    }\n\n    &.mini &-module {\n      &__name {\n        display: none;\n      }\n\n      &__icon {\n        margin-bottom: 0;\n      }\n    }\n\n    &-module {\n      position: relative;\n      padding-top: 1px;\n\n      &__item {\n        position: relative;\n        padding: 12px 0;\n        transition: all 0.3s ease;\n        color: rgb(255 255 255 / 65%);\n        text-align: center;\n        cursor: pointer;\n\n        &:hover {\n          color: @white;\n        }\n        // &:hover,\n        &--active {\n          background-color: @sider-dark-darken-bg-color;\n          color: @white;\n          font-weight: 700;\n\n          &::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 3px;\n            height: 100%;\n            background-color: @primary-color;\n          }\n        }\n      }\n\n      &__icon {\n        margin-bottom: 8px;\n        transition: all 0.2s;\n        font-size: 24px;\n      }\n\n      &__name {\n        margin-bottom: 0;\n        transition: all 0.2s;\n        font-size: 12px;\n      }\n    }\n\n    &-trigger {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 36px;\n      background-color: @trigger-dark-bg-color;\n      color: rgb(255 255 255 / 65%);\n      font-size: 14px;\n      line-height: 36px;\n      text-align: center;\n      cursor: pointer;\n    }\n\n    &.light &-trigger {\n      border-top: 1px solid #eee;\n      background-color: #fff;\n      color: rgb(0 0 0 / 65%);\n    }\n\n    &-menu-list {\n      position: fixed;\n      top: 0;\n      width: 200px;\n      height: calc(100%);\n      transition: all 0.2s;\n      background-color: #fff;\n\n      &__title {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        height: @header-height;\n        transition: unset;\n        border-bottom: 1px solid rgb(238 238 238);\n        opacity: 0;\n        color: @primary-color;\n        // margin-left: -6px;\n        font-size: 18px;\n\n        &.show {\n          min-width: 130px;\n          transition: all 0.5s ease;\n          opacity: 1;\n        }\n\n        .pushpin {\n          margin-right: 6px;\n          color: rgb(255 255 255 / 65%);\n          cursor: pointer;\n\n          &:hover {\n            color: #fff;\n          }\n        }\n      }\n\n      &__content {\n        height: calc(100% - @header-height) !important;\n\n        .scrollbar__wrap {\n          height: 100%;\n          overflow-x: hidden;\n        }\n\n        .scrollbar__bar.is-horizontal {\n          display: none;\n        }\n\n        .ant-menu {\n          height: 100%;\n        }\n\n        .ant-menu-inline,\n        .ant-menu-vertical,\n        .ant-menu-vertical-left {\n          border-right: 1px solid transparent;\n        }\n      }\n    }\n\n    &-drag-bar {\n      position: absolute;\n      top: 50px;\n      right: -1px;\n      width: 1px;\n      height: calc(100% - 50px);\n      border-top: none;\n      border-bottom: none;\n      background-color: #f8f8f9;\n      box-shadow: 0 0 4px 0 rgb(28 36 56 / 15%);\n      cursor: ew-resize;\n    }\n  }\n</style>\n","<template>\n  <Drawer\n    v-if=\"getIsMobile\"\n    placement=\"left\"\n    :class=\"prefixCls\"\n    :width=\"getMenuWidth\"\n    :getContainer=\"null\"\n    :visible=\"!getCollapsed\"\n    @close=\"handleClose\"\n  >\n    <Sider />\n  </Drawer>\n  <MixSider v-else-if=\"getIsMixSidebar\" />\n  <Sider v-else />\n</template>\n<script lang=\"ts\">\n  import { defineComponent } from 'vue';\n\n  import Sider from './LayoutSider.vue';\n  import MixSider from './MixSider.vue';\n  import { Drawer } from 'ant-design-vue';\n\n  import { useAppInject } from '/@/hooks/web/useAppInject';\n  import { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\n  import { useDesign } from '/@/hooks/web/useDesign';\n\n  export default defineComponent({\n    name: 'SiderWrapper',\n    components: { Sider, Drawer, MixSider },\n    setup() {\n      const { prefixCls } = useDesign('layout-sider-wrapper');\n      const { getIsMobile } = useAppInject();\n      const { setMenuSetting, getCollapsed, getMenuWidth, getIsMixSidebar } = useMenuSetting();\n\n      function handleClose() {\n        setMenuSetting({\n          collapsed: true,\n        });\n      }\n\n      return { prefixCls, getIsMobile, getCollapsed, handleClose, getMenuWidth, getIsMixSidebar };\n    },\n  });\n</script>\n<style lang=\"less\">\n  @prefix-cls: ~'@{namespace}-layout-sider-wrapper';\n\n  .@{prefix-cls} {\n    .ant-drawer-body {\n      height: 100vh;\n      padding: 0;\n    }\n\n    .ant-drawer-header-no-title {\n      display: none;\n    }\n  }\n</style>\n","import type { DropMenu } from '/@/components/Dropdown/index';\nimport type { RouteLocationNormalized } from 'vue-router';\n\nexport enum TabContentEnum {\n  TAB_TYPE,\n  EXTRA_TYPE,\n}\n\nexport type { DropMenu };\n\nexport interface TabContentProps {\n  tabItem: RouteLocationNormalized;\n  type?: TabContentEnum;\n  trigger?: ('click' | 'hover' | 'contextmenu')[];\n}\n\nexport enum MenuEventEnum {\n  REFRESH_PAGE,\n  CLOSE_CURRENT,\n  CLOSE_LEFT,\n  CLOSE_RIGHT,\n  CLOSE_OTHER,\n  CLOSE_ALL,\n  SCALE,\n}\n","import type { TabContentProps } from './types';\nimport type { DropMenu } from '/@/components/Dropdown';\nimport type { ComputedRef } from 'vue';\n\nimport { computed, unref, reactive } from 'vue';\nimport { MenuEventEnum } from './types';\nimport { useMultipleTabStore } from '/@/store/modules/multipleTab';\nimport { RouteLocationNormalized, useRouter } from 'vue-router';\nimport { useTabs } from '/@/hooks/web/useTabs';\nimport { useI18n } from '/@/hooks/web/useI18n';\n\nexport function useTabDropdown(tabContentProps: TabContentProps, getIsTabs: ComputedRef<boolean>) {\n  const state = reactive({\n    current: null as Nullable<RouteLocationNormalized>,\n    currentIndex: 0,\n  });\n\n  const { t } = useI18n();\n  const tabStore = useMultipleTabStore();\n  const { currentRoute } = useRouter();\n  const { refreshPage, closeAll, close, closeLeft, closeOther, closeRight } = useTabs();\n\n  const getTargetTab = computed((): RouteLocationNormalized => {\n    return unref(getIsTabs) ? tabContentProps.tabItem : unref(currentRoute);\n  });\n\n  /**\n   * @description: drop-down list\n   */\n  const getDropMenuList = computed(() => {\n    if (!unref(getTargetTab)) {\n      return;\n    }\n    const { meta } = unref(getTargetTab);\n    const { path } = unref(currentRoute);\n\n    const curItem = state.current;\n\n    const isCurItem = curItem ? curItem.path === path : false;\n\n    // Refresh button\n    const index = state.currentIndex;\n    const refreshDisabled = !isCurItem;\n    // Close left\n    const closeLeftDisabled = index === 0 || !isCurItem;\n\n    const disabled = tabStore.getTabList.length === 1;\n\n    // Close right\n    const closeRightDisabled =\n      !isCurItem || (index === tabStore.getTabList.length - 1 && tabStore.getLastDragEndIndex >= 0);\n    const dropMenuList: DropMenu[] = [\n      {\n        icon: 'ion:reload-sharp',\n        event: MenuEventEnum.REFRESH_PAGE,\n        text: t('layout.multipleTab.reload'),\n        disabled: refreshDisabled,\n      },\n      {\n        icon: 'clarity:close-line',\n        event: MenuEventEnum.CLOSE_CURRENT,\n        text: t('layout.multipleTab.close'),\n        disabled: !!meta?.affix || disabled,\n        divider: true,\n      },\n      {\n        icon: 'line-md:arrow-close-left',\n        event: MenuEventEnum.CLOSE_LEFT,\n        text: t('layout.multipleTab.closeLeft'),\n        disabled: closeLeftDisabled,\n        divider: false,\n      },\n      {\n        icon: 'line-md:arrow-close-right',\n        event: MenuEventEnum.CLOSE_RIGHT,\n        text: t('layout.multipleTab.closeRight'),\n        disabled: closeRightDisabled,\n        divider: true,\n      },\n      {\n        icon: 'dashicons:align-center',\n        event: MenuEventEnum.CLOSE_OTHER,\n        text: t('layout.multipleTab.closeOther'),\n        disabled: disabled || !isCurItem,\n      },\n      {\n        icon: 'clarity:minus-line',\n        event: MenuEventEnum.CLOSE_ALL,\n        text: t('layout.multipleTab.closeAll'),\n        disabled: disabled,\n      },\n    ];\n\n    return dropMenuList;\n  });\n\n  function handleContextMenu(tabItem: RouteLocationNormalized) {\n    return (e: Event) => {\n      if (!tabItem) {\n        return;\n      }\n      e?.preventDefault();\n      const index = tabStore.getTabList.findIndex((tab) => tab.path === tabItem.path);\n      state.current = tabItem;\n      state.currentIndex = index;\n    };\n  }\n\n  // Handle right click event\n  function handleMenuEvent(menu: DropMenu): void {\n    const { event } = menu;\n    switch (event) {\n      case MenuEventEnum.REFRESH_PAGE:\n        // refresh page  重新加载\n        refreshPage();\n        break;\n      // Close current\n      case MenuEventEnum.CLOSE_CURRENT:\n        close(tabContentProps.tabItem);\n        break;\n      // Close left\n      case MenuEventEnum.CLOSE_LEFT:\n        closeLeft();\n        break;\n      // Close right\n      case MenuEventEnum.CLOSE_RIGHT:\n        closeRight();\n        break;\n      // Close other\n      case MenuEventEnum.CLOSE_OTHER:\n        closeOther();\n        break;\n      // Close all\n      case MenuEventEnum.CLOSE_ALL:\n        closeAll();\n        break;\n    }\n  }\n  return { getDropMenuList, handleMenuEvent, handleContextMenu };\n}\n","<template>\n  <Dropdown\n    :dropMenuList=\"getDropMenuList\"\n    :trigger=\"getTrigger\"\n    placement=\"bottom\"\n    overlayClassName=\"multiple-tabs__dropdown\"\n    @menu-event=\"handleMenuEvent\"\n  >\n    <div :class=\"`${prefixCls}__info`\" @contextmenu=\"handleContext\" v-if=\"getIsTabs\">\n      <span class=\"ml-1\">{{ getTitle }}</span>\n    </div>\n    <span :class=\"`${prefixCls}__extra-quick`\" v-else @click=\"handleContext\">\n      <Icon icon=\"ion:chevron-down\" />\n    </span>\n  </Dropdown>\n</template>\n<script lang=\"ts\">\n  import type { PropType } from 'vue';\n  import type { RouteLocationNormalized } from 'vue-router';\n\n  import { defineComponent, computed, unref } from 'vue';\n  import { Dropdown } from '/@/components/Dropdown/index';\n  import Icon from '@/components/Icon/Icon.vue';\n\n  import { TabContentProps } from '../types';\n\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { useI18n } from '/@/hooks/web/useI18n';\n  import { useTabDropdown } from '../useTabDropdown';\n\n  export default defineComponent({\n    name: 'TabContent',\n    components: { Dropdown, Icon },\n    props: {\n      tabItem: {\n        type: Object as PropType<RouteLocationNormalized>,\n        default: null,\n      },\n      isExtra: Boolean,\n    },\n    setup(props) {\n      const { prefixCls } = useDesign('multiple-tabs-content');\n      const { t } = useI18n();\n\n      const getTitle = computed(() => {\n        const { tabItem: { meta } = {} } = props;\n        return meta && t(meta.title as string);\n      });\n\n      const getIsTabs = computed(() => !props.isExtra);\n\n      const getTrigger = computed((): ('contextmenu' | 'click' | 'hover')[] =>\n        unref(getIsTabs) ? ['contextmenu'] : ['click'],\n      );\n\n      const { getDropMenuList, handleMenuEvent, handleContextMenu } = useTabDropdown(\n        props as TabContentProps,\n        getIsTabs,\n      );\n\n      function handleContext(e) {\n        props.tabItem && handleContextMenu(props.tabItem)(e);\n      }\n\n      return {\n        prefixCls,\n        getDropMenuList,\n        handleMenuEvent,\n        handleContext,\n        getTrigger,\n        getIsTabs,\n        getTitle,\n      };\n    },\n  });\n</script>\n","<template>\n  <span :class=\"`${prefixCls}__extra-fold`\" @click=\"handleFold\">\n    <Icon :icon=\"getIcon\" />\n  </span>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, unref, computed } from 'vue';\n  import Icon from '@/components/Icon/Icon.vue';\n\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { useHeaderSetting } from '/@/hooks/setting/useHeaderSetting';\n  import { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\n  import { triggerWindowResize } from '/@/utils/event';\n\n  export default defineComponent({\n    name: 'FoldButton',\n    components: { Icon },\n    setup() {\n      const { prefixCls } = useDesign('multiple-tabs-content');\n      const { getShowMenu, setMenuSetting } = useMenuSetting();\n      const { getShowHeader, setHeaderSetting } = useHeaderSetting();\n\n      const getIsUnFold = computed(() => !unref(getShowMenu) && !unref(getShowHeader));\n\n      const getIcon = computed(() =>\n        unref(getIsUnFold) ? 'codicon:screen-normal' : 'codicon:screen-full',\n      );\n\n      function handleFold() {\n        const isUnFold = unref(getIsUnFold);\n        setMenuSetting({\n          show: isUnFold,\n          hidden: !isUnFold,\n        });\n        setHeaderSetting({ show: isUnFold });\n        triggerWindowResize();\n      }\n\n      return { prefixCls, getIcon, handleFold };\n    },\n  });\n</script>\n","<template>\n  <span :class=\"`${prefixCls}__extra-redo`\" @click=\"handleRedo\">\n    <RedoOutlined :spin=\"loading\" />\n  </span>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, ref } from 'vue';\n  import { RedoOutlined } from '@ant-design/icons-vue';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { useTabs } from '/@/hooks/web/useTabs';\n\n  export default defineComponent({\n    name: 'TabRedo',\n    components: { RedoOutlined },\n\n    setup() {\n      const loading = ref(false);\n\n      const { prefixCls } = useDesign('multiple-tabs-content');\n      const { refreshPage } = useTabs();\n\n      async function handleRedo() {\n        loading.value = true;\n        await refreshPage();\n        setTimeout(() => {\n          loading.value = false;\n          // Animation execution time\n        }, 1200);\n      }\n      return { prefixCls, handleRedo, loading };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  span.anticon-redo {\n    vertical-align: baseline !important;\n  }\n</style>\n","import { nextTick, unref } from 'vue';\nimport type { Ref } from 'vue';\nimport type { Options } from 'sortablejs';\n\nexport function useSortable(el: HTMLElement | Ref<HTMLElement>, options?: Options) {\n  function initSortable() {\n    nextTick(async () => {\n      if (!el) return;\n\n      const Sortable = (await import('sortablejs')).default;\n      Sortable.create(unref(el), {\n        animation: 500,\n        delay: 400,\n        delayOnTouchOnly: true,\n        ...options,\n      });\n    });\n  }\n\n  return { initSortable };\n}\n","import { toRaw, ref, nextTick } from 'vue';\nimport type { RouteLocationNormalized } from 'vue-router';\nimport { useDesign } from '/@/hooks/web/useDesign';\nimport { useSortable } from '/@/hooks/web/useSortable';\nimport { useMultipleTabStore } from '/@/store/modules/multipleTab';\nimport { isNullAndUnDef } from '/@/utils/is';\nimport projectSetting from '/@/settings/projectSetting';\nimport { useRouter } from 'vue-router';\n\nexport function initAffixTabs(): string[] {\n  const affixList = ref<RouteLocationNormalized[]>([]);\n\n  const tabStore = useMultipleTabStore();\n  const router = useRouter();\n  /**\n   * @description: Filter all fixed routes\n   */\n  function filterAffixTabs(routes: RouteLocationNormalized[]) {\n    const tabs: RouteLocationNormalized[] = [];\n    routes &&\n      routes.forEach((route) => {\n        if (route.meta && route.meta.affix) {\n          tabs.push(toRaw(route));\n        }\n      });\n    return tabs;\n  }\n\n  /**\n   * @description: Set fixed tabs\n   */\n  function addAffixTabs(): void {\n    const affixTabs = filterAffixTabs(router.getRoutes() as unknown as RouteLocationNormalized[]);\n    affixList.value = affixTabs;\n    for (const tab of affixTabs) {\n      tabStore.addTab({\n        meta: tab.meta,\n        name: tab.name,\n        path: tab.path,\n      } as unknown as RouteLocationNormalized);\n    }\n  }\n\n  let isAddAffix = false;\n\n  if (!isAddAffix) {\n    addAffixTabs();\n    isAddAffix = true;\n  }\n  return affixList.value.map((item) => item.meta?.title).filter(Boolean) as string[];\n}\n\nexport function useTabsDrag(affixTextList: string[]) {\n  const tabStore = useMultipleTabStore();\n  const { multiTabsSetting } = projectSetting;\n  const { prefixCls } = useDesign('multiple-tabs');\n  nextTick(() => {\n    if (!multiTabsSetting.canDrag) return;\n    const el = document.querySelectorAll(\n      `.${prefixCls} .ant-tabs-nav-wrap > div`,\n    )?.[0] as HTMLElement;\n    const { initSortable } = useSortable(el, {\n      filter: (e: ChangeEvent) => {\n        const text = e?.target?.innerText;\n        if (!text) return false;\n        return affixTextList.includes(text);\n      },\n      onEnd: (evt) => {\n        const { oldIndex, newIndex } = evt;\n\n        if (isNullAndUnDef(oldIndex) || isNullAndUnDef(newIndex) || oldIndex === newIndex) {\n          return;\n        }\n\n        tabStore.sortTabs(oldIndex, newIndex);\n      },\n    });\n    initSortable();\n  });\n}\n","<template>\n  <div :class=\"getWrapClass\">\n    <Tabs\n      type=\"editable-card\"\n      size=\"small\"\n      :animated=\"false\"\n      :hideAdd=\"true\"\n      :tabBarGutter=\"3\"\n      :activeKey=\"activeKeyRef\"\n      @change=\"handleChange\"\n      @edit=\"handleEdit\"\n    >\n      <template v-for=\"item in getTabsState\" :key=\"item.query ? item.fullPath : item.path\">\n        <TabPane :closable=\"!(item && item.meta && item.meta.affix)\">\n          <template #tab>\n            <TabContent :tabItem=\"item\" />\n          </template>\n        </TabPane>\n      </template>\n\n      <template #rightExtra v-if=\"getShowRedo || getShowQuick\">\n        <TabRedo v-if=\"getShowRedo\" />\n        <TabContent isExtra :tabItem=\"$route\" v-if=\"getShowQuick\" />\n        <FoldButton v-if=\"getShowFold\" />\n      </template>\n    </Tabs>\n  </div>\n</template>\n<script lang=\"ts\">\n  import type { RouteLocationNormalized, RouteMeta } from 'vue-router';\n\n  import { defineComponent, computed, unref, ref } from 'vue';\n\n  import { Tabs } from 'ant-design-vue';\n  import TabContent from './components/TabContent.vue';\n  import FoldButton from './components/FoldButton.vue';\n  import TabRedo from './components/TabRedo.vue';\n\n  import { useGo } from '/@/hooks/web/usePage';\n\n  import { useMultipleTabStore } from '/@/store/modules/multipleTab';\n  import { useUserStore } from '/@/store/modules/user';\n\n  import { initAffixTabs, useTabsDrag } from './useMultipleTabs';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { useMultipleTabSetting } from '/@/hooks/setting/useMultipleTabSetting';\n\n  import { REDIRECT_NAME } from '/@/router/constant';\n  import { listenerRouteChange } from '/@/logics/mitt/routeChange';\n\n  import { useRouter } from 'vue-router';\n\n  export default defineComponent({\n    name: 'MultipleTabs',\n    components: {\n      TabRedo,\n      FoldButton,\n      Tabs,\n      TabPane: Tabs.TabPane,\n      TabContent,\n    },\n    setup() {\n      const affixTextList = initAffixTabs();\n      const activeKeyRef = ref('');\n\n      useTabsDrag(affixTextList);\n      const tabStore = useMultipleTabStore();\n      const userStore = useUserStore();\n      const router = useRouter();\n\n      const { prefixCls } = useDesign('multiple-tabs');\n      const go = useGo();\n      const { getShowQuick, getShowRedo, getShowFold } = useMultipleTabSetting();\n\n      const getTabsState = computed(() => {\n        return tabStore.getTabList.filter((item) => !item.meta?.hideTab);\n      });\n\n      const unClose = computed(() => unref(getTabsState).length === 1);\n\n      const getWrapClass = computed(() => {\n        return [\n          prefixCls,\n          {\n            [`${prefixCls}--hide-close`]: unref(unClose),\n          },\n        ];\n      });\n\n      listenerRouteChange((route) => {\n        const { name } = route;\n        if (name === REDIRECT_NAME || !route || !userStore.getToken) {\n          return;\n        }\n\n        const menus = userStore.getMenuList;\n        const element = menus.find((item) => {\n          return item?.url === route.path && item?.name === route?.name;\n        });\n        if (element && element?.url.split('/').length <= 2) {\n          return;\n        }\n\n        const { path, fullPath, meta = {} } = route;\n        const { currentActiveMenu, hideTab } = meta as RouteMeta;\n        const isHide = !hideTab ? null : currentActiveMenu;\n        const p = isHide || fullPath || path;\n        if (activeKeyRef.value !== p) {\n          activeKeyRef.value = p as string;\n        }\n\n        if (isHide) {\n          const findParentRoute = router\n            .getRoutes()\n            .find((item) => item.path === currentActiveMenu);\n\n          findParentRoute && tabStore.addTab(findParentRoute as unknown as RouteLocationNormalized);\n        } else {\n          tabStore.addTab(unref(route));\n        }\n      });\n\n      function handleChange(activeKey: any) {\n        try {\n          // TODO 切换 Tab栏 页签\n          activeKeyRef.value = activeKey;\n          router.push(activeKey);\n        } catch {\n          go(activeKey);\n        }\n      }\n\n      function handleEdit(targetKey: string) {\n        if (unref(unClose)) {\n          return;\n        }\n        tabStore.closeTabByKey(targetKey, router);\n      }\n      return {\n        getWrapClass,\n        handleEdit,\n        handleChange,\n        activeKeyRef,\n        getTabsState,\n        getShowQuick,\n        getShowRedo,\n        getShowFold,\n      };\n    },\n  });\n</script>\n<style lang=\"less\">\n  @import url('./index.less');\n</style>\n","<template>\n  <div :style=\"getPlaceholderDomStyle\" v-if=\"getIsShowPlaceholderDom\"></div>\n  <div :style=\"getWrapStyle\" :class=\"getClass\">\n    <LayoutHeader v-if=\"getShowInsetHeaderRef\" />\n    <MultipleTabs v-if=\"getShowTabs\" />\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, unref, computed, CSSProperties } from 'vue';\n\n  import LayoutHeader from './index.vue';\n  import MultipleTabs from '../tabs/index.vue';\n\n  import { useHeaderSetting } from '/@/hooks/setting/useHeaderSetting';\n  import { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\n  import { useFullContent } from '/@/hooks/web/useFullContent';\n  import { useMultipleTabSetting } from '/@/hooks/setting/useMultipleTabSetting';\n  import { useAppInject } from '/@/hooks/web/useAppInject';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { useLayoutHeight } from '../content/useContentViewHeight';\n\n  const HEADER_HEIGHT = 46;\n\n  const TABS_HEIGHT = 32;\n  export default defineComponent({\n    name: 'LayoutMultipleHeader',\n    components: { LayoutHeader, MultipleTabs },\n    setup() {\n      const { setHeaderHeight } = useLayoutHeight();\n      const { prefixCls } = useDesign('layout-multiple-header');\n\n      const { getCalcContentWidth, getSplit } = useMenuSetting();\n      const { getIsMobile } = useAppInject();\n      const {\n        getFixed,\n        getShowInsetHeaderRef,\n        getShowFullHeaderRef,\n        getHeaderTheme,\n        getShowHeader,\n      } = useHeaderSetting();\n\n      const { getFullContent } = useFullContent();\n\n      const { getShowMultipleTab } = useMultipleTabSetting();\n\n      const getShowTabs = computed(() => {\n        return unref(getShowMultipleTab) && !unref(getFullContent);\n      });\n\n      const getIsShowPlaceholderDom = computed(() => {\n        return unref(getFixed) || unref(getShowFullHeaderRef);\n      });\n\n      const getWrapStyle = computed((): CSSProperties => {\n        const style: CSSProperties = {};\n        if (unref(getFixed)) {\n          style.width = unref(getIsMobile) ? '100%' : unref(getCalcContentWidth);\n        }\n        if (unref(getShowFullHeaderRef)) {\n          style.top = `${HEADER_HEIGHT}px`;\n        }\n        return style;\n      });\n\n      const getIsFixed = computed(() => {\n        return unref(getFixed) || unref(getShowFullHeaderRef);\n      });\n\n      const getPlaceholderDomStyle = computed((): CSSProperties => {\n        let height = 0;\n        if (\n          (unref(getShowFullHeaderRef) || !unref(getSplit)) &&\n          unref(getShowHeader) &&\n          !unref(getFullContent)\n        ) {\n          height += HEADER_HEIGHT;\n        }\n        if (unref(getShowMultipleTab) && !unref(getFullContent)) {\n          height += TABS_HEIGHT;\n        }\n        setHeaderHeight(height);\n        return {\n          height: `${height}px`,\n        };\n      });\n\n      const getClass = computed(() => {\n        return [\n          prefixCls,\n          `${prefixCls}--${unref(getHeaderTheme)}`,\n          { [`${prefixCls}--fixed`]: unref(getIsFixed) },\n        ];\n      });\n\n      return {\n        getClass,\n        prefixCls,\n        getPlaceholderDomStyle,\n        getIsFixed,\n        getWrapStyle,\n        getIsShowPlaceholderDom,\n        getShowTabs,\n        getShowInsetHeaderRef,\n      };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  @prefix-cls: ~'@{namespace}-layout-multiple-header';\n\n  .@{prefix-cls} {\n    flex: 0 0 auto;\n    transition: width 0.2s;\n\n    &--dark {\n      margin-left: -1px;\n    }\n\n    &--fixed {\n      position: fixed;\n      z-index: @multiple-tab-fixed-z-index;\n      top: 0;\n      width: 100%;\n    }\n  }\n</style>\n","import { computed, onUnmounted, unref, watchEffect } from 'vue';\nimport { useThrottleFn } from '@vueuse/core';\n\nimport { useAppStore } from '/@/store/modules/app';\nimport { useLockStore } from '/@/store/modules/lock';\n\nimport { useUserStore } from '/@/store/modules/user';\nimport { useRootSetting } from '../setting/useRootSetting';\n\nexport function useLockPage() {\n  const { getLockTime } = useRootSetting();\n  const lockStore = useLockStore();\n  const userStore = useUserStore();\n  const appStore = useAppStore();\n\n  let timeId: TimeoutHandle;\n\n  function clear(): void {\n    window.clearTimeout(timeId);\n  }\n\n  function resetCalcLockTimeout(): void {\n    // not login\n    if (!userStore.getToken) {\n      clear();\n      return;\n    }\n    const lockTime = appStore.getProjectConfig.lockTime;\n    if (!lockTime || lockTime < 1) {\n      clear();\n      return;\n    }\n    clear();\n\n    timeId = setTimeout(() => {\n      lockPage();\n    }, lockTime * 60 * 1000);\n  }\n\n  function lockPage(): void {\n    lockStore.setLockInfo({\n      isLock: true,\n      pwd: undefined,\n    });\n  }\n\n  watchEffect((onClean) => {\n    if (userStore.getToken) {\n      resetCalcLockTimeout();\n    } else {\n      clear();\n    }\n    onClean(() => {\n      clear();\n    });\n  });\n\n  onUnmounted(() => {\n    clear();\n  });\n\n  const keyupFn = useThrottleFn(resetCalcLockTimeout, 2000);\n\n  return computed(() => {\n    if (unref(getLockTime)) {\n      return { onKeyup: keyupFn, onMousemove: keyupFn };\n    } else {\n      clear();\n      return {};\n    }\n  });\n}\n","<template>\n  <Layout :class=\"prefixCls\" v-bind=\"lockEvents\">\n    <LayoutFeatures />\n    <LayoutHeader fixed v-if=\"getShowFullHeaderRef\" />\n    <Layout :class=\"[layoutClass]\">\n      <LayoutSideBar v-if=\"getShowSidebar || getIsMobile\" />\n      <Layout :class=\"`${prefixCls}-main`\">\n        <LayoutMultipleHeader />\n        <LayoutContent />\n        <LayoutFooter />\n      </Layout>\n    </Layout>\n  </Layout>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, unref } from 'vue';\n  import { Layout } from 'ant-design-vue';\n  import { createAsyncComponent } from '/@/utils/factory/createAsyncComponent';\n\n  import LayoutHeader from './header/index.vue';\n  import LayoutContent from './content/index.vue';\n  import LayoutSideBar from './sider/index.vue';\n  import LayoutMultipleHeader from './header/MultipleHeader.vue';\n\n  import { useHeaderSetting } from '/@/hooks/setting/useHeaderSetting';\n  import { useMenuSetting } from '/@/hooks/setting/useMenuSetting';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { useLockPage } from '/@/hooks/web/useLockPage';\n\n  import { useAppInject } from '/@/hooks/web/useAppInject';\n\n  export default defineComponent({\n    name: 'DefaultLayout',\n    components: {\n      LayoutFeatures: createAsyncComponent(() => import('/@/layouts/default/feature/index.vue')),\n      LayoutFooter: createAsyncComponent(() => import('/@/layouts/default/footer/index.vue')),\n      LayoutHeader,\n      LayoutContent,\n      LayoutSideBar,\n      LayoutMultipleHeader,\n      Layout,\n    },\n    setup() {\n      const { prefixCls } = useDesign('default-layout');\n      const { getIsMobile } = useAppInject();\n      const { getShowFullHeaderRef } = useHeaderSetting();\n      const { getShowSidebar, getIsMixSidebar, getShowMenu } = useMenuSetting();\n\n      // Create a lock screen monitor\n      const lockEvents = useLockPage();\n\n      const layoutClass = computed(() => {\n        let cls: string[] = ['ant-layout'];\n        if (unref(getIsMixSidebar) || unref(getShowMenu)) {\n          cls.push('ant-layout-has-sider');\n        }\n        return cls;\n      });\n\n      return {\n        getShowFullHeaderRef,\n        getShowSidebar,\n        prefixCls,\n        getIsMobile,\n        getIsMixSidebar,\n        layoutClass,\n        lockEvents,\n      };\n    },\n  });\n</script>\n<style lang=\"less\">\n  @prefix-cls: ~'@{namespace}-default-layout';\n\n  .@{prefix-cls} {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    min-height: 100%;\n    background-color: @content-bg;\n\n    > .ant-layout {\n      min-height: 100%;\n    }\n\n    &-main {\n      width: 100%;\n      margin-left: 1px;\n    }\n  }\n</style>\n"],"file":"assets/index-20f9f710.js"}