{"version":3,"file":"handler-0adf59bf.js","sources":["../../src/layouts/default/setting/handler.ts"],"sourcesContent":["import { HandlerEnum } from './enum';\nimport { updateHeaderBgColor, updateSidebarBgColor } from '/@/logics/theme/updateBackground';\nimport { updateColorWeak } from '/@/logics/theme/updateColorWeak';\nimport { updateGrayMode } from '/@/logics/theme/updateGrayMode';\n\nimport { useAppStore } from '/@/store/modules/app';\nimport { ProjectConfig } from '/#/config';\nimport { updateDarkTheme } from '/@/logics/theme/dark';\nimport { useRootSetting } from '/@/hooks/setting/useRootSetting';\n\nexport function baseHandler(event: HandlerEnum, value: any) {\n  const appStore = useAppStore();\n  const config = handler(event, value);\n  appStore.setProjectConfig(config);\n  if (event === HandlerEnum.CHANGE_THEME) {\n    updateHeaderBgColor();\n    updateSidebarBgColor();\n  }\n}\n\nexport function handler(event: HandlerEnum, value: any): DeepPartial<ProjectConfig> {\n  const appStore = useAppStore();\n\n  const { getThemeColor, getDarkMode } = useRootSetting();\n  switch (event) {\n    case HandlerEnum.CHANGE_LAYOUT:\n      const { mode, type, split } = value;\n      const splitOpt = split === undefined ? { split } : {};\n\n      return {\n        menuSetting: {\n          mode,\n          type,\n          collapsed: false,\n          show: true,\n          hidden: false,\n          ...splitOpt,\n        },\n      };\n\n    case HandlerEnum.CHANGE_THEME_COLOR:\n      if (getThemeColor.value === value) {\n        return {};\n      }\n\n      return { themeColor: value };\n\n    case HandlerEnum.CHANGE_THEME:\n      if (getDarkMode.value === value) {\n        return {};\n      }\n      updateDarkTheme(value);\n\n      return {};\n\n    case HandlerEnum.MENU_HAS_DRAG:\n      return { menuSetting: { canDrag: value } };\n\n    case HandlerEnum.MENU_ACCORDION:\n      return { menuSetting: { accordion: value } };\n\n    case HandlerEnum.MENU_TRIGGER:\n      return { menuSetting: { trigger: value } };\n\n    case HandlerEnum.MENU_TOP_ALIGN:\n      return { menuSetting: { topMenuAlign: value } };\n\n    case HandlerEnum.MENU_COLLAPSED:\n      return { menuSetting: { collapsed: value } };\n\n    case HandlerEnum.MENU_WIDTH:\n      return { menuSetting: { menuWidth: value } };\n\n    case HandlerEnum.MENU_SHOW_SIDEBAR:\n      return { menuSetting: { show: value } };\n\n    case HandlerEnum.MENU_COLLAPSED_SHOW_TITLE:\n      return { menuSetting: { collapsedShowTitle: value } };\n\n    case HandlerEnum.MENU_THEME:\n      updateSidebarBgColor(value);\n      return { menuSetting: { bgColor: value } };\n\n    case HandlerEnum.MENU_SPLIT:\n      return { menuSetting: { split: value } };\n\n    case HandlerEnum.MENU_CLOSE_MIX_SIDEBAR_ON_CHANGE:\n      return { menuSetting: { closeMixSidebarOnChange: value } };\n\n    case HandlerEnum.MENU_FIXED:\n      return { menuSetting: { fixed: value } };\n\n    case HandlerEnum.MENU_TRIGGER_MIX_SIDEBAR:\n      return { menuSetting: { mixSideTrigger: value } };\n\n    case HandlerEnum.MENU_FIXED_MIX_SIDEBAR:\n      return { menuSetting: { mixSideFixed: value } };\n\n    // ============transition==================\n    case HandlerEnum.OPEN_PAGE_LOADING:\n      appStore.setPageLoading(false);\n      return { transitionSetting: { openPageLoading: value } };\n\n    case HandlerEnum.ROUTER_TRANSITION:\n      return { transitionSetting: { basicTransition: value } };\n\n    case HandlerEnum.OPEN_ROUTE_TRANSITION:\n      return { transitionSetting: { enable: value } };\n\n    case HandlerEnum.OPEN_PROGRESS:\n      return { transitionSetting: { openNProgress: value } };\n    // ============root==================\n\n    case HandlerEnum.LOCK_TIME:\n      return { lockTime: value };\n\n    case HandlerEnum.FULL_CONTENT:\n      return { fullContent: value };\n\n    case HandlerEnum.CONTENT_MODE:\n      return { contentMode: value };\n\n    case HandlerEnum.SHOW_BREADCRUMB:\n      return { showBreadCrumb: value };\n\n    case HandlerEnum.SHOW_BREADCRUMB_ICON:\n      return { showBreadCrumbIcon: value };\n\n    case HandlerEnum.GRAY_MODE:\n      updateGrayMode(value);\n      return { grayMode: value };\n\n    case HandlerEnum.SHOW_FOOTER:\n      return { showFooter: value };\n\n    case HandlerEnum.COLOR_WEAK:\n      updateColorWeak(value);\n      return { colorWeak: value };\n\n    case HandlerEnum.SHOW_LOGO:\n      return { showLogo: value };\n\n    // ============tabs==================\n    case HandlerEnum.TABS_SHOW_QUICK:\n      return { multiTabsSetting: { showQuick: value } };\n\n    case HandlerEnum.TABS_SHOW:\n      return { multiTabsSetting: { show: value } };\n\n    case HandlerEnum.TABS_SHOW_REDO:\n      return { multiTabsSetting: { showRedo: value } };\n\n    case HandlerEnum.TABS_SHOW_FOLD:\n      return { multiTabsSetting: { showFold: value } };\n\n    // ============header==================\n    case HandlerEnum.HEADER_THEME:\n      updateHeaderBgColor(value);\n      return { headerSetting: { bgColor: value } };\n\n    case HandlerEnum.HEADER_SEARCH:\n      return { headerSetting: { showSearch: value } };\n\n    case HandlerEnum.HEADER_FIXED:\n      return { headerSetting: { fixed: value } };\n\n    case HandlerEnum.HEADER_SHOW:\n      return { headerSetting: { show: value } };\n    default:\n      return {};\n  }\n}\n"],"names":["baseHandler","event","value","appStore","useAppStore","config","handler","HandlerEnum","updateHeaderBgColor","updateSidebarBgColor","getThemeColor","getDarkMode","useRootSetting","mode","type","split","__spreadValues","updateDarkTheme","updateGrayMode","updateColorWeak"],"mappings":"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"}