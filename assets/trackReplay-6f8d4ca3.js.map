{"version":3,"file":"trackReplay-6f8d4ca3.js","sources":["../../src/views/monitor/smartdevice/monitorInfo/trackReplay.vue"],"sourcesContent":["<template>\n  <div class=\"info-content-box\">\n    <div class=\"device-info-box\">\n      <div class=\"info-row\">\n        <span class=\"label\" style=\"width: 5em\">设备编号：</span>\n        <span class=\"text\">{{ infoData.deviceCode }}</span>\n      </div>\n\n      <template v-if=\"infoData.type === 'ewc'\">\n        <div class=\"info-row\">\n          <span class=\"label\" style=\"width: 5em\">姓名：</span>\n          <span class=\"text\">{{ infoData.userName }}</span>\n        </div>\n      </template>\n      <template v-if=\"infoData.type === 'dr'\">\n        <div class=\"info-row\">\n          <span class=\"label\" style=\"width: 5em\">车牌号：</span>\n          <span class=\"text\">{{ infoData.plateNumber }}</span>\n        </div>\n      </template>\n      <template v-if=\"infoData.type === 'ii'\">\n        <div class=\"info-row\">\n          <span class=\"label\" style=\"width: 5em\">所属电站：</span>\n          <span class=\"text\">{{ infoData.stationShortName }}</span>\n        </div>\n      </template>\n\n      <div class=\"info-row\">\n        <span class=\"label\" style=\"width: 5em\">日期：</span>\n        <a-date-picker v-model:value=\"searchDate\" valueFormat=\"YYYY-MM-DD\" @change=\"changeDate\" />\n      </div>\n      <div class=\"info-row\">\n        <span class=\"label\" style=\"width: 5em\">时间进度：</span>\n        <TimeSlider\n          :startTime=\"startTime\"\n          :endTime=\"endTime\"\n          v-model:timeValues=\"timeValues\"\n          @after-change=\"handleTimeSliderChange\"\n        />\n      </div>\n      <div class=\"info-row\">\n        <span class=\"label\" style=\"width: 5em\">轨迹操作：</span>\n        <a-button class=\"operation-btn\" type=\"primary\" @click=\"handleSearch\">查询</a-button>\n        <a-button\n          class=\"operation-btn\"\n          type=\"primary\"\n          :disabled=\"disabledBtn.replay\"\n          @click=\"handleReplay\"\n          >回放</a-button\n        >\n        <a-button\n          class=\"operation-btn\"\n          type=\"primary\"\n          :disabled=\"disabledBtn.pause\"\n          @click=\"handlePause\"\n          >暂停</a-button\n        >\n        <a-button\n          class=\"operation-btn\"\n          type=\"primary\"\n          :disabled=\"disabledBtn.goOn\"\n          @click=\"handleGoOn\"\n          >继续</a-button\n        >\n        <a-button\n          class=\"operation-btn\"\n          type=\"primary\"\n          :disabled=\"disabledBtn.end\"\n          @click=\"handleEnd\"\n          >结束</a-button\n        >\n      </div>\n      <div class=\"info-row\" id=\"speed-slider-container\">\n        <span class=\"label\" style=\"width: 5em\">回放速度：</span>\n        <a-slider\n          class=\"time-slider\"\n          v-model:value=\"speedValue\"\n          tooltipVisible\n          :max=\"10\"\n          :getTooltipPopupContainer=\"getSpeedSliderContainer\"\n          @change=\"changeSpeed\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import dayjs from 'dayjs';\n  import { onMounted, ref } from 'vue';\n  import TimeSlider from '../components/TimeSlider.vue';\n\n  defineProps({\n    infoData: { type: Object, default: () => {} }, // 弹框内容数据\n    disabledBtn: {\n      type: Object,\n      default: () => {\n        return { replay: true, pause: true, goOn: true, end: true };\n      },\n    },\n  });\n\n  const emit = defineEmits([\n    'search',\n    'replay',\n    'pause',\n    'goOn',\n    'end',\n    'changeDate',\n    'changeTime',\n    'changeSpeed',\n  ]);\n  // 时间进度\n  const startTime = ref('');\n  const endTime = ref('');\n  const timeValues = ref<Array<string>>([]);\n  // 日期\n  const searchDate = ref(dayjs().format('YYYY-MM-DD'));\n  // 回放速度\n  const speedValue = ref<number>(5);\n  const getSpeedSliderContainer = () => {\n    return document.getElementById('speed-slider-container');\n  };\n  // 查询\n  const handleSearch = () => {\n    emit('search');\n  };\n  // 回放\n  const handleReplay = () => {\n    emit('replay', speedValue.value);\n  };\n  // 暂停\n  const handlePause = () => {\n    emit('pause');\n  };\n  // 继续\n  const handleGoOn = () => {\n    emit('goOn');\n  };\n  // 结束\n  const handleEnd = () => {\n    emit('end');\n  };\n  // 改变日期\n  const changeDate = (value) => {\n    emit('changeDate', value);\n    searchDate.value = value;\n  };\n  // 改变时间进度\n  const handleTimeSliderChange = (value) => {\n    emit('changeTime', value);\n  };\n  // 改变回放速度\n  const changeSpeed = (value) => {\n    emit('changeSpeed', value);\n  };\n  onMounted(() => {\n    startTime.value = searchDate.value + ' 00:00';\n    endTime.value = searchDate.value + ' 23:59';\n  });\n</script>\n<style lang=\"less\">\n  [data-theme='dark'] .theme1 {\n    .time-slider {\n      .ant-slider-rail {\n        background-color: rgb(255 255 255 / 60%);\n      }\n\n      .ant-slider-handle {\n        background: linear-gradient(180deg, #07a7dc, #2169e5);\n      }\n\n      .ant-slider-track {\n        background-color: #2c9bfc;\n      }\n    }\n\n    .time-slider.ant-slider:hover .ant-slider-rail {\n      background-color: rgb(255 255 255 / 60%);\n    }\n\n    .time-slider-mark {\n      color: #fff;\n    }\n\n    .info-content-box {\n      background-color: rgb(7 59 109 / 50%);\n\n      .info-row {\n        border-bottom: 1px solid rgb(255 255 255 / 16%);\n\n        .label {\n          color: rgb(255 255 255 / 60%);\n        }\n\n        .text {\n          color: #fff;\n        }\n      }\n    }\n  }\n\n  .theme3 {\n    .time-slider {\n      .ant-slider-rail {\n        background-color: rgb(0 0 0 / 8%);\n      }\n\n      .ant-slider-handle {\n        background: linear-gradient(180deg, #07a7dc, #2169e5);\n      }\n\n      .ant-slider-track {\n        background-color: #2c9bfc;\n      }\n    }\n\n    .time-slider.ant-slider:hover .ant-slider-rail {\n      background-color: rgb(0 0 0 / 8%);\n    }\n\n    .time-slider-mark {\n      color: #262626;\n    }\n\n    .info-content-box {\n      background-color: rgb(24 144 255 / 6%);\n\n      .info-row {\n        border-bottom: 1px solid rgb(153 153 153 / 10%);\n\n        .label {\n          color: #777;\n        }\n\n        .text {\n          color: #262626;\n        }\n      }\n    }\n  }\n</style>\n<style lang=\"less\" scoped>\n  .info-content-box {\n    padding: 20px;\n    border-radius: 2px;\n\n    .info-row {\n      display: flex;\n      align-items: center;\n      min-height: 50px;\n      padding: 10px 0;\n      font-size: 14px;\n\n      :deep(.ant-slider-tooltip) {\n        padding: 0;\n\n        .ant-tooltip-arrow {\n          display: none;\n        }\n      }\n\n      :deep(.ant-tooltip-inner) {\n        min-height: 12px;\n        margin-bottom: -3px;\n        padding: 0;\n        background: transparent;\n        box-shadow: none;\n        color: #2d9dfe;\n        font-size: 12px;\n      }\n\n      .label {\n        flex-shrink: 0;\n        margin-right: 6px;\n        text-align: right;\n      }\n\n      .operation-btn {\n        height: 24px;\n        padding: 0 9px;\n        font-size: 12px;\n\n        & + .operation-btn {\n          margin-left: 2px;\n        }\n      }\n    }\n\n    .time-slider {\n      flex: 1;\n      margin: 20px 0;\n\n      :deep(.ant-slider-dot) {\n        display: none;\n      }\n\n      :deep(.ant-slider-handle) {\n        width: 12px;\n        height: 12px;\n        border: none;\n      }\n    }\n\n    .time-slider-mark {\n      font-size: 12px;\n    }\n\n    :deep(.ant-slider-mark) {\n      .ant-slider-mark-text:first-child {\n        transform: translateX(0) !important;\n      }\n\n      .ant-slider-mark-text:last-child {\n        transform: translateX(-100%) !important;\n      }\n    }\n  }\n</style>\n"],"names":["startTime","ref","endTime","timeValues","searchDate","dayjs","speedValue","getSpeedSliderContainer","handleSearch","emit","handleReplay","handlePause","handleGoOn","handleEnd","changeDate","value","handleTimeSliderChange","changeSpeed","onMounted"],"mappings":"u4CAiHQ,MAAAA,EAAYC,EAAI,EAAE,EAClBC,EAAUD,EAAI,EAAE,EAChBE,EAAaF,EAAmB,CAAA,CAAE,EAElCG,EAAaH,EAAII,EAAQ,EAAA,OAAO,YAAY,CAAC,EAE7CC,EAAaL,EAAY,CAAC,EAC1BM,EAA0B,IACvB,SAAS,eAAe,wBAAwB,EAGnDC,EAAe,IAAM,CACzBC,EAAK,QAAQ,CAAA,EAGTC,EAAe,IAAM,CACpBD,EAAA,SAAUH,EAAW,KAAK,CAAA,EAG3BK,EAAc,IAAM,CACxBF,EAAK,OAAO,CAAA,EAGRG,EAAa,IAAM,CACvBH,EAAK,MAAM,CAAA,EAGPI,EAAY,IAAM,CACtBJ,EAAK,KAAK,CAAA,EAGNK,EAAcC,GAAU,CAC5BN,EAAK,aAAcM,CAAK,EACxBX,EAAW,MAAQW,CAAA,EAGfC,EAA0BD,GAAU,CACxCN,EAAK,aAAcM,CAAK,CAAA,EAGpBE,EAAeF,GAAU,CAC7BN,EAAK,cAAeM,CAAK,CAAA,EAE3B,OAAAG,EAAU,IAAM,CACJlB,EAAA,MAAQI,EAAW,MAAQ,SAC7BF,EAAA,MAAQE,EAAW,MAAQ,QAAA,CACpC"}