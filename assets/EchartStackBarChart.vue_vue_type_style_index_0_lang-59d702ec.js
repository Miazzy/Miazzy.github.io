import{d as aa,e as ta,w as f,o as ea,q as oa,Z as T,_ as R,v as ra,A as la,$ as ia,u as sa,a6 as q,f as na,ac as da,F as ca}from"./vue-71d1abb3.js";import"./index-d8a2358f.js";import{N as ha}from"./NoData-1ab5cc7b.js";import{g as m,i as ua,L as p}from"./install-58e0bd81.js";const fa=["id"],ya=aa({__name:"EchartStackBarChart",props:{data:Array,width:{type:[Number,String],default:600},height:{type:[Number,String],default:300},colors:{type:Array,default:[["#1890ff","#60d1f3","#8fd0f4","#2de4a5","#63b2ee"],["#E59837","#FAE895"]]},barWidth:{type:[Number,String],default:""},backgroundColor:{type:String,default:"transparent"},tipsBgColor:{type:String,default:""},tipsTextColor:{type:String,default:""},tipsFormat:{type:Function,default:null},axisColor:{type:String,default:"rgba(170, 221, 255, .8)"},axisWidth:{type:String,default:"0.2"},legendColor:{type:String,default:"rgba(255, 255, 255, 0.6)"},rotate:{type:Number,default:0},xAxisLabelInterval:{type:[Number,Function,String],default:0},dataZoomDisabled:{type:Boolean,default:!0},dataZoomMaxValueSpan:{type:Number,default:12},dataZoomDefaultValueRange:{type:Array,default:[]}},emits:["clickItem"],setup(G,{emit:H}){const a=G,s=parseInt(Math.random()*1e7),b=ta(()=>{var e,t,r,n;return!((t=(e=a.data)==null?void 0:e.barData)!=null&&t.length||(n=(r=a.data)==null?void 0:r.lineData)!=null&&n.length)}),h=()=>{var g,y,x,S,w,D,k,C,v,A,W,N,_,z,L,Z,$,B,F,I,V,E;var e=document.getElementById("echarts-stackbar-container"+s);let t=m(e);t==null&&(t=ua(e));var r;const n=a.data.categories,d=(g=a.data.barNames)!=null&&g.length?a.data.barNames:[],O=a.data.barData&&a.data.barData.length>0?a.data.barData[0]:[],P=a.data.barData&&a.data.barData.length>1?a.data.barData[1]:[],j=a.data.barData&&a.data.barData.length>2?a.data.barData[2]:[],J=a.data.barData&&a.data.barData.length>3?a.data.barData[3]:[],K=a.data.lineData&&a.data.lineData.length>0?a.data.lineData:[],Q=(y=a.data.lineNames)!=null&&y.length?a.data.lineNames:[],o=[["#1890ff","#60d1f3","#8fd0f4","#2de4a5","#63b2ee"],["#E59837","#FAE895"]];r={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:a.tipsBgColor?a.tipsBgColor:"rgb(50,175,255, 15%)",textStyle:{color:a.tipsTextColor?a.tipsTextColor:"#fff"},borderColor:"transparent",confine:!0,formatter:function(c){if(a.tipsFormat!=null&&typeof a.tipsFormat=="function")return a.tipsFormat(c);try{let l=c[0].name+"<br />";return c.forEach((i,u)=>{var M;let U=(M=a.data.units)!=null&&M.length&&a.data.units[u]?a.data.units[u]:"",X=i.seriesName?`${i.seriesName}ï¼š`:"",Y=i.value||i.value===0?i.value+U:"--";l=`${l}${X}${Y}`,u<c.length-1&&(l+="<br />")}),l}catch(l){return""}}},grid:{top:25,left:"1%",right:"1%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:n,nameTextStyle:{color:"#888888",fontSize:22,fontWeight:"bolder",padding:[10,-800,66,0]},splitLine:{show:!1},axisTick:{show:!1,inside:!1},axisLabel:{color:"rgba(255, 255, 255, 0.6)",fontSize:14,fontFamily:"Arial",interval:a.xAxisLabelInterval,rotate:a.rotate},axisLine:{show:" ",onZero:" ",onZeroAxisIndex:"12",symbol:["none","none"],symbolSize:[10,10],lineStyle:{color:a.axisColor,width:a.axisWidth}}}],yAxis:[{type:"value",splitLine:{show:!0,lineStyle:{color:a.axisColor,width:a.axisWidth}},axisLine:{show:" ",onZero:" ",onZeroAxisIndex:"12",symbol:["none","none"],symbolSize:[10,10],lineStyle:{color:a.axisColor,width:a.axisWidth}},axisLabel:{color:"rgba(255, 255, 255, 0.6)",fontSize:14,fontFamily:"Arial"}},{type:"value",nameTextStyle:{color:"transparent",fontSize:26,fontWeight:"bolder",padding:[10,-800,66,0]},splitLine:{show:!1,lineStyle:{color:a.axisColor,width:a.axisWidth}},axisTick:{show:!1,inside:!1},axisLine:{lineStyle:{color:"transparent"}},axisLabel:{color:"rgba(255, 255, 255, 0.6)",fontSize:14,fontFamily:"Arial"}}],series:[{name:d[0],type:"bar",stack:"Ad",color:(S=(x=a.colors)==null?void 0:x[0])!=null&&S[0]?a.colors[0][0]:o[0][0],emphasis:{focus:"series"},data:O,barWidth:a.barWidth,barMaxWidth:14,z:1e3},{name:d[1],type:"bar",stack:"Ad",color:(D=(w=a.colors)==null?void 0:w[0])!=null&&D[1]?a.colors[0][1]:o[0][1],emphasis:{focus:"series"},data:P,barWidth:a.barWidth,barMaxWidth:14,z:1e3},{name:d[2],type:"bar",stack:"Ad",color:(C=(k=a.colors)==null?void 0:k[0])!=null&&C[2]?a.colors[0][2]:o[0][2],emphasis:{focus:"series"},data:j,barWidth:a.barWidth,barMaxWidth:14,z:1e3},{name:d[3],type:"bar",stack:"Ad",color:(A=(v=a.colors)==null?void 0:v[0])!=null&&A[3]?a.colors[0][3]:o[0][3],emphasis:{focus:"series"},data:J,barWidth:a.barWidth,barMaxWidth:14,z:1e3},{name:Q[0],type:"line",yAxisIndex:1,color:new p(0,1,0,0,[{offset:0,color:(N=(W=a.colors)==null?void 0:W[1])!=null&&N[0]?a.colors[1][0]:o[1][0]},{offset:1,color:(z=(_=a.colors)==null?void 0:_[1])!=null&&z[1]?a.colors[1][1]:o[1][1]}],!1),lineStyle:{width:2,color:new p(0,1,0,0,[{offset:0,color:(Z=(L=a.colors)==null?void 0:L[1])!=null&&Z[0]?a.colors[1][0]:o[1][0]},{offset:1,color:(B=($=a.colors)==null?void 0:$[1])!=null&&B[1]?a.colors[1][1]:o[1][1]}],!1)},data:K,areaStyle:{color:new p(0,0,0,1,[{offset:0,color:`${(I=(F=a.colors)==null?void 0:F[1])!=null&&I[0]?a.colors[1][0]:o[1][0]}30`},{offset:1,color:`${(E=(V=a.colors)==null?void 0:V[1])!=null&&E[1]?a.colors[1][1]:o[1][1]}10`}])},z:1e3}],legend:{show:!0,top:"top",left:"right",textStyle:{color:a.legendColor},itemWidth:14,itemHeight:10},dataZoom:[{type:"inside",disabled:a.dataZoomDisabled,xAxisIndex:0,maxValueSpan:a.dataZoomMaxValueSpan-1,startValue:a.dataZoomDefaultValueRange[0]||0,endValue:a.dataZoomDefaultValueRange[1]||a.dataZoomMaxValueSpan-1}]},r&&t.setOption(r)};return f(()=>a.data,()=>{h()},{deep:!0}),f(()=>a.colors,()=>{h()},{deep:!0}),f(()=>a.height,()=>{setTimeout(()=>{var e=document.getElementById("echarts-stackbar-container"+s);let t=m(e);t==null||t.resize()},100)}),ea(()=>{h(),oa(()=>{var e=document.getElementById("echarts-stackbar-container"+s);m(e).on("click",r=>{H("clickItem",r)})})}),(e,t)=>(T(),R(ca,null,[ra(ia("div",{id:`echarts-stackbar-container${sa(s)}`,class:"echarts-stackbar-container",style:q(`width: ${typeof a.width=="number"?a.width+"px":a.width}; height: ${typeof a.height=="number"?a.height+"px":a.height}; background-color: ${a.backgroundColor||"transparent"};`)},null,12,fa),[[la,!b.value]]),b.value?(T(),R("div",{key:0,style:q(`width: ${typeof a.width=="number"?a.width+"px":a.width}; height: ${typeof a.height=="number"?a.height+"px":a.height}; background-color: ${a.backgroundColor||"transparent"};`)},[na(ha)],4)):da("",!0)],64))}});export{ya as _};
//# sourceMappingURL=EchartStackBarChart.vue_vue_type_style_index_0_lang-59d702ec.js.map
