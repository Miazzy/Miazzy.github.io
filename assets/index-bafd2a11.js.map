{"version":3,"file":"index-bafd2a11.js","sources":["../../src/views/system/rbac/org/index.ts","../../src/views/system/rbac/org/index.vue"],"sourcesContent":["import { BasicColumn, FormSchema } from '/@/components/Table';\nimport { defHttp } from '/@/utils/http/axios';\n\nenum Api {\n  treeData = '/system/org/list-tree-ad',\n  orgPage = '/system/org/page',\n  getUser = '/system/user/get?id=',\n  userSimpleList = '/system/org/getAllUsers',\n  insertUrl = '/system/org/create',\n  updateStatusUrl = '/system/org/updateStatus',\n  deleteUrl = '/system/org/delete',\n  saveSort = '/system/org/saveSort',\n  getModelByType = '/baseset/devicemodel/list',\n  strFormationList = '/baseset/comm-device/detail/list',\n  strFormationCreate = '/baseset/comm-device/detail/create',\n  strFormationUpdate = '/baseset/comm-device/detail/update',\n  strFormationDelete = '/baseset/comm-device/detail/delete',\n  areaList = '/baseset/areaset/list',\n  saveMainPos = '/system/user/update-mainOrgId',\n  saveAssi = '/system/org/saveAssign',\n  getOrgType = '/system/org-type/orgTypelist',\n}\n\nexport const orgTypeUrl = Api.getOrgType;\n\nexport function getColumns(): BasicColumn[] {\n  return [\n    {\n      title: 'ID',\n      dataIndex: 'id',\n      defaultHidden: true,\n    },\n    {\n      title: '类型',\n      dataIndex: 'orgKindIdText',\n      resizable: true,\n      width: 80,\n    },\n    {\n      title: '编码',\n      dataIndex: 'code',\n      sorter: true,\n      resizable: true,\n      width: 120,\n    },\n    {\n      title: '名称',\n      dataIndex: 'name',\n      width: 200,\n      headAlign: 'center',\n      resizable: true,\n      align: 'left',\n    },\n    {\n      title: '证件号码',\n      dataIndex: 'certificateNo',\n      width: 150,\n      headAlign: 'center',\n      resizable: true,\n      align: 'left',\n    },\n    {\n      title: '路径',\n      dataIndex: 'fullName',\n      width: 300,\n      headAlign: 'center',\n      resizable: true,\n      align: 'left',\n    },\n    {\n      title: '排序号',\n      dataIndex: 'sort',\n      sorter: true,\n      resizable: true,\n      width: 100,\n      headAlign: 'center',\n      align: 'right',\n    },\n    {\n      title: '状态',\n      dataIndex: 'statusText',\n      width: 80,\n      resizable: true,\n      align: 'center',\n    },\n    {\n      title: '机构',\n      dataIndex: 'showOrgName',\n      width: 200,\n      resizable: true,\n      headAlign: 'center',\n      align: 'left',\n    },\n    {\n      title: '部门',\n      dataIndex: 'deptName',\n      width: 150,\n      resizable: true,\n      headAlign: 'center',\n      align: 'left',\n    },\n    {\n      title: '岗位',\n      dataIndex: 'positionName',\n      width: 150,\n      resizable: true,\n      headAlign: 'center',\n      align: 'left',\n    },\n    {\n      title: '主岗位',\n      dataIndex: 'mainPositionName',\n      width: 150,\n      resizable: true,\n      headAlign: 'center',\n      align: 'left',\n    },\n    {\n      title: '是否虚拟组织',\n      dataIndex: 'isVirtualText',\n      resizable: true,\n      width: 90,\n      align: 'center',\n    },\n  ];\n}\n\nexport interface DeptListItem {\n  id: string;\n  orderNo: string;\n  createTime: string;\n  remark: string;\n  status: number;\n}\n// 组织树数据\nexport const getOrgTypeList = (params) => {\n  params.status = 1;\n  return defHttp.get({ url: Api.getOrgType, params }, {});\n};\n// 组织树数据\nexport const getTreeData = (params) =>\n  defHttp.post(\n    {\n      url: Api.treeData,\n      params,\n    },\n    {},\n  );\n\n// 组织列表数据\nexport const getOrgPage = (params) =>\n  defHttp.post(\n    {\n      url: Api.orgPage,\n      params,\n    },\n    {},\n  );\n// 区域列表数据\nexport const getAreaList = (params) =>\n  defHttp.post(\n    {\n      url: Api.areaList,\n      params,\n    },\n    {},\n  );\n\n// 新增\nexport const insertOrgan = (params) =>\n  defHttp.post(\n    {\n      url: Api.insertUrl,\n      params,\n    },\n    {},\n  );\n\n// 修改状态\nexport const updateStatus = (params) =>\n  defHttp.get(\n    {\n      url: Api.updateStatusUrl,\n      params,\n    },\n    {},\n  );\n\n// 删除\nexport const deleteOgn = (id) =>\n  defHttp.delete(\n    {\n      url: Api.deleteUrl + '?id=' + id,\n    },\n    {},\n  );\n\n// 保存排序号\nexport const saveSort = (params) =>\n  defHttp.post(\n    {\n      url: Api.saveSort,\n      params,\n    },\n    {},\n  );\n\n//查询用户\nexport const getUser = (id) => {\n  return defHttp.get({ url: Api.getUser + id }, {});\n};\n\nexport const userSimpleList = () => {\n  return defHttp.get({ url: Api.userSimpleList }, {});\n};\n\nexport const saveMainPos = (params) => {\n  return defHttp.put({ url: Api.saveMainPos, params }, {});\n};\n\nexport const saveAssi = (params) => {\n  return defHttp.post({ url: Api.saveAssi, params }, {});\n};\n\n//------------------------------------------------------------------------------\n// 根据设备类型获取设备型号\nexport const getModelByType = (params) =>\n  defHttp.post(\n    {\n      url: Api.getModelByType,\n      params,\n    },\n    {},\n  );\n\n// 组串列表数据\nexport const getStrForDeviceList = (params) =>\n  defHttp.post(\n    {\n      url: Api.strFormationList,\n      params,\n    },\n    {},\n  );\n\n// 新增组串\nexport const insertPvDevice = (params) =>\n  defHttp.post(\n    {\n      url: Api.strFormationCreate,\n      params,\n    },\n    {},\n  );\n\n// 修改组串\nexport const updatePvDevice = (params) =>\n  defHttp.put(\n    {\n      url: Api.strFormationUpdate,\n      params,\n    },\n    {},\n  );\n\n// 删除组串\nexport const deletePvDevice = (id) =>\n  defHttp.delete(\n    {\n      url: Api.strFormationDelete + '?id=' + id,\n    },\n    {},\n  );\n\nexport const searchFormSchema: FormSchema[] = [\n  {\n    field: 'code',\n    component: 'Input',\n    label: '组织编码',\n    colProps: {\n      span: 10,\n    },\n    required: false,\n  },\n  {\n    field: 'name',\n    component: 'Input',\n    label: '组织名称',\n    colProps: {\n      span: 10,\n    },\n    required: false,\n  },\n  {\n    field: 'showType',\n    component: 'CheckboxGroup',\n    label: '展示方式',\n    colProps: {\n      span: 10,\n    },\n    componentProps: {\n      options: [\n        { label: '显示已禁用组织', value: 'showDisableOrg' },\n        /*{ label: '显示虚拟组织', value: 'showVirtual' },*/\n        { label: '显示所有下级组织', value: 'parentFullId' },\n      ],\n    },\n  },\n  {\n    field: 'orgKindIdList',\n    component: 'CheckboxGroup',\n    label: '组织类型',\n    colProps: {\n      span: 10,\n    },\n    componentProps: {\n      options: [\n        { label: '组织', value: 'ogn' },\n        { label: '部门', value: 'dpt' },\n        { label: '岗位', value: 'pos' },\n        { label: '人员', value: 'psm' },\n      ],\n    },\n  },\n];\n\n// 组串详细数据表头字段获取方法\nexport function getDetailColumns() {\n  return [\n    {\n      title: '状态',\n      dataIndex: 'connStatus',\n      align: 'center',\n    },\n    {\n      key: '1',\n      title: '名称',\n      dataIndex: 'pvStringName',\n      align: 'center',\n      width: 120,\n    },\n    {\n      key: '2',\n      title: 'PV容量(kW）',\n      dataIndex: 'stringPvTotal',\n      width: 150,\n      align: 'center',\n    },\n    {\n      key: '3',\n      title: '组件类型',\n      dataIndex: 'pvModuleType',\n      align: 'center',\n      width: 120,\n    },\n    {\n      key: '4',\n      title: '组件型号',\n      dataIndex: 'pvModuleModel',\n      align: 'center',\n      width: 120,\n    },\n    {\n      key: '5',\n      title: '组件功率(Wp)',\n      dataIndex: 'pvModuleCapacity',\n      align: 'center',\n      width: 120,\n    },\n    {\n      key: '6',\n      title: '组件数/串',\n      dataIndex: 'moduleNum',\n      align: 'center',\n      width: 120,\n    },\n    {\n      key: '7',\n      title: '组串数/端口',\n      dataIndex: 'connPvstringNum',\n      align: 'center',\n      width: 120,\n    },\n    {\n      key: '8',\n      title: '操作',\n      dataIndex: 'operation',\n      align: 'center',\n      width: 120,\n    },\n  ];\n}\n","<template>\n  <PageWrapper dense contentFullHeight fixedHeight contentClass=\"flex\" style=\"position: relative\">\n    <!-- 电站组织树 -->\n    <CommonTree\n      title=\"组织机构树\"\n      @select=\"handleSelect\"\n      :value=\"treeData\"\n      class=\"left-tree-layout\"\n      :canEdit=\"false\"\n      :canAdd=\"false\"\n      :canDelete=\"false\"\n      :isShowOperationBtns=\"false\"\n      :fieldNames=\"{ key: 'id', title: 'name' }\"\n    />\n    <!-- 数据表格 -->\n    <div class=\"right-table-layout\">\n      <BasicTable\n        @register=\"registerTable\"\n        class=\"fix-basic-table\"\n        :searchInfo=\"searchInfo\"\n        @selection-change=\"handleSelectChange\"\n        :scroll=\"{ y: yValue }\"\n        @resize-column=\"(w, col) => (col.width = w)\"\n        @form-toggle=\"handleFormToggle\"\n      >\n        <template #toolbar>\n          <template v-for=\"(btn, index) in currentButtons\">\n            <a-button\n              :type=\"btn.type\"\n              :preIcon=\"btn.icon\"\n              @click=\"handClick(btn.btnType, btn.parameter)\"\n              >{{ btn.name }}</a-button\n            >\n          </template>\n        </template>\n        <template #bodyCell=\"{ column, record }\">\n          <template v-if=\"column.key === 'sort'\">\n            <a-input-number\n              v-model:value=\"record[column.dataIndex]\"\n              :style=\"`margin: -5px 0;text-align:right`\"\n              :min=\"1\"\n              :max=\"999\"\n            />\n          </template>\n        </template>\n      </BasicTable>\n    </div>\n    <div v-show=\"loadingFlag\" class=\"dialog-loading\">\n      <a-spin />\n    </div>\n\n    <!-- 组织弹窗 -->\n    <Dialog\n      v-model:visible=\"deptVisible\"\n      smode=\"normal\"\n      :title=\"dialogTitle\"\n      :width=\"600\"\n      overflowY=\"auto\"\n      @confirm=\"saveOrgan\"\n      @cancel=\"cancelOrgan\"\n    >\n      <a-form ref=\"organFormRef\" :model=\"formState\" name=\"organForm\">\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              label=\"编码\"\n              name=\"code\"\n              :labelCol=\"{ span: 4 }\"\n              :rules=\"[{ required: true, message: '请输入编码' }]\"\n            >\n              <a-select\n                v-if=\"selectCode\"\n                v-model:value=\"formState.code\"\n                show-search\n                :options=\"orgTypeList\"\n                @change=\"selectOrg\"\n              />\n              <a-input v-model:value=\"formState.code\" v-if=\"!selectCode\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              label=\"名称\"\n              name=\"name\"\n              :labelCol=\"{ span: 4 }\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input v-model:value=\"formState.name\" :disabled=\"selectCode\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item label=\"全名称\" name=\"longName\" :labelCol=\"{ span: 4 }\">\n              <a-input v-model:value=\"formState.longName\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row v-show=\"orgKindId == 'dpt'\" :gutter=\"24\">\n          <a-col :span=\"24\">\n            <a-form-item label=\"部门负责人\" name=\"leaderUserId\" :labelCol=\"{ span: 4 }\">\n              <Select\n                v-model:value=\"formState.leaderUserId\"\n                show-search\n                :filter-option=\"filterOption\"\n                :options=\"userList\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              label=\"排序号\"\n              name=\"sort\"\n              :labelCol=\"{ span: 4 }\"\n              :rules=\"[{ required: true, message: '请输入排序号' }]\"\n            >\n              <a-input-number :min=\"1\" v-model:value=\"formState.sort\" :max=\"999\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item label=\"描述\" name=\"description\" :labelCol=\"{ span: 4 }\">\n              <a-textarea :rows=\"5\" v-model:value=\"formState.description\" :maxlength=\"256\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n      </a-form>\n    </Dialog>\n\n    <!-- 人员弹窗 -->\n    <Dialog\n      v-model:visible=\"personVisible\"\n      smode=\"default\"\n      :title=\"selectTitle\"\n      :width=\"800\"\n      @confirm=\"savePerson\"\n      @cancel=\"cancelPerson\"\n      overflowY=\"auto\"\n    >\n      <a-form ref=\"personFormRef\" :model=\"personFrom\" name=\"personForm\">\n        <a-row :gutter=\"24\">\n          <a-col :span=\"23\">\n            <a-form-item\n              label=\"上级\"\n              name=\"parentFullName\"\n              :labelCol=\"{ span: 3 }\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input v-model:value=\"personFrom.parentFullName\" disabled />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col :span=\"12\">\n            <a-form-item\n              label=\"员工编号\"\n              name=\"code\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true, message: '请输入员工编号' }]\"\n            >\n              <a-input\n                v-model:value=\"personFrom.code\"\n                :maxlength=\"64\"\n                :disabled=\"personFrom.id != null\"\n              />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"11\">\n            <a-form-item\n              label=\"姓名\"\n              name=\"name\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true, message: '请输入姓名' }]\"\n            >\n              <a-input v-model:value=\"personFrom.name\" :maxlength=\"128\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col :span=\"12\">\n            <a-form-item\n              label=\"用户账号\"\n              name=\"loginName\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true, message: '请输入用户账号' }]\"\n            >\n              <a-input v-model:value=\"personFrom.loginName\" :maxlength=\"32\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"11\">\n            <a-form-item\n              label=\"英文名称\"\n              name=\"englishName\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false, message: '请输入英文名称' }]\"\n            >\n              <a-input v-model:value=\"personFrom.englishName\" :maxlength=\"128\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col :span=\"12\">\n            <a-form-item\n              label=\"证件类型\"\n              name=\"certificateKindId\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true, message: '请选择证件类型' }]\"\n            >\n              <DictSelectBox\n                :type=\"`certificate_kind`\"\n                v-model:value=\"personFrom.certificateKindId\"\n                :style=\"{ width: '100%' }\"\n              />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"11\">\n            <a-form-item\n              label=\"证件号码\"\n              name=\"certificateNo\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true, message: '请输入证件号码' }]\"\n            >\n              <a-input v-model:value=\"personFrom.certificateNo\" :maxlength=\"64\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col :span=\"12\">\n            <a-form-item\n              label=\"性别\"\n              name=\"sex\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true, message: '请选择性别' }]\"\n            >\n              <DictSelectBox\n                :type=\"`system_user_sex`\"\n                v-model:value=\"personFrom.sex\"\n                :style=\"{ width: '100%' }\"\n              />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"11\">\n            <a-form-item\n              label=\"婚姻状况\"\n              name=\"marriage\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false, message: '请输入婚姻状况' }]\"\n            >\n              <DictSelectBox\n                :type=\"`marriage`\"\n                v-model:value=\"personFrom.marriage\"\n                :style=\"{ width: '100%' }\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col :span=\"12\">\n            <a-form-item\n              label=\"出生日期\"\n              name=\"birthday\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true, message: '请选择出生日期' }]\"\n            >\n              <a-date-picker\n                v-model:value=\"personFrom.birthday\"\n                valueFormat=\"YYYY-MM-DD\"\n                format=\"YYYY-MM-DD\"\n                :style=\"{ width: '100%' }\"\n              />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"11\">\n            <a-form-item\n              label=\"职称\"\n              name=\"title\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false, message: '请输入职称' }]\"\n            >\n              <a-input v-model:value=\"personFrom.title\" :maxlength=\"64\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col :span=\"12\">\n            <a-form-item\n              label=\"学历\"\n              name=\"degree\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true, message: '请选择学历' }]\"\n            >\n              <DictSelectBox\n                :type=\"`degree`\"\n                v-model:value=\"personFrom.degree\"\n                :style=\"{ width: '100%' }\"\n              />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"11\">\n            <a-form-item\n              label=\"毕业院校\"\n              name=\"graduateSchool\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false, message: '请输入毕业院校' }]\"\n            >\n              <a-input v-model:value=\"personFrom.graduateSchool\" :maxlength=\"128\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col :span=\"12\">\n            <a-form-item\n              label=\"专业\"\n              name=\"speciality\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false, message: '请输入专业' }]\"\n            >\n              <a-input v-model:value=\"personFrom.speciality\" :maxlength=\"128\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"11\">\n            <a-form-item\n              label=\"电子邮件\"\n              name=\"email\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false, message: '请输入电子邮件' }]\"\n            >\n              <a-input v-model:value=\"personFrom.email\" :maxlength=\"128\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col :span=\"12\">\n            <a-form-item\n              label=\"QQ\"\n              name=\"qq\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false, message: '请输入QQ' }]\"\n            >\n              <a-input v-model:value=\"personFrom.qq\" :maxlength=\"32\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"11\">\n            <a-form-item\n              label=\"微信\"\n              name=\"weixin\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false, message: '请输入微信' }]\"\n            >\n              <a-input v-model:value=\"personFrom.weixin\" :maxlength=\"32\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col :span=\"12\">\n            <a-form-item\n              label=\"办公电话\"\n              name=\"officePhone\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false, message: '请输入办公电话' }]\"\n            >\n              <a-input v-model:value=\"personFrom.officePhone\" :maxlength=\"64\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"11\">\n            <a-form-item\n              label=\"移动电话\"\n              name=\"mobile\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true, message: '请输入移动电话' }]\"\n            >\n              <a-input v-model:value=\"personFrom.mobile\" :maxlength=\"64\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col :span=\"12\">\n            <a-form-item\n              label=\"家庭电话\"\n              name=\"familyPhone\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false, message: '请输入家庭电话' }]\"\n            >\n              <a-input v-model:value=\"personFrom.familyPhone\" :maxlength=\"32\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"11\">\n            <a-form-item\n              label=\"邮编\"\n              name=\"zip\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false, message: '请输入邮编' }]\"\n            >\n              <a-input v-model:value=\"personFrom.zip\" :maxlength=\"16\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col :span=\"23\">\n            <a-form-item\n              label=\"家庭地址\"\n              name=\"familyAddress\"\n              :labelCol=\"{ span: 3 }\"\n              :rules=\"[{ required: false, message: '请输入家庭地址' }]\"\n            >\n              <a-input v-model:value=\"personFrom.familyAddress\" :maxlength=\"256\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col :span=\"23\">\n            <a-form-item\n              label=\"描述\"\n              name=\"description\"\n              :labelCol=\"{ span: 3 }\"\n              :rules=\"[{ required: false, message: '请输入描述' }]\"\n            >\n              <a-input v-model:value=\"personFrom.description\" :maxlength=\"256\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n      </a-form>\n    </Dialog>\n\n    <Dialog\n      v-model:visible=\"assignVisible\"\n      title=\"分配人员\"\n      :maskClosable=\"false\"\n      @ok=\"saveAssign\"\n      :width=\"1000\"\n      :bodyStyle=\"{ height: '500px' }\"\n    >\n      <BasicTable\n        @register=\"assignTable\"\n        :maxHeight=\"300\"\n        class=\"w-4/4 xl:w-12/12\"\n        :searchInfo=\"searchInfo\"\n        :scroll=\"{ y: 596 }\"\n      />\n    </Dialog>\n    <Dialog\n      v-model:visible=\"mainPosVisible\"\n      title=\"设置主岗位\"\n      :maskClosable=\"false\"\n      @ok=\"saveMainPosition\"\n      :width=\"1000\"\n      :bodyStyle=\"{ height: '500px' }\"\n    >\n      <BasicTable\n        @register=\"mainPosTable\"\n        :maxHeight=\"300\"\n        class=\"w-4/4 xl:w-12/12\"\n        :searchInfo=\"searchInfo\"\n        :scroll=\"{ y: 596 }\"\n      />\n    </Dialog>\n\n    <div v-if=\"loadingFlag\" class=\"dialog-mask\"> </div>\n  </PageWrapper>\n</template>\n<script lang=\"ts\" setup>\n  import { onMounted, reactive, ref, computed } from 'vue';\n\n  import { BasicTable, useTable } from '/@/components/Table';\n  import { TreeItem } from '/@/components/Tree';\n  import { PageWrapper } from '/@/components/Page';\n  import Dialog from '@/components/Framework/Modal/Dialog.vue';\n  // import deviceDetail from './deviceDetail.vue';\n  import DictSelectBox from '@/components/Framework/Combox/DictSelectBox.vue';\n  import CommonTree from '@/components/Framework/Tree/CommonTree.vue';\n  import { useMessage } from '@/hooks/web/useMessage';\n  import { message, FormInstance, Select } from 'ant-design-vue';\n  import { SysMessage } from '/@/hooks/web/useMessage';\n  import {\n    getOrgPage,\n    insertOrgan,\n    deleteOgn,\n    getTreeData,\n    getColumns,\n    searchFormSchema,\n    saveSort,\n    updateStatus,\n    getUser,\n    saveMainPos,\n    saveAssi,\n    getOrgTypeList,\n    userSimpleList,\n  } from './index';\n  import { resetUserPwd } from '/@/api/bpm/system/user';\n  import { dialogMaskInit } from '@/utils/mask';\n  import { md5 } from '/@/utils/encryption/crypto';\n\n  const { createConfirm } = useMessage();\n\n  const currentButtons = ref([]); //动态按钮\n  const tableHeight = ref('calc(100vh - 262px)');\n  const yValue = computed(() => {\n    return tableHeight.value;\n  });\n  const selectedNode: any = ref({}); // 选中的树节点\n  const deptVisible = ref<boolean>(false); // 机构、部门、岗位详情弹框\n  const personVisible = ref<boolean>(false); // 人员详情弹框\n  const assignVisible = ref<boolean>(false); // 分配人员，\n  const mainPosVisible = ref<boolean>(false); // 设置主岗\n  const formState: any = ref({}); // 添加信息；\n  const personFrom: any = reactive({}); // 添加信息；\n  const dialogTitle = ref('');\n  const organFormRef: any = ref<FormInstance>();\n  const personFormRef = ref<FormInstance>();\n  let selectedRowId = ref(''); // 选中数据的标志\n  let selectedRow: any = reactive({}); // 选中的数据\n  const loadingFlag = ref<boolean>(false);\n  const userList = ref([]);\n\n  const filterOption = (input: string, option: any) => {\n    return option.label.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n  };\n  const handleFormToggle = (flag) => {\n    if (flag) {\n      tableHeight.value = 'calc(100vh - 262px)';\n    } else {\n      tableHeight.value = 'calc(100vh - 222px)';\n    }\n  };\n  // 左侧电站树数据\n  const searchInfo = reactive<Recordable>({}); // 查询信息\n  const treeData = ref<TreeItem[]>([]);\n  const selectTitle = ref('');\n  //电站分期\n  let orgColumn = getColumns();\n  let orgTypeList: any = ref([]);\n  const saveMethod: any = ref('save');\n  // 按钮点击事件\n  const orgKindId: any = ref('');\n  const selectCode = ref(false); //控制是选择还是填写\n  const organTypeMap = {\n    ogn: '机构',\n    dpt: '部门',\n    pos: '岗位',\n    psm: '人员',\n  };\n\n  // 获取动态按钮列表\n  const loadButtons = async (nodeType: String) => {\n    let preButton = [] as any;\n    if (nodeType == 'root') {\n      preButton.push({\n        type: 'primary',\n        name: '添加机构',\n        icon: 'ant-design:plus-outlined',\n        btnType: 'add',\n        parameter: 'ogn',\n      });\n    } else if (nodeType == 'ogn') {\n      preButton.push({\n        type: 'primary',\n        name: '添加机构',\n        icon: 'ant-design:plus-outlined',\n        btnType: 'add',\n        parameter: 'ogn',\n      });\n      preButton.push({\n        type: 'primary',\n        name: '添加部门',\n        icon: 'ant-design:plus-outlined',\n        btnType: 'add',\n        parameter: 'dpt',\n      });\n    } else if (nodeType == 'dpt') {\n      preButton.push({\n        type: 'primary',\n        name: '添加部门',\n        icon: 'ant-design:plus-outlined',\n        btnType: 'add',\n        parameter: 'dpt',\n      });\n      preButton.push({\n        type: 'primary',\n        name: '添加岗位',\n        icon: 'ant-design:plus-outlined',\n        btnType: 'add',\n        parameter: 'pos',\n      });\n    } else if (nodeType == 'pos') {\n      preButton.push({\n        type: 'primary',\n        name: '添加人员',\n        icon: 'ant-design:plus-outlined',\n        btnType: 'add',\n        parameter: 'psm',\n      });\n      preButton.push({\n        type: 'primary',\n        name: '分配人员',\n        icon: 'ant-design:plus-outlined',\n        btnType: 'assign',\n        parameter: 'psm',\n      });\n      preButton.push({\n        type: 'primary',\n        name: '设置主岗位',\n        icon: 'ant-design:setting-outlined',\n        btnType: 'setMainPos',\n        parameter: 'psm',\n      });\n      preButton.push({\n        type: 'primary',\n        name: '重置密码',\n        icon: 'ant-design:setting-outlined',\n        btnType: 'reset',\n        parameter: 'psm',\n      });\n    }\n    let buttons = [\n      {\n        name: '修改',\n        icon: 'clarity:note-edit-line',\n        btnType: 'update',\n      },\n      {\n        type: 'error',\n        name: '删除',\n        icon: 'ant-design:delete-outlined',\n        btnType: 'delete',\n      },\n      {\n        name: '启用',\n        icon: 'ant-design:eye-outlined',\n        btnType: 'on',\n      },\n      {\n        name: '禁用',\n        icon: 'ant-design:eye-outlined',\n        btnType: 'off',\n      },\n      {\n        name: '保存排序号',\n        icon: 'ant-design:exception-outlined',\n        btnType: 'saveSort',\n      },\n    ];\n    let allButton = preButton.concat(buttons);\n    currentButtons.value = allButton;\n  };\n\n  //分页查询列表数据\n  const getOrgPageByParam = async () => {\n    clearSelectedRowKeys();\n    // 获取查询信息\n    let searchForm = getForm().getFieldsValue();\n    let showTypes = searchForm.showType;\n    let reflushTreeFlag = false;\n    searchInfo.showDisableOrg = null;\n    searchInfo.showVirtual = null;\n    searchInfo.parentFullId = null;\n    if (showTypes?.length > 0) {\n      showTypes.forEach((item) => {\n        if (item == 'showDisableOrg' || item == 'showVirtual') {\n          reflushTreeFlag = true;\n        }\n        searchInfo[item] = 1;\n      });\n    }\n    if (reflushTreeFlag) {\n      queryOrgTreeList();\n    }\n    searchInfo.parentId = selectedNode.value.id;\n    searchInfo.orgKindIdList = searchForm.orgKindIdList;\n    searchInfo.code = searchForm.code;\n    searchInfo.name = searchForm.name;\n    searchInfo.deviceName = searchForm.deviceName;\n    const paginationRef = getPaginationRef() as any;\n    searchInfo.pageNo = paginationRef.current;\n    searchInfo.pageSize = paginationRef.pageSize;\n    let data = await getOrgPage(searchInfo);\n    return data.result;\n  };\n\n  const [registerTable, { reload, getForm, getDataSource, clearSelectedRowKeys, getPaginationRef }] =\n    useTable({\n      title: '组织列表',\n      api: getOrgPageByParam,\n      columns: orgColumn,\n      showTableSetting: false,\n      pagination: {\n        pageSize: 20,\n      },\n      bordered: true,\n      rowKey: 'id',\n      rowSelection: {\n        type: 'radio',\n        fixed: true,\n        onSelect: onSelect,\n      },\n      formConfig: {\n        baseColProps: { span: 7 },\n        labelWidth: 120,\n        autoAdvancedLine: 1,\n        showAdvancedButton: false,\n        schemas: searchFormSchema,\n        autoSubmitOnEnter: true,\n      },\n      useSearchForm: true,\n      handleSearchInfoFn(info) {\n        return info;\n      },\n      sortFn: (sortInfo: SorterResult) => {\n        if (sortInfo.order) {\n          searchInfo.sortField = sortInfo.field;\n          searchInfo.sortOrder = sortInfo.order.replace('end', '');\n        } else {\n          searchInfo.sortField = '';\n          searchInfo.sortOrder = '';\n        }\n      },\n    });\n\n  function handleSelectChange({ keys, rows }) {\n    if (rows && rows.length > 0) {\n      const record = rows[0];\n      selectedRowId.value = record.id;\n      selectedRow = record;\n    } else {\n      selectedRowId.value = '';\n      selectedRow = null;\n    }\n  }\n\n  function onSelect(record, selected) {\n    if (selected) {\n      selectedRowId.value = record.id;\n      selectedRow = record;\n    } else {\n      selectedRowId.value = '';\n      selectedRow = null;\n    }\n  }\n\n  const getUserSimpleList = () => {\n    // 查询人员列表\n    userSimpleList({}).then((data) => {\n      if (data.result) {\n        let temp = [];\n        data.result.forEach((element) => {\n          let item = { label: element.name, value: element.id };\n          temp.push(item);\n        });\n        userList.value = temp;\n      }\n    });\n  };\n\n  const selectOrg = (value: string, item) => {\n    formState.value.typeId = item.value;\n    formState.value.code = item.code;\n    formState.value.name = item.label;\n    if (formState.value.fullName) {\n      formState.value.longName =\n        formState.value.fullName.substring(0, formState.value.fullName.lastIndexOf('/') + 1) +\n        item.label;\n    } else {\n      formState.value.longName = item.label;\n    }\n  };\n\n  // 按钮点击事件\n  const handClick = async (method: String, parameter: String) => {\n    selectTitle.value = '';\n    orgKindId.value = parameter;\n    saveMethod.value = method;\n    if (method == 'add') {\n      dialogTitle.value = '添加组织-' + organTypeMap[parameter];\n      if (parameter == 'ogn' || parameter == 'dpt' || parameter == 'pos') {\n        formState.value = {\n          isVirtual: '0',\n          sort: 1,\n        };\n        let curList = getDataSource();\n        if (curList?.length > 0) {\n          formState.value.sort = curList[curList.length - 1].sort;\n        }\n        if (parameter == 'dpt') {\n          getUserSimpleList();\n        }\n        deptVisible.value = true;\n      } else if (parameter == 'psm') {\n        for (let key in personFrom) {\n          if ('parentId' == key || 'parentFullName' == key) {\n            continue;\n          }\n          personFrom[key] = null;\n        }\n        personVisible.value = true;\n        selectTitle.value = '添加人员';\n      }\n    } else if (method == 'update') {\n      if (selectedRowId.value == '') {\n        SysMessage.getInstance().info('请选择一行数据.');\n        return;\n      }\n      formState.value = selectedRow;\n      dialogTitle.value = '修改组织-' + organTypeMap[formState.value.orgKindId];\n      if (\n        formState.value.orgKindId == 'ogn' ||\n        formState.value.orgKindId == 'dpt' ||\n        formState.value.orgKindId == 'pos'\n      ) {\n        deptVisible.value = true;\n        if (formState.value.orgKindId == 'dpt') {\n          orgKindId.value = 'dpt';\n          getUserSimpleList();\n        }\n      } else if (formState.value.orgKindId == 'psm') {\n        selectTitle.value = '修改人员';\n        personVisible.value = true;\n        personFrom.personMemberId = selectedRow.id;\n        personFrom.id = selectedRow.personId;\n        getUser(personFrom.personMemberId).then((rsp) => {\n          Object.assign(personFrom, rsp.result);\n        });\n      }\n    } else if (method == 'delete') {\n      handleDel();\n    } else if (method == 'on') {\n      handleOn();\n    } else if (method == 'off') {\n      handleOff();\n    } else if (method == 'saveSort') {\n      handleSaveSort();\n    }\n    if (deptVisible.value == true) {\n      selectCode.value = (method == 'update' ? formState.value.orgKindId : parameter) == 'pos';\n      getOrgTypeList({\n        orgKindId: method == 'update' ? formState.value.orgKindId : parameter,\n      }).then((rsp) => {\n        orgTypeList.value = [];\n        rsp.result.forEach((e) => {\n          orgTypeList.value.push({\n            value: e.id,\n            code: e.code,\n            label: e.name,\n          });\n        });\n      });\n    }\n    //执行对应方法\n    switch (method) {\n      case 'assign':\n        assignQueryParam.value = '';\n        assignVisible.value = true;\n        break;\n      case 'setMainPos':\n        if (!selectedRow || !selectedRow.personId) {\n          message.info('请选择人员。');\n          return;\n        }\n        mainPosVisible.value = true;\n        break;\n      case 'reset':\n        handleReset();\n\n      default:\n        break;\n    }\n  };\n\n  const cancelOrgan = () => {\n    deptVisible.value = false;\n  };\n\n  const assignQueryParam = ref('');\n  const [\n    assignTable,\n    {\n      getSelectRows: agetSelectRows,\n      clearSelectedRowKeys: aclearSelectedRowKeys,\n      getPaginationRef: agetPage,\n    },\n  ] = useTable({\n    api: async () => {\n      const paginationRef = agetPage() as any;\n\n      let rsp = await getOrgPage({\n        orgKindIdList: ['psm'],\n        name: assignQueryParam.value,\n        pageNo: paginationRef.current,\n        pageSize: paginationRef.pageSize,\n      });\n      return rsp.result;\n    },\n    columns: [\n      { title: '姓名', dataIndex: 'name', width: 100 },\n      { title: '全路径', dataIndex: 'fullName' },\n    ],\n    pagination: true,\n    bordered: true,\n    rowKey: 'id',\n    rowSelection: {\n      type: 'checkbox',\n      fixed: true,\n    },\n    formConfig: {\n      schemas: [{ field: 'name', component: 'Input', label: '姓名：', required: false }],\n    },\n    useSearchForm: true,\n    handleSearchInfoFn(info) {\n      assignQueryParam.value = info.name;\n    },\n  });\n  const [\n    mainPosTable,\n    { getSelectRows: mgetSelectRows, clearSelectedRowKeys: mclearSelectedRowKeys },\n  ] = useTable({\n    title: '人员列表',\n    api: async () => {\n      let rsp = await getOrgPage({ orgKindIdList: ['psm'], personId: selectedRow.personId });\n      return rsp.result;\n    },\n    columns: [\n      { title: '姓名', dataIndex: 'name', width: 100 },\n      { title: '全路径', dataIndex: 'fullName' },\n    ],\n    pagination: true,\n    bordered: true,\n    rowKey: 'id',\n    rowSelection: {\n      type: 'radio',\n      fixed: true,\n    },\n    formConfig: {\n      schemas: [{ field: 'name', component: 'Input', label: '姓名：', required: false }],\n    },\n    useSearchForm: true,\n    handleSearchInfoFn(info) {\n      assignQueryParam.value = info.name;\n    },\n  });\n  const viewFlag = ref(false);\n  function handleReadOnlyView(record: any) {\n    viewFlag.value = true;\n    formState.value = record;\n    dialogTitle.value = '查看组织-' + organTypeMap[formState.value.orgKindId];\n    if (\n      formState.value.orgKindId == 'ogn' ||\n      formState.value.orgKindId == 'dpt' ||\n      formState.value.orgKindId == 'pos'\n    ) {\n      deptVisible.value = true;\n    } else if (formState.value.orgKindId == 'psm') {\n      selectTitle.value = '查看人员';\n      personVisible.value = true;\n      personFrom.personMemberId = formState.value.id;\n      personFrom.id = formState.value.personId;\n      getUser(personFrom.personMemberId).then((rsp) => {\n        Object.assign(personFrom, rsp.result);\n      });\n    }\n    if (deptVisible.value == true) {\n      selectCode.value = formState.value.orgKindId == 'pos';\n      getOrgTypeList({\n        orgKindId: formState.value.orgKindId,\n      }).then((rsp) => {\n        orgTypeList.value = [];\n        rsp.result.forEach((e) => {\n          orgTypeList.value.push({\n            value: e.id,\n            code: e.code,\n            label: e.name,\n          });\n        });\n      });\n    }\n  }\n\n  // 查询左侧电站树数据\n  async function queryOrgTreeList() {\n    let param = { showPosition: true, parentFullId: null };\n    let searchForm = getForm().getFieldsValue();\n    let showTypes = searchForm.showType;\n    if (showTypes?.length > 0) {\n      showTypes.forEach((item) => {\n        param[item] = 1;\n      });\n    }\n    // 树结构不显示下属组织\n    param.parentFullId = null;\n    const deptList = (await getTreeData(param)) as any;\n    treeData.value = deptList.result;\n    // selectedNode.value = deptList.result[0];\n  }\n\n  // 左侧树菜单选中事件\n  async function handleSelect(node = [] as any) {\n    clearSelectedRowKeys();\n    selectedNode.value = node;\n    // 渲染按钮\n    loadButtons(node.orgKindId);\n\n    if (node.orgKindId === 'pos') {\n      personFrom.parentId = node.id;\n      personFrom.parentFullName = node.fullName;\n    } else {\n      personFrom.parentId = '';\n      personFrom.parentFullName = '';\n    }\n    // 根据选择的树节点信息重新加载表格数据\n    reload();\n  }\n\n  // 保存组织\n  function saveOrgan() {\n    console.log(formState);\n    organFormRef.value.validateFields().then(() => {\n      // TODO 新增数据\n      loadingFlag.value = true;\n      let parent = {\n        orgKindId: selectedNode.value.orgKindId,\n        id: selectedNode.value.id,\n        name: selectedNode.value.name,\n        code: selectedNode.value.code,\n        fullId: selectedNode.value.fullId,\n        fullName: selectedNode.value.fullName,\n        fullCode: selectedNode.value.fullCode,\n        fullSort: selectedNode.value.fullSort,\n        fullOrgKindId: selectedNode.value.fullOrgKindId,\n        orgCode: selectedNode.value.orgCode,\n        orgId: selectedNode.value.orgId,\n        orgName: selectedNode.value.orgName,\n        deptId: selectedNode.value.deptId,\n        deptName: selectedNode.value.deptName,\n        deptCode: selectedNode.value.deptCode,\n      };\n\n      // let parent = selectedNode.value;\n      // JSON.parse(JSON.stringify(parent));\n      // assign(parent, selectedNode.value);\n      // let pvalue = {};\n      // Object.keys(parent).map((key) => {\n      //   pvalue[key] = parent[key];\n      // });\n      formState.value.parent = parent;\n      if (saveMethod.value == 'add') {\n        formState.value.orgKindId = orgKindId.value;\n      }\n      insertOrgan(formState.value)\n        .then(() => {\n          message.success('保存成功');\n          reload();\n          queryOrgTreeList();\n          clearSelectedRowKeys();\n          //关闭弹窗\n          loadingFlag.value = false;\n          deptVisible.value = false;\n        })\n        .catch(() => {\n          loadingFlag.value = false;\n        });\n    });\n  }\n\n  // 删除\n  function handleDel() {\n    if (selectedRowId.value == '') {\n      SysMessage.getInstance().info('请选择一行数据.');\n      return;\n    }\n    createConfirm({\n      title: '提示',\n      iconType: 'warning',\n      content: '确定要删除选中记录？',\n      async onOk() {\n        deleteOgn(selectedRowId.value).then(() => {\n          message.success('已删除。');\n          reload();\n          queryOrgTreeList();\n        });\n      },\n    });\n  }\n  // 重置密码\n  function handleReset() {\n    if (selectedRowId.value == '') {\n      SysMessage.getInstance().info('请选择一行数据.');\n      return;\n    }\n    createConfirm({\n      title: '重置密码',\n      iconType: 'warning',\n      content: '确认重置密码？',\n      async onOk() {\n        resetUserPwd(selectedRow.personId, md5('123456')).then(() => {\n          message.success('已重置。');\n          reload();\n          queryOrgTreeList();\n        });\n      },\n    });\n  }\n  // 启用\n  function handleOn() {\n    if (selectedRowId.value == '') {\n      SysMessage.getInstance().info('请选择一行数据.');\n      return;\n    }\n    let param = { id: selectedRowId.value, status: 1 };\n    updateStatus(param).then(() => {\n      message.success('已启用。');\n      reload();\n      queryOrgTreeList();\n    });\n  }\n  // 禁用\n  function handleOff() {\n    if (selectedRowId.value == '') {\n      SysMessage.getInstance().info('请选择一行数据.');\n      return;\n    }\n    createConfirm({\n      title: '禁用',\n      iconType: 'warning',\n      content: '确认禁用此数据？',\n      async onOk() {\n        let param = { id: selectedRowId.value, status: 0 };\n        updateStatus(param).then(() => {\n          message.success('已禁用。');\n          reload();\n          queryOrgTreeList();\n        });\n      },\n    });\n  }\n  // 保存排序号\n  function handleSaveSort() {\n    let indexList = getDataSource().map((item) => {\n      return { id: item.id, sort: item.sort, fullSort: item.fullSort };\n    });\n    saveSort(indexList).then((data) => {\n      message.success('已保存');\n      reload();\n    });\n  }\n\n  const cancelPerson = () => {\n    personVisible.value = false;\n  };\n\n  //保存人员\n  const savePerson = () => {\n    let form = personFormRef.value;\n    form\n      ?.validateFields()\n      .then(() => {\n        insertOrgan({\n          id: personFrom.personMemberId,\n          orgKindId: 'psm',\n          parentId: personFrom.parentId,\n          parent: {\n            id: personFrom.parentId,\n            orgKindId: 'pos',\n          },\n          user: personFrom,\n        }).then(() => {\n          message.success('保存成功');\n          reload();\n          //关闭弹窗\n          loadingFlag.value = false;\n          personVisible.value = false;\n          clearSelectedRowKeys();\n        });\n      })\n      .catch((e) => {\n        console.log(e.errorFields);\n      });\n  };\n\n  //保存分配人员\n  const saveAssign = () => {\n    let rows = agetSelectRows();\n    if (rows.length === 0) {\n      message.info('请选择人员');\n      return;\n    }\n    let ids = new Set();\n    rows.forEach((e) => {\n      ids.add(e.personId);\n    });\n\n    saveAssi({\n      positionId: selectedNode.value.id,\n      personIds: Array.from(ids),\n    }).then((rsp) => {\n      if (rsp.result) {\n        assignVisible.value = false;\n        message.success('分配成功');\n        aclearSelectedRowKeys();\n        reload();\n      } else {\n        message.error(rsp.message);\n      }\n    });\n  };\n  //保存设置主岗\n  const saveMainPosition = () => {\n    let rows = mgetSelectRows();\n    if (rows.length === 0) {\n      message.info('请选择一行数据');\n      return;\n    }\n    let row = rows[0] as any;\n    saveMainPos({\n      id: row.personId,\n      mainOrgId: row.positionId,\n    }).then((rsp) => {\n      if (rsp.result) {\n        mainPosVisible.value = false;\n        message.success('设置成功');\n        mclearSelectedRowKeys();\n      } else {\n        message.error(rsp.message);\n      }\n    });\n  };\n\n  // 启动执行代码\n  onMounted(() => {\n    dialogMaskInit();\n    queryOrgTreeList();\n    // 初始化按钮\n    loadButtons('root');\n  });\n</script>\n<style lang=\"less\" scoped>\n  .dialog-loading {\n    position: absolute;\n    z-index: 1000 !important;\n    top: 45%;\n    left: 45%;\n  }\n\n  .dialog-mask {\n    position: absolute;\n    z-index: 1001 !important;\n    top: -1px;\n    width: 100%;\n    height: 100%;\n    opacity: 0.3;\n    background: #ccc;\n  }\n\n  :deep(.ant-input-number-input) {\n    text-align: center;\n  }\n\n  .left-tree-layout {\n    flex-shrink: 0;\n    width: 298px;\n    border-radius: 2px;\n  }\n\n  .right-table-layout {\n    width: calc(100% - 308px);\n  }\n\n  .fix-basic-table {\n    :deep(&.vben-basic-table .ant-table-wrapper) {\n      padding: 10px 16px 12px;\n    }\n\n    :deep(.table-settings) {\n      margin-right: 0;\n    }\n\n    :deep(.table-settings .anticon-setting) {\n      margin-right: 0;\n    }\n  }\n</style>\n"],"names":["getColumns","getOrgTypeList","params","defHttp","getTreeData","getOrgPage","insertOrgan","updateStatus","deleteOgn","id","saveSort","getUser","userSimpleList","saveMainPos","saveAssi","searchFormSchema","createConfirm","useMessage","currentButtons","ref","tableHeight","yValue","computed","selectedNode","deptVisible","personVisible","assignVisible","mainPosVisible","formState","personFrom","reactive","dialogTitle","organFormRef","personFormRef","selectedRowId","selectedRow","loadingFlag","userList","filterOption","input","option","handleFormToggle","flag","searchInfo","treeData","selectTitle","orgColumn","orgTypeList","saveMethod","orgKindId","selectCode","organTypeMap","loadButtons","nodeType","__async","preButton","buttons","allButton","getOrgPageByParam","clearSelectedRowKeys","searchForm","getForm","showTypes","reflushTreeFlag","item","queryOrgTreeList","paginationRef","getPaginationRef","registerTable","reload","getDataSource","useTable","onSelect","info","sortInfo","handleSelectChange","keys","rows","record","selected","getUserSimpleList","data","temp","element","selectOrg","value","handClick","method","parameter","curList","key","SysMessage","rsp","handleDel","handleOn","handleOff","handleSaveSort","e","assignQueryParam","message","handleReset","cancelOrgan","assignTable","agetSelectRows","aclearSelectedRowKeys","agetPage","mainPosTable","mgetSelectRows","mclearSelectedRowKeys","param","deptList","handleSelect","node","saveOrgan","parent","resetUserPwd","md5","indexList","cancelPerson","savePerson","form","saveAssign","ids","saveMainPosition","row","onMounted","dialogMaskInit"],"mappings":"g7CAyBO,SAASA,IAA4B,CACnC,MAAA,CACL,CACE,MAAO,KACP,UAAW,KACX,cAAe,EACjB,EACA,CACE,MAAO,KACP,UAAW,gBACX,UAAW,GACX,MAAO,EACT,EACA,CACE,MAAO,KACP,UAAW,OACX,OAAQ,GACR,UAAW,GACX,MAAO,GACT,EACA,CACE,MAAO,KACP,UAAW,OACX,MAAO,IACP,UAAW,SACX,UAAW,GACX,MAAO,MACT,EACA,CACE,MAAO,OACP,UAAW,gBACX,MAAO,IACP,UAAW,SACX,UAAW,GACX,MAAO,MACT,EACA,CACE,MAAO,KACP,UAAW,WACX,MAAO,IACP,UAAW,SACX,UAAW,GACX,MAAO,MACT,EACA,CACE,MAAO,MACP,UAAW,OACX,OAAQ,GACR,UAAW,GACX,MAAO,IACP,UAAW,SACX,MAAO,OACT,EACA,CACE,MAAO,KACP,UAAW,aACX,MAAO,GACP,UAAW,GACX,MAAO,QACT,EACA,CACE,MAAO,KACP,UAAW,cACX,MAAO,IACP,UAAW,GACX,UAAW,SACX,MAAO,MACT,EACA,CACE,MAAO,KACP,UAAW,WACX,MAAO,IACP,UAAW,GACX,UAAW,SACX,MAAO,MACT,EACA,CACE,MAAO,KACP,UAAW,eACX,MAAO,IACP,UAAW,GACX,UAAW,SACX,MAAO,MACT,EACA,CACE,MAAO,MACP,UAAW,mBACX,MAAO,IACP,UAAW,GACX,UAAW,SACX,MAAO,MACT,EACA,CACE,MAAO,SACP,UAAW,gBACX,UAAW,GACX,MAAO,GACP,MAAO,QACT,CAAA,CAEJ,CAUa,MAAAC,GAAkBC,IAC7BA,EAAO,OAAS,EACTC,EAAQ,IAAI,CAAE,IAAK,+BAAgB,OAAAD,CAAO,EAAG,CAAA,CAAE,GAG3CE,GAAeF,GAC1BC,EAAQ,KACN,CACE,IAAK,2BACL,OAAAD,CACF,EACA,CAAC,CACH,EAGWG,GAAcH,GACzBC,EAAQ,KACN,CACE,IAAK,mBACL,OAAAD,CACF,EACA,CAAC,CACH,EAYWI,GAAeJ,GAC1BC,EAAQ,KACN,CACE,IAAK,qBACL,OAAAD,CACF,EACA,CAAC,CACH,EAGWK,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"}