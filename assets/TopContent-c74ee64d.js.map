{"version":3,"file":"TopContent-c74ee64d.js","sources":["../../src/views/da/cockpit/composition/TopContent.vue"],"sourcesContent":["<template>\n  <div class=\"top-content\" :key=\"instanceKey\">\n    <div class=\"data-board-box-inner\">\n      <DataBoardItem\n        title=\"现场任务统计(项)\"\n        icon=\"task\"\n        :value=\"data.planNum != null ? data.planNum : ''\"\n        :tRatio=\"data.taskTb != null ? data.taskTb + '%' : ''\"\n        :hRatio=\"data.taskHb != null ? data.taskHb + '%' : ''\"\n        percentPosition=\"right\"\n      />\n      <DataBoardItem\n        title=\"调度持证率(%)\"\n        icon=\"ddzRate\"\n        :value=\"data.ddzRate != null ? data.ddzRate : ''\"\n        @clickValue=\"toBiReport('ddzRate')\"\n      />\n      <DataBoardItem\n        title=\"培训统计(次)\"\n        icon=\"trainingTotal\"\n        :value=\"data.trainingTotal != null ? data.trainingTotal : ''\"\n        :tRatio=\"data.trainingTb != null ? data.trainingTb + '%' : ''\"\n        :hRatio=\"data.trainingHb != null ? data.trainingHb + '%' : ''\"\n        percentPosition=\"right\"\n        @clickValue=\"toBiReport('trainingTotal')\"\n      />\n      <DataBoardItem\n        title=\"车辆统计(辆)\"\n        icon=\"vehicleCount\"\n        :value=\"data.vehicleCount != null ? data.vehicleCount : ''\"\n        @clickValue=\"toBiReport('vehicleCount')\"\n      />\n      <DataBoardItem\n        title=\"考核评价(分)\"\n        icon=\"eval\"\n        :value=\"data.eval != null ? data.eval : ''\"\n        :tRatio=\"data.evalTb != null ? data.evalTb + '%' : ''\"\n        :hRatio=\"data.evalHb != null ? data.evalHb + '%' : ''\"\n        percentPosition=\"right\"\n        @clickValue=\"toBiReport('evalResulSubtitle')\"\n      />\n      <DataBoardItem\n        title=\"合同统计(份)\"\n        icon=\"contractTotal\"\n        :value=\"data.contractTotal != null ? data.contractTotal : ''\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import { reactive, UnwrapRef, ref, onMounted, watch } from 'vue';\n  import DataBoardItem from '/@/components/Framework/Chart/DataBoardItem.vue';\n  import { handleRouteChange } from '../../utils';\n  import { buildUUID } from '@/utils/uuid';\n  import { assign } from 'lodash-es';\n\n  const props = defineProps({\n    data: { type: Object, default: {} },\n  });\n  const instanceKey = ref(buildUUID());\n\n  //=============================== 数据穿透=============================================\n  const toBiReport = async (type: string) => {\n    if (type === 'taskSubtitle') {\n      //任务统计\n      // handleRouteChange('/bi/hidden/index', {});\n    } else if (type === 'ddzRate') {\n      //持证率\n      handleRouteChange('/bi/integrated/personnelQualifications', {});\n    } else if (type === 'evalResulSubtitle') {\n      //评价\n      handleRouteChange('/po/integrated/assessmentevaluation/report', {});\n    } else if (type === 'vehicleCount') {\n      //车辆\n      handleRouteChange('/bi/integrated/vehicle', {});\n    } else if (type === 'trainingTotal') {\n      //培训指标\n      handleRouteChange('/bi/integrated/trainingStatistics', {});\n    }\n  };\n\n  // 更新组件函数\n  const handleUpdate = () => {\n    instanceKey.value = buildUUID();\n  };\n\n  defineExpose({\n    handleUpdate,\n  });\n</script>\n\n<style lang=\"less\" scoped>\n  .top-content {\n    flex: 11.32%;\n    height: 11.32%;\n\n    .data-board-box-inner {\n      display: flex;\n      justify-content: space-between;\n      height: 100%;\n\n      :deep(.data-board-item) {\n        width: 15.73vw;\n        height: 100%;\n        padding-left: 0.2rem;\n\n        .title-box {\n          .icon-box {\n            margin-right: 0.16rem;\n          }\n\n          .title-text {\n            margin-bottom: 0.05rem;\n          }\n        }\n\n        .percent-data-box {\n          margin-top: 0.05rem;\n        }\n      }\n    }\n  }\n</style>\n"],"names":["instanceKey","ref","buildUUID","toBiReport","type","__async","handleRouteChange","__expose"],"mappings":"ukBA4DQ,MAAAA,EAAcC,EAAIC,EAAA,CAAW,EAG7BC,EAAoBC,GAAiBC,EAAA,sBACrCD,IAAS,iBAGFA,IAAS,UAEAE,EAAA,yCAA0C,CAAA,CAAE,EACrDF,IAAS,oBAEAE,EAAA,6CAA8C,CAAA,CAAE,EACzDF,IAAS,eAEAE,EAAA,yBAA0B,CAAA,CAAE,EACrCF,IAAS,iBAEAE,EAAA,oCAAqC,CAAA,CAAE,EAC3D,GAQW,OAAAC,EAAA,CACX,aALmB,IAAM,CACzBP,EAAY,MAAQE,GAAU,CAI9B,CACD"}