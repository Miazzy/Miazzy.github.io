var f=(o,l,i)=>new Promise((v,d)=>{var y=n=>{try{r(i.next(n))}catch(p){d(p)}},g=n=>{try{r(i.throw(n))}catch(p){d(p)}},r=n=>n.done?v(n.value):Promise.resolve(n.value).then(y,g);r((i=i.apply(o,l)).next())});import{a5 as M,ax as m,aO as w,_ as S}from"./index.js";import{d as z,k as x,o as P,al as k,Z as u,a9 as B,aa as _,$ as a,f as N,_ as h,F as I,ae as D,a5 as H,ad as c,aG as K,aH as $}from"./vue-71d1abb3.js";import"./antd-15ac76ed.js";function q(o){return M.get({url:"/po/workbench/notice-and-announcement-page",params:o},{isOnlyResult:!0})}function E(o){return M.get({url:"/po/workbench/information-page",params:o},{isOnlyResult:!0})}const Y=o=>(K("data-v-dad4f9e0"),o=o(),$(),o),L={class:"card-content"},O={class:"notice-list-box"},j=["onClick"],F=Y(()=>a("span",{class:"item-dot"},null,-1)),V={class:"dept-text"},G={class:"person-text"},U={class:"time-text"},Z={class:"notice-list-box"},J=["onClick"],Q=Y(()=>a("span",{class:"item-dot"},null,-1)),W={class:"title-text"},X={class:"dept-text"},ee={class:"person-text"},te={class:"time-text"},se=z({__name:"Notice",setup(o){const l=x([]),i=x([]),v=()=>{d.value=="1"?m("/oa/info/query/index","信息查询"):m("/oa/info/informationquery/index","资讯查询")},d=x("1"),y=t=>{t==="1"?n():t==="2"&&p()},g=t=>{var e={bizId:t.id,module:t.businessType};m("/oa/info/officedoc/view","通知公告详情",e),t.isRead=1},r=t=>{if(t.source==="1")window.open(t.url);else{var e={bizId:t.id};m("/oa/info/informationquery/view","资讯详情",e)}},n=()=>f(this,null,function*(){const t=yield q({pageNo:1,pageSize:6});t&&(l.value.splice(0,l.value.length),t.list.forEach(e=>{l.value.push({id:e.id,title:e.subject,dept:e.deptName,person:e.personMemberName,time:w(e.finishedDate,"YYYY-MM-DD HH:mm"),isRead:e.isRead,businessType:e.businessType})}))}),p=()=>f(this,null,function*(){const t=yield E({pageNo:1,pageSize:6});t&&(i.value.splice(0,i.value.length),t.list.forEach(e=>{i.value.push({id:e.id,title:e.subject,type:e.typeText,source:e.source,url:e.url,person:e.personMemberName,time:w(e.finishedDate,"YYYY-MM-DD")})}))});return P(()=>f(this,null,function*(){n()})),(t,e)=>{const C=k("a-tab-pane"),R=k("a-tabs"),T=k("a-card");return u(),B(T,{title:"信息公告",bordered:!1},{extra:_(()=>[a("span",{onClick:v},"更多 >")]),default:_(()=>[a("div",L,[N(R,{activeKey:d.value,"onUpdate:activeKey":e[0]||(e[0]=s=>d.value=s),onChange:y},{default:_(()=>[N(C,{key:"1",tab:"通知公告"},{default:_(()=>[a("ul",O,[(u(!0),h(I,null,D(l.value,(s,b)=>(u(),h("li",{class:"notice-item",onClick:A=>g(s),key:b},[F,a("span",{class:H(["title-text",{isRead:s.isRead}])},c(s.title),3),a("span",V,c(s.dept),1),a("span",G,c(s.person),1),a("span",U,c(s.time),1)],8,j))),128))])]),_:1}),N(C,{key:"2",tab:"资讯","force-render":""},{default:_(()=>[a("ul",Z,[(u(!0),h(I,null,D(i.value,(s,b)=>(u(),h("li",{class:"notice-item",onClick:A=>r(s),key:b},[Q,a("span",W,c(s.title),1),a("span",X,c(s.type),1),a("span",ee,c(s.person),1),a("span",te,c(s.time),1)],8,J))),128))])]),_:1})]),_:1},8,["activeKey"])])]),_:1})}}});const ce=S(se,[["__scopeId","data-v-dad4f9e0"]]);export{ce as default};
//# sourceMappingURL=Notice-42c44460.js.map
