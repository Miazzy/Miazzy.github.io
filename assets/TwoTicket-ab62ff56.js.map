{"version":3,"file":"TwoTicket-ab62ff56.js","sources":["../../src/views/da/groupOperation/operation/TwoTicket.vue"],"sourcesContent":["<template>\n  <div class=\"two-ticket\">\n    <SmallModule title=\"两票统计\">\n      <template #content>\n        <div class=\"content-layout\">\n          <div class=\"data-layout\">\n            <DataIndicator label=\"处理中\" @click=\"toBiReport('total')\" :value=\"indexData.total\" />\n            <DataIndicator\n              label=\"今日新增\"\n              @click=\"toBiReport('dayCreate')\"\n              :value=\"indexData.dayCreate\"\n            />\n            <DataIndicator\n              label=\"今日完成\"\n              @click=\"toBiReport('dayComp')\"\n              :value=\"indexData.dayComp\"\n            />\n          </div>\n          <div class=\"chart-layout\">\n            <!-- <DonutChart\n              class=\"chart\"\n              :data=\"donutData\"\n              width=\"300\"\n              height=\"100%\"\n              radius=\"100\"\n              :showTotal=\"false\"\n            /> -->\n            <EchartPieChart\n              id=\"ticket-stat-pie\"\n              :width=\"`22.4vw`\"\n              :height=\"tabStatus === 'on' ? `33.08vh` : `19.53vh`\"\n              :data=\"donutData.pieData\"\n              :roseType=\"false\"\n              showLabel\n              :legendOptions=\"{ top: '90%', bottom: 'auto', left: 'center' }\"\n              :radius=\"['50%', '70%']\"\n              :pieCenter=\"['50%', '55%']\"\n            />\n          </div>\n        </div>\n      </template>\n    </SmallModule>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import SmallModule from '/@/components/Framework/OperationScreen/SmallModule.vue';\n  import DataIndicator from '/@/components/Framework/OperationScreen/DataIndicator.vue';\n  // import DonutChart from '/@/components/Framework/Chart/DonutChart.vue';\n  import { reactive, UnwrapRef, ref, onMounted } from 'vue';\n  import { assign } from 'lodash-es';\n  import { getTicketcData } from './data';\n  // import { addTabPage } from '@/utils/route';\n  import EchartPieChart from '/@/components/Framework/Chart/EchartPieChart.vue';\n\n  const indexData: UnwrapRef<any> = reactive({});\n\n  onMounted(() => {\n    queryTicketcData();\n  });\n\n  const donutData = ref({ pieData: [] });\n\n  const queryTicketcData = async () => {\n    let data = await getTicketcData();\n    if (data.result) {\n      assign(indexData, data.result);\n      // let pieData = [];\n      // data.result.forEach((item) => {\n      //   item.name = item.label;\n      //   pieData.push(item);\n      // });\n      donutData.value.pieData = data.result.pieData;\n    }\n  };\n\n  // 穿透方法\n  const toBiReport = async (type: string) => {\n    // 参数处理\n    // let param = {};\n    // let url = '/bi/elec/lossDetail';\n    // addTabPage(url, '', param);\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .content-layout {\n    height: 100%;\n\n    .data-layout {\n      display: flex;\n      align-items: flex-end;\n      justify-content: space-between;\n      height: 23.95%;\n      margin-top: -0.15rem;\n      padding: 0 0.87rem;\n    }\n\n    .chart-layout {\n      width: 100%;\n      height: 76.05%;\n      padding-left: 0.52rem;\n\n      :deep(.indicator-group) {\n        flex-direction: column;\n      }\n    }\n  }\n</style>\n"],"names":["indexData","reactive","onMounted","queryTicketcData","donutData","ref","__async","data","getTicketcData","assign","toBiReport","type"],"mappings":"00BAuDQ,MAAAA,EAA4BC,EAAS,CAAA,CAAE,EAE7CC,EAAU,IAAM,CACGC,GAAA,CAClB,EAED,MAAMC,EAAYC,EAAI,CAAE,QAAS,CAAA,CAAI,CAAA,EAE/BF,EAAmB,IAAYG,EAAA,sBAC/B,IAAAC,EAAO,MAAMC,IACbD,EAAK,SACAE,EAAAT,EAAWO,EAAK,MAAM,EAMnBH,EAAA,MAAM,QAAUG,EAAK,OAAO,QACxC,GAIIG,EAAoBC,GAAiBL,EAAA,sBAAA"}