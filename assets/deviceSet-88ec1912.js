var E=(B,G,P)=>new Promise((X,x)=>{var r=g=>{try{M(P.next(g))}catch(_){x(_)}},Z=g=>{try{M(P.throw(g))}catch(_){x(_)}},M=g=>g.done?X(g.value):Promise.resolve(g.value).then(r,Z);M((P=P.apply(B,G)).next())});import{d as Ze,k as c,e as Ne,r as j,o as et,al as S,Z as d,a9 as q,aa as l,f as e,$ as f,E as y,u as H,ad as U,v as h,_ as p,F as $,ac as T,A as b,aG as tt,aH as at}from"./vue-71d1abb3.js";import{P as lt}from"./index-20519caf.js";import{b as nt}from"./index-316f6ffb.js";import{d as ot,i as fe,g as it,a as st,e as dt,b as ut,c as rt,u as vt,f as pt,h as mt}from"./deviceDetail-833b5fc8.js";import{_ as ct}from"./DictSelectBox.vue_vue_type_script_setup_true_lang-e03e9fe8.js";import{C as ft}from"./CommonTree-c4ed7838.js";import{b as gt,aj as yt,au as _t,b2 as Fe,av as ge,_ as ht}from"./index.js";import{D as ye}from"./Dialog-0a006d82.js";import{e as bt}from"./download-03e71dd5.js";import{a2 as D,P as xt}from"./antd-15ac76ed.js";import"./useContentViewHeight-7f845167.js";import"./useWindowSizeFn-13b1b8a2.js";import"./index-3801a970.js";const z=B=>(tt("data-v-48fba183"),B=B(),at(),B),Ct={class:"right-table-layout"},It={class:"tab-button-div"},wt={class:"tab-table-div"},kt={class:"form-subtitle-box"},St=z(()=>f("div",{class:"title-left"},[f("span",null,"设备列表")],-1)),Tt={class:"title-right"},Et={key:0},Ut={key:1},Nt={key:2},Ft={key:3},Dt={key:0},zt=z(()=>f("a",null,"取消",-1)),Mt={key:1},At=["onClick"],Rt=["onClick"],qt={key:0},Pt={key:1},Kt={key:2},Lt={key:3},$t={key:0},Ot=z(()=>f("a",null,"取消",-1)),Vt={key:1},Ht=["onClick"],Bt={key:0},Wt={key:1},Qt={key:2},Jt={key:0},Yt=z(()=>f("a",null,"取消",-1)),jt={key:1},Gt=["onClick"],Xt={class:"dialog-loading"},Zt=z(()=>f("span",{style:{display:"inline-block",height:"32px","margin-bottom":"24px","line-height":"32px"}},"-",-1)),ea=z(()=>f("span",{style:{display:"inline-block",height:"32px","margin-bottom":"24px","line-height":"32px"}},"-",-1)),ta=z(()=>f("span",{style:{display:"inline-block",height:"32px","margin-bottom":"24px","line-height":"32px"}},"-",-1)),aa=z(()=>f("span",{style:{display:"inline-block",height:"32px","margin-bottom":"24px","line-height":"32px"}},"-",-1)),la=z(()=>f("span",{style:{display:"inline-block",height:"32px","margin-bottom":"24px","line-height":"32px"}},"-",-1)),na=z(()=>f("span",{style:{display:"inline-block",height:"32px","margin-bottom":"24px","line-height":"32px"}},"-",-1)),oa={key:0,class:"dialog-mask"},ia=Ze({__name:"deviceSet",setup(B){var Se,Te,Ee,Ue;const{t:G}=gt(),{params:P}=yt(),{createConfirm:X}=_t(),x=c(!1);Ne(()=>document.documentElement.clientHeight-222);const r=j({}),Z=c([]),M=c([]),g=c([]),_=j({stationId:"",category:"",deviceType:"",nodeType:"",nodeId:"",nodeName:""}),W=c(!1),Q=c(!1),J=c(!1),_e=c(!1),he=c(null),De=c(""),ee=c(""),be=c();nt();const N=j({}),O=c([]),n=j({deviceType:"",deviceTypeName:"",stationId:"",areaStart:"",areaEnd:"",codeStart:"",codeEnd:"",deviceStart:"",deviceEnd:"",modelCode:"",maxPvstringNums:"",strInfomStart:"",strInfomEnd:"",pvModuleType:"",pvModuleModel:"",moduleNum:"",pvModuleCapacity:"",modalType:""}),V=c(),le=c(),ne=c(),oe=c(),xe=c([]),te=c([]),K=c("inverter"),Ce=c([{title:"区域名称",dataIndex:"areaId",width:100,editRow:!0,editComponent:"Select",sorter:!0,showSorterTooltip:!1,align:"center",resizable:!0,editComponentProps:{options:M,labelField:"label",valueField:"value"}},{title:"设备编码",dataIndex:"esn",sorter:!0,showSorterTooltip:!1,resizable:!0,align:"center",width:160},{title:"设备名称",dataIndex:"name",sorter:!0,showSorterTooltip:!1,resizable:!0,align:"center",width:100,editRow:!0},{title:"设备型号",dataIndex:"modelCode",editRow:!0,editComponent:"Select",sorter:!0,showSorterTooltip:!1,resizable:!0,editComponentProps:{options:g,labelField:"label",valueField:"value"},width:260,customHeaderCell:()=>({style:{textAlign:"center"}}),customCell:(o,t,v)=>({style:{textAlign:"left"}})},{title:"PV容量(kW)",dataIndex:"pvTotal",sorter:!0,showSorterTooltip:!1,resizable:!0,customHeaderCell:()=>({style:{textAlign:"center"}}),customCell:(o,t,v)=>({style:{textAlign:"right"}}),width:120},{title:"最大接入组串数",dataIndex:"maxPvstringNums",sorter:!0,showSorterTooltip:!1,resizable:!0,customHeaderCell:()=>({style:{textAlign:"center"}}),customCell:(o,t,v)=>({style:{textAlign:"right"}}),width:140},{title:"实际接入数",dataIndex:"actualPvstringNums",sorter:!0,showSorterTooltip:!1,resizable:!0,customHeaderCell:()=>({style:{textAlign:"center"}}),customCell:(o,t,v)=>({style:{textAlign:"right"}}),width:100},{title:"接入端口",dataIndex:"actualPort",customHeaderCell:()=>({style:{textAlign:"center"}}),customCell:(o,t,v)=>({style:{textAlign:"left"}})},{title:"操作",dataIndex:"operation",align:"center",resizable:!0}]),Ie=[{title:"区域名称",dataIndex:"areaId",width:120,editRow:!0,align:"center",editComponent:"Select",sorter:!0,showSorterTooltip:!1,resizable:!0,editComponentProps:{options:M,labelField:"label",valueField:"value"}},{title:"设备编码",dataIndex:"esn",sorter:!0,showSorterTooltip:!1,width:200,align:"center",resizable:!0},{title:"设备名称",dataIndex:"name",sorter:!0,showSorterTooltip:!1,resizable:!0,editRow:!0,align:"center",width:200},{title:"设备型号",dataIndex:"modelCode",editRow:!0,sorter:!0,showSorterTooltip:!1,resizable:!0,editComponent:"Select",editComponentProps:{options:g,labelField:"label",valueField:"value"}},{title:"PV容量(kW)",dataIndex:"pvTotal",editComponent:"InputNumber",sorter:!0,showSorterTooltip:!1,resizable:!0,width:150,editRow:!0,align:"right",headAlign:"center"},{title:"操作",dataIndex:"operation",align:"center",resizable:!0,width:200}],we=[{title:"设备编码",dataIndex:"esn",align:"center",sorter:!0,showSorterTooltip:!1,resizable:!0},{title:"设备名称",dataIndex:"name",align:"center",sorter:!0,showSorterTooltip:!1,resizable:!0,editRow:!0,width:200},{title:"设备型号",dataIndex:"modelCode",sorter:!0,showSorterTooltip:!1,resizable:!0,editRow:!0,align:"left",headAlign:"center"},{title:"操作",dataIndex:"operation",align:"center",width:200,resizable:!0}],A=()=>E(this,null,function*(){var t;if(setTimeout(()=>{O.value=[]},100),((t=te.value)==null?void 0:t.length)==0)return;r.pageNo=N.pageNo,r.pageSize=N.pageSize,r.sortField=N.sortField,r.sortOrder=N.sortOrder;let o=yield mt(r);return V.value=o.result.list,ae.value.total=o.result.total,V}),ae=c({defaultPageSize:20,showTotal:o=>`共${o}条数据`,pageSizeOptions:["20","50","100","200"],total:0,position:["bottomRight"],showSizeChanger:(Te=(Se=Fe)==null?void 0:Se.table)==null?void 0:Te.showSizeChanger,showQuickJumper:(Ue=(Ee=Fe)==null?void 0:Ee.table)==null?void 0:Ue.showQuickJumper}),ie=(o,t,v)=>{N.pageNo=o.current,N.pageSize=o.pageSize,v.order?(N.sortField=v.field,N.sortOrder=v.order.replace("end","")):(N.sortField="",N.sortOrder=""),A()},se=o=>{O.value=o};function ze(){x.value=!1,A()}const Me=Ne(()=>O.value.length>0);function Ae(){n.modalType="unInverterModal",console.log(n),le.value.validateFields().then(()=>{x.value=!0,fe(n).then(()=>{D.success("创建成功"),A(),x.value=!1,Q.value=!1}).catch(()=>{x.value=!1})})}function Re(){Q.value=!1}function qe(){n.modalType="otherModal",console.log(n),ne.value.validateFields().then(()=>{x.value=!0,fe(n).then(()=>{D.success("创建成功"),A(),x.value=!1,W.value=!1}).catch(()=>{x.value=!1})})}function Pe(){W.value=!1}function Ke(){n.modalType="inverterModal",console.log(n),oe.value.validateFields().then(()=>{x.value=!0,fe(n).then(()=>{D.success("创建成功"),A(),x.value=!1,J.value=!1}).catch(()=>{x.value=!1})})}function Le(){J.value=!1}function $e(){return E(this,null,function*(){const o=yield it();Z.value=o.result})}function Oe(){if(_.nodeKindId!="type"){D.error("请选择设备类型。");return}if(g.value.length==0){D.error("请先添加设备型号。");return}ee.value="添加-"+_.name,_.category=="PvAreaDev"?_.deviceType=="StringFormation"||_.deviceType=="CombinerDc"?de("inverter"):de("unInverter"):de("other")}function de(o){var t,v,i;J.value=!1,W.value=!1,Q.value=!1,n.areaStart=null,n.codeStart=null,n.areaEnd=null,n.codeEnd=null,n.modelCode=null,o=="inverter"&&((t=oe.value)==null||t.resetFields(),n.strInfomEnd=null,n.maxPvstringNums=null,n.strInfomStart=null,n.strInfomEnd=null,n.pvModuleType=null,n.pvModuleModel=null,n.moduleNum=null,n.pvModuleCapacity=null,J.value=!0),o=="other"&&((v=ne.value)==null||v.resetFields(),W.value=!0),o=="unInverter"&&((i=le.value)==null||i.resetFields(),Q.value=!0)}function Ve(){X({title:"提示",iconType:"warning",content:"确定要删除选中记录？",onOk(){return E(this,null,function*(){st(O.value).then(()=>{D.success("已删除。"),A()})})}})}function He(){var o;if(((o=V.value)==null?void 0:o.length)>0){let t;X({title:"提示",iconType:"warning",content:"确定要导出所有记录？",onOk(){return E(this,null,function*(){r.fileName="设备数据.xls";let v={title:"区域名称",dataIndex:"areaName"};K.value=="inverter"?(r.excelList=Ce,r.excelList[0]=v):K.value=="unInverter"?(r.excelList=Ie,r.excelList[0]=v):r.excelList=we,yield dt(r).then(i=>{bt(i==null?void 0:i.data,r.fileName)}),r.fileName=null})}})}else{D.warning("无数据，不能导出");return}}function ke(o){return E(this,null,function*(){if(new Date().getTime(),o!=null&&(_.stationId=o.powerStationId,_.category=o.deviceCategory,_.deviceType=o.deviceType,_.nodeKindId=o.nodeKindId,_.id=o.id,_.name=o.name),o.nodeKindId=="type"){r.deviceCategory=o.deviceCategory,r.deviceType=o.deviceType,r.stationId=o.powerStationId,r.orgId=null,n.stationId=o.powerStationId,n.deviceType=o.deviceType;let t=[];t.push(o.id),te.value=t}o.deviceType!=null&&(yield Be(o.powerStationId),yield We(o.powerStationId,o.deviceType),new Date().getTime(),_.deviceType=="StringFormation"||_.deviceType=="CombinerDc"?K.value="inverter":_.deviceType=="Concentrate"?K.value="unInverter":K.value="other",A())})}const Be=o=>E(this,null,function*(){const v=yield ut({stationId:o});let i=[];v.result.forEach(I=>{i.push({label:I.name,value:I.id})}),M.value=i}),We=(o,t)=>E(this,null,function*(){const i=yield rt({stationId:o,deviceType:t});if(i.result.length==0){g.value=[];return}else{let I=[];i.result.forEach(R=>{I.push({label:R.name,value:R.code})}),g.value=I}});function Qe(){r.areaName=null,r.deviceEsn=null,r.deviceName=null}function Je(){A()}const u=j({});j({});function ue(o){u[o]=xt(V.value.filter(t=>o===t.id)[0])}function re(o,t){return E(this,null,function*(){var i,I;let v=o[t.id];D.loading({content:"正在保存...",duration:0,key:"saving"});try{vt(v).then(()=>{A()}),((i=t.onEdit)==null?void 0:i.call(t,!1,!0))&&(De.value="",(I=t.onEdit)==null||I.call(t,!1,!1)),D.success({content:"数据已保存",key:"saving"})}catch(R){D.error({content:"保存失败",key:"saving"})}delete o[t.id]})}function ve(o,t){delete u[t],o.id==""&&(modelInfoYcList.value=modelInfoYcList.value.filter(v=>v.key!==t))}function Ye(o){be.value.openModal(),he.value=o}const je=o=>E(this,null,function*(){let t=yield pt({esn:o});te.value=t.result.selectedKeys,xe.value=t.result.expandedKeys,ke(t.result.selectedNode)});return et(()=>E(this,null,function*(){yield $e(),P.deviceEsn!=null&&(r.deviceEsn=P.deviceEsn,je(P.deviceEsn))})),(o,t)=>{const v=S("a-input"),i=S("a-form-item"),I=S("a-button"),R=S("a-form"),L=S("a-select"),pe=S("a-typography-link"),me=S("a-popconfirm"),ce=S("a-table"),Ge=S("a-spin"),C=S("a-input-number"),Y=S("a-space"),w=S("a-col"),F=S("a-row"),Xe=S("a-divider");return d(),q(H(lt),{dense:"",contentFullHeight:"",fixedHeight:"",contentClass:"flex",style:{position:"relative"}},{default:l(()=>[e(ft,{title:"电站组织",onSelect:ke,value:Z.value,class:"left-tree-layout",canEdit:!1,canAdd:!1,canDelete:!1,isShowOperationBtns:!1,fieldNames:{key:"id",title:"name"},expandedKeys:xe.value,selectedKeys:te.value},null,8,["value","expandedKeys","selectedKeys"]),f("div",Ct,[f("div",It,[e(R,{model:r,name:"searchInfo",layout:"inline",autocomplete:"off"},{default:l(()=>[e(i,{label:"区域名称",name:"areaName",style:{width:"22%","margin-left":"60px"},colon:!1},{default:l(()=>[e(v,{value:r.areaName,"onUpdate:value":t[0]||(t[0]=a=>r.areaName=a)},null,8,["value"])]),_:1}),e(i,{label:"设备编码",name:"deviceEsn",style:{width:"22%","margin-left":"60px"},colon:!1},{default:l(()=>[e(v,{value:r.deviceEsn,"onUpdate:value":t[1]||(t[1]=a=>r.deviceEsn=a)},null,8,["value"])]),_:1}),e(i,{label:"设备名称",name:"deviceName",style:{width:"22%","margin-left":"60px"},colon:!1},{default:l(()=>[e(v,{value:r.deviceName,"onUpdate:value":t[2]||(t[2]=a=>r.deviceName=a)},null,8,["value"])]),_:1}),e(i,{class:"tab-button"},{default:l(()=>[e(I,{class:"tab-button",onClick:Qe},{default:l(()=>[y("重置")]),_:1}),e(I,{type:"primary",class:"tab-button",onClick:Je},{default:l(()=>[y("查询")]),_:1})]),_:1})]),_:1},8,["model"])]),f("div",wt,[f("div",kt,[St,f("div",Tt,[e(I,{class:"tab-button",type:"primary",preIcon:H(ge).ADD,onClick:Oe},{default:l(()=>[y(U(H(G)("common.action.create")),1)]),_:1},8,["preIcon"]),e(I,{disabled:!Me.value,class:"tab-button red-btn",preIcon:H(ge).DELETE,onClick:Ve},{default:l(()=>[y(U(H(G)("common.delText")),1)]),_:1},8,["disabled","preIcon"]),e(I,{class:"tab-button yellow-btn",preIcon:H(ge).EXPORT,onClick:He},{default:l(()=>[y(U(H(G)("common.action.export")),1)]),_:1},8,["preIcon"])])]),h(e(ce,{columns:Ce.value,"data-source":V.value,pagination:ae.value,onChange:ie,size:"small",bordered:"",rowKey:"id",scroll:{x:500,y:"calc(100vh - 233px)"},onResizeColumn:t[3]||(t[3]=(a,k)=>k.width=a),"row-selection":{selectedRowKeys:O.value,onChange:se}},{bodyCell:l(({column:a,text:k,record:s})=>[a.dataIndex==="areaId"?(d(),p("div",Et,[u[s.id]?(d(),q(L,{key:0,value:u[s.id][a.dataIndex],"onUpdate:value":m=>u[s.id][a.dataIndex]=m,style:{margin:"-5px 0"},options:M.value},null,8,["value","onUpdate:value","options"])):(d(),p($,{key:1},[y(U(s.areaName),1)],64))])):T("",!0),a.dataIndex==="modelCode"?(d(),p("div",Ut,[u[s.id]?(d(),q(L,{key:0,value:u[s.id][a.dataIndex],"onUpdate:value":m=>u[s.id][a.dataIndex]=m,style:{margin:"-5px 0"},options:g.value},null,8,["value","onUpdate:value","options"])):(d(),p($,{key:1},[y(U(k),1)],64))])):T("",!0),a.dataIndex==="name"?(d(),p("div",Nt,[u[s.id]?(d(),q(v,{key:0,value:u[s.id][a.dataIndex],"onUpdate:value":m=>u[s.id][a.dataIndex]=m,style:{margin:"-5px 0"}},null,8,["value","onUpdate:value"])):(d(),p($,{key:1},[y(U(k),1)],64))])):T("",!0),a.dataIndex==="operation"?(d(),p("div",Ft,[u[s.id]?(d(),p("span",Dt,[e(pe,{onClick:m=>re(u,s)},{default:l(()=>[y("保存 ")]),_:2},1032,["onClick"]),y("  "),e(me,{title:"确定取消?",onConfirm:m=>ve(s,s.id)},{default:l(()=>[zt]),_:2},1032,["onConfirm"])])):(d(),p("span",Mt,[f("a",{onClick:m=>ue(s.id)},"修改 ",8,At),y("  "),f("a",{onClick:m=>Ye(s)}," 组串详情",8,Rt)]))])):T("",!0)]),_:1},8,["columns","data-source","pagination","scroll","row-selection"]),[[b,K.value=="inverter"]]),h(e(ce,{columns:Ie,"data-source":V.value,pagination:ae.value,onChange:ie,size:"small",bordered:"",rowKey:"id",scroll:{x:500,y:"calc(100vh - 233px)"},onResizeColumn:t[4]||(t[4]=(a,k)=>k.width=a),"row-selection":{selectedRowKeys:O.value,onChange:se}},{bodyCell:l(({column:a,text:k,record:s})=>[a.dataIndex==="areaId"?(d(),p("div",qt,[u[s.id]?(d(),q(L,{key:0,value:u[s.id][a.dataIndex],"onUpdate:value":m=>u[s.id][a.dataIndex]=m,style:{margin:"-5px 0"},options:M.value},null,8,["value","onUpdate:value","options"])):(d(),p($,{key:1},[y(U(s.areaName),1)],64))])):T("",!0),a.dataIndex==="modelCode"?(d(),p("div",Pt,[u[s.id]?(d(),q(L,{key:0,value:u[s.id][a.dataIndex],"onUpdate:value":m=>u[s.id][a.dataIndex]=m,style:{margin:"-5px 0"},options:g.value},null,8,["value","onUpdate:value","options"])):(d(),p($,{key:1},[y(U(k),1)],64))])):T("",!0),["name","pvTotal"].includes(a.dataIndex)?(d(),p("div",Kt,[u[s.id]?(d(),q(v,{key:0,value:u[s.id][a.dataIndex],"onUpdate:value":m=>u[s.id][a.dataIndex]=m,style:{margin:"-5px 0"}},null,8,["value","onUpdate:value"])):(d(),p($,{key:1},[y(U(k),1)],64))])):T("",!0),a.dataIndex==="operation"?(d(),p("div",Lt,[u[s.id]?(d(),p("span",$t,[e(pe,{onClick:m=>re(u,s)},{default:l(()=>[y("保存 ")]),_:2},1032,["onClick"]),e(me,{title:"确定取消?",onConfirm:m=>ve(s,s.id)},{default:l(()=>[Ot]),_:2},1032,["onConfirm"])])):(d(),p("span",Vt,[f("a",{onClick:m=>ue(s.id)},"修改",8,Ht)]))])):T("",!0)]),_:1},8,["data-source","pagination","scroll","row-selection"]),[[b,K.value=="unInverter"]]),h(e(ce,{columns:we,"data-source":V.value,pagination:ae.value,onChange:ie,size:"small",bordered:"",rowKey:"id",scroll:{x:500,y:"calc(100vh - 233px)"},onResizeColumn:t[5]||(t[5]=(a,k)=>k.width=a),"row-selection":{selectedRowKeys:O.value,onChange:se}},{bodyCell:l(({column:a,text:k,record:s})=>[a.dataIndex==="modelCode"?(d(),p("div",Bt,[u[s.id]?(d(),q(L,{key:0,width:100,value:u[s.id][a.dataIndex],"onUpdate:value":m=>u[s.id][a.dataIndex]=m,style:{margin:"-5px 0"},options:g.value},null,8,["value","onUpdate:value","options"])):(d(),p($,{key:1},[y(U(k),1)],64))])):T("",!0),a.dataIndex==="name"?(d(),p("div",Wt,[u[s.id]?(d(),q(v,{key:0,value:u[s.id][a.dataIndex],"onUpdate:value":m=>u[s.id][a.dataIndex]=m,style:{margin:"-5px 0"}},null,8,["value","onUpdate:value"])):(d(),p($,{key:1},[y(U(k),1)],64))])):T("",!0),a.dataIndex==="operation"?(d(),p("div",Qt,[u[s.id]?(d(),p("span",Jt,[e(pe,{onClick:m=>re(u,s)},{default:l(()=>[y("保存 ")]),_:2},1032,["onClick"]),e(me,{title:"确定取消?",onConfirm:m=>ve(s,s.id)},{default:l(()=>[Yt]),_:2},1032,["onConfirm"])])):(d(),p("span",jt,[f("a",{onClick:m=>ue(s.id)},"修改",8,Gt)]))])):T("",!0)]),_:1},8,["data-source","pagination","scroll","row-selection"]),[[b,K.value=="other"]])])]),h(f("div",Xt,[e(Ge)],512),[[b,x.value]]),e(ye,{visible:Q.value,"onUpdate:visible":t[11]||(t[11]=a=>Q.value=a),smode:"normal",title:ee.value,width:800,height:300,onConfirm:Ae,onCancel:Re},{default:l(()=>[e(R,{ref_key:"unInverterFormRef",ref:le,model:n,name:"unInverterForm"},{default:l(()=>[e(F,{gutter:24},{default:l(()=>[h(e(w,{span:20},{default:l(()=>[e(i,{label:"区域范围",labelCol:{span:5},style:{"margin-bottom":"0"},required:""},{default:l(()=>[e(Y,null,{default:l(()=>[e(i,{name:"areaStart",rules:[{required:!0,message:"请选择区域范围"}]},{default:l(()=>[e(C,{value:n.areaStart,"onUpdate:value":t[6]||(t[6]=a=>n.areaStart=a),min:1,max:1e5},null,8,["value"])]),_:1}),Zt,e(i,{name:"areaEnd",rules:[{required:!0,message:"请选择区域范围"}]},{default:l(()=>[e(C,{value:n.areaEnd,"onUpdate:value":t[7]||(t[7]=a=>n.areaEnd=a),min:1,max:1e5},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},512),[[b,!0]])]),_:1}),e(F,{gutter:24},{default:l(()=>[h(e(w,{span:20},{default:l(()=>[e(i,{label:"编码范围",labelCol:{span:5},style:{"margin-bottom":"0"},required:""},{default:l(()=>[e(Y,null,{default:l(()=>[e(i,{name:"codeStart",rules:[{required:!0,message:"请选择编码范围"}]},{default:l(()=>[e(C,{value:n.codeStart,"onUpdate:value":t[8]||(t[8]=a=>n.codeStart=a),min:1,max:1e5},null,8,["value"])]),_:1}),ea,e(i,{name:"codeEnd",rules:[{required:!0,message:"请选择编码范围"}]},{default:l(()=>[e(C,{value:n.codeEnd,"onUpdate:value":t[9]||(t[9]=a=>n.codeEnd=a),min:1,max:1e5},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},512),[[b,!0]])]),_:1}),e(F,{gutter:24},{default:l(()=>[h(e(w,{span:20},{default:l(()=>[e(i,{label:"设备型号",name:"modelCode",labelCol:{span:5},rules:[{required:!0,message:"请选择设备型号"}]},{default:l(()=>[e(L,{value:n.modelCode,"onUpdate:value":t[10]||(t[10]=a=>n.modelCode=a),"allow-clear":"",style:{width:"100%"},placeholder:"请选择设备型号",options:g.value,onChange:o.handleChange},null,8,["value","options","onChange"])]),_:1})]),_:1},512),[[b,!0]])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"]),e(ye,{visible:W.value,"onUpdate:visible":t[15]||(t[15]=a=>W.value=a),smode:"normal",title:ee.value,width:800,height:400,onConfirm:qe,onCancel:Pe},{default:l(()=>[e(R,{ref_key:"otherFormRef",ref:ne,model:n,name:"otherForm"},{default:l(()=>[e(F,{gutter:24},{default:l(()=>[h(e(w,{span:20},{default:l(()=>[e(i,{label:"编码范围",labelCol:{span:5},style:{"margin-bottom":"0"},required:""},{default:l(()=>[e(Y,null,{default:l(()=>[e(i,{name:"codeStart",rules:[{required:!0,message:"请选择编码范围"}]},{default:l(()=>[e(C,{value:n.codeStart,"onUpdate:value":t[12]||(t[12]=a=>n.codeStart=a),min:1,max:1e5},null,8,["value"])]),_:1}),ta,e(i,{name:"codeEnd",rules:[{required:!0,message:"请选择编码范围"}]},{default:l(()=>[e(C,{value:n.codeEnd,"onUpdate:value":t[13]||(t[13]=a=>n.codeEnd=a),min:1,max:1e5},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},512),[[b,!0]])]),_:1}),e(F,{gutter:24},{default:l(()=>[h(e(w,{span:20},{default:l(()=>[e(i,{label:"设备型号",name:"modelCode",labelCol:{span:5},rules:[{required:!0,message:"请选择设备型号"}]},{default:l(()=>[e(L,{value:n.modelCode,"onUpdate:value":t[14]||(t[14]=a=>n.modelCode=a),"allow-clear":"",style:{width:"100%"},placeholder:"请选择设备型号",options:g.value,onChange:o.handleChange},null,8,["value","options","onChange"])]),_:1})]),_:1},512),[[b,!0]])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"]),e(ye,{visible:J.value,"onUpdate:visible":t[28]||(t[28]=a=>J.value=a),smode:"normal",title:ee.value,width:800,height:600,onConfirm:Ke,onCancel:Le},{default:l(()=>[e(R,{ref_key:"inverterFormRef",ref:oe,model:n,name:"inverterForm"},{default:l(()=>[e(F,{gutter:24},{default:l(()=>[h(e(w,{span:22},{default:l(()=>[e(i,{label:"区域范围",labelAlign:"right",labelCol:{span:4},style:{"margin-bottom":"0"},required:""},{default:l(()=>[e(Y,null,{default:l(()=>[e(i,{name:"areaStart",rules:[{required:!0,message:"请选择区域范围"}]},{default:l(()=>[e(C,{value:n.areaStart,"onUpdate:value":t[16]||(t[16]=a=>n.areaStart=a),min:1,max:1e5},null,8,["value"])]),_:1}),aa,e(i,{name:"areaEnd",rules:[{required:!0,message:"请选择区域范围"}]},{default:l(()=>[e(C,{value:n.areaEnd,"onUpdate:value":t[17]||(t[17]=a=>n.areaEnd=a),min:1,max:1e5},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},512),[[b,!0]])]),_:1}),e(F,{gutter:24},{default:l(()=>[h(e(w,{span:22},{default:l(()=>[e(i,{label:"设备范围",labelAlign:"right",labelCol:{span:4},style:{"margin-bottom":"0"},required:""},{default:l(()=>[e(Y,null,{default:l(()=>[e(i,{name:"codeStart",rules:[{required:!0,message:"请选择设备范围"}]},{default:l(()=>[e(C,{value:n.codeStart,"onUpdate:value":t[18]||(t[18]=a=>n.codeStart=a),min:1,max:1e5},null,8,["value"])]),_:1}),la,e(i,{name:"codeEnd",rules:[{required:!0,message:"请选择设备范围"}]},{default:l(()=>[e(C,{value:n.codeEnd,"onUpdate:value":t[19]||(t[19]=a=>n.codeEnd=a),min:1,max:1e5},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},512),[[b,!0]])]),_:1}),e(F,{gutter:24},{default:l(()=>[h(e(w,{span:22},{default:l(()=>[e(i,{label:"设备型号",name:"modelCode",labelAlign:"right",labelCol:{span:4},rules:[{required:!0,message:"请选择设备型号"}]},{default:l(()=>[e(L,{value:n.modelCode,"onUpdate:value":t[20]||(t[20]=a=>n.modelCode=a),"allow-clear":"",style:{width:"100%"},placeholder:"请选择设备型号",options:g.value,onChange:o.handleChange},null,8,["value","options","onChange"])]),_:1})]),_:1},512),[[b,!0]])]),_:1}),e(F,{gutter:24},{default:l(()=>[h(e(w,{span:22},{default:l(()=>[e(i,{label:"最大接入组串",name:"maxPvstringNums",labelAlign:"right",labelCol:{span:4},rules:[{required:!0,message:"请输入数字"}]},{default:l(()=>[e(C,{value:n.maxPvstringNums,"onUpdate:value":t[21]||(t[21]=a=>n.maxPvstringNums=a)},null,8,["value"])]),_:1})]),_:1},512),[[b,!0]])]),_:1}),e(Xe,{orientation:"left","orientation-margin":"10px"},{default:l(()=>[y("组串配置")]),_:1}),e(F,null,{default:l(()=>[h(e(w,{span:22},{default:l(()=>[e(i,{label:"组串范围",labelAlign:"right",labelCol:{span:4},style:{"margin-bottom":"0"},required:""},{default:l(()=>[e(Y,null,{default:l(()=>[e(i,{name:"strInfomStart",rules:[{required:!0,message:"请输入组串范围"}]},{default:l(()=>[e(C,{value:n.strInfomStart,"onUpdate:value":t[22]||(t[22]=a=>n.strInfomStart=a),min:1,max:n.maxPvstringNums},null,8,["value","max"])]),_:1}),na,e(i,{name:"strInfomEnd",rules:[{required:!0,message:"请输入组串范围"}]},{default:l(()=>[e(C,{value:n.strInfomEnd,"onUpdate:value":t[23]||(t[23]=a=>n.strInfomEnd=a),min:1,max:n.maxPvstringNums},null,8,["value","max"])]),_:1})]),_:1})]),_:1})]),_:1},512),[[b,!0]]),h(e(w,{span:11},{default:l(()=>[e(i,{label:"组件类型",name:"pvModuleType",labelAlign:"right",labelCol:{span:8}},{default:l(()=>[e(ct,{style:{width:"100%"},value:n.pvModuleType,"onUpdate:value":t[24]||(t[24]=a=>n.pvModuleType=a),type:"pvModuleType"},null,8,["value"])]),_:1})]),_:1},512),[[b,!0]]),h(e(w,{span:11},{default:l(()=>[e(i,{label:"组件型号",name:"pvModuleModel",labelAlign:"right",labelCol:{span:8}},{default:l(()=>[e(v,{value:n.pvModuleModel,"onUpdate:value":t[25]||(t[25]=a=>n.pvModuleModel=a)},null,8,["value"])]),_:1})]),_:1},512),[[b,!0]]),h(e(w,{span:11},{default:l(()=>[e(i,{label:"组件数(块/串)",name:"moduleNum",labelAlign:"right",labelCol:{span:8},rules:[{required:!0,message:"请输入数字"}]},{default:l(()=>[e(C,{value:n.moduleNum,"onUpdate:value":t[26]||(t[26]=a=>n.moduleNum=a)},null,8,["value"])]),_:1})]),_:1},512),[[b,!0]]),h(e(w,{span:11},{default:l(()=>[e(i,{label:"组件功率(W)",name:"pvModuleCapacity",labelAlign:"right",labelCol:{span:8},rules:[{required:!0,message:"请输入数字"}]},{default:l(()=>[e(C,{value:n.pvModuleCapacity,"onUpdate:value":t[27]||(t[27]=a=>n.pvModuleCapacity=a)},null,8,["value"])]),_:1})]),_:1},512),[[b,!0]])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"]),e(ot,{ref_key:"deviceDetailRef",ref:be,visible:_e.value,"onUpdate:visible":t[29]||(t[29]=a=>_e.value=a),record:he.value,onCancelDetail:ze},null,8,["visible","record"]),x.value?(d(),p("div",oa)):T("",!0)]),_:1})}}});const xa=ht(ia,[["__scopeId","data-v-48fba183"]]);export{xa as default};
//# sourceMappingURL=deviceSet-88ec1912.js.map
