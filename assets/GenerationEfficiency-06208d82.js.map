{"version":3,"file":"GenerationEfficiency-06208d82.js","sources":["../../src/views/da/stationOperation/overview/GenerationEfficiency.vue"],"sourcesContent":["<template>\n  <div class=\"intelligent-device\">\n    <SmallModule title=\"发电效率(PR)\">\n      <template #titleRight>\n        <div class=\"right-title-layout\">\n          <a-radio-group\n            class=\"operation-screen-radio-group\"\n            v-model:value=\"searchInfo.dimension\"\n            size=\"small\"\n          >\n            <a-radio-button value=\"month\" @click=\"changeTab('month')\">月</a-radio-button>\n            <a-radio-button value=\"year\" @click=\"changeTab('year')\">年</a-radio-button>\n          </a-radio-group>\n        </div>\n      </template>\n      <template #content>\n        <div class=\"content-layout\">\n          <div style=\"transform: scale(0.85); transform-origin: 0 0\">\n            <EchartPillarChart\n              :data=\"pchartData\"\n              :width=\"`26.14vw`\"\n              :height=\"`28.06vh`\"\n              :name=\"pChartName\"\n              :dataZoomDefaultValueRange=\"pchartData.dataZoomDefaultValueRange\"\n              :dataZoomDisabled=\"false\"\n            />\n          </div>\n        </div>\n      </template>\n    </SmallModule>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import { reactive, UnwrapRef, onMounted, ref } from 'vue';\n  import SmallModule from '/@/components/Framework/OperationScreen/SmallModule.vue';\n  import EchartPillarChart from '/@/components/Framework/Chart/EchartPillarChart.vue';\n  import { getPowerEfficiency } from './data';\n  import { assign } from 'lodash-es';\n\n  const searchInfo: UnwrapRef<any> = reactive({});\n  interface Props {\n    overviewSearchInfo?: {};\n  }\n  const props = withDefaults(defineProps<Props>(), {});\n  const pchartData = ref({\n    barData: [],\n    categories: [],\n    units: ['%', '%', '%'],\n    colors: [['#16CFFE', '#08FFF6']],\n    dataZoomDefaultValueRange: [0, 9],\n  });\n\n  const pChartName = ['效率'];\n\n  const changeTab = (value: string) => {\n    searchInfo.dimension = value;\n    queryPowerEfficiency();\n  };\n\n  const queryPowerEfficiency = async () => {\n    let data = await getPowerEfficiency(searchInfo);\n    if (data.result) {\n      if (searchInfo.dimension === 'month') {\n        pchartData.value.barData = data.result.monthMap.barData;\n        pchartData.value.categories = data.result.monthMap.categories;\n      } else {\n        pchartData.value.barData = data.result.yearMap.barData;\n        pchartData.value.categories = data.result.yearMap.categories;\n      }\n    }\n  };\n\n  onMounted(() => {\n    assign(searchInfo, props.overviewSearchInfo);\n    searchInfo.dimension = 'month';\n    queryPowerEfficiency(searchInfo);\n  });\n</script>\n\n<style lang=\"less\" scoped>\n  .right-title-layout {\n    padding-right: 0.16rem;\n  }\n\n  .content-layout {\n    padding: 0 0.16rem;\n  }\n</style>\n"],"names":["searchInfo","reactive","pchartData","ref","pChartName","changeTab","value","queryPowerEfficiency","__async","data","getPowerEfficiency","onMounted","assign","props"],"mappings":"82BAwCQA,EAA6BC,EAAS,CAAA,CAAE,EAKxCC,EAAaC,EAAI,CACrB,QAAS,CAAC,EACV,WAAY,CAAC,EACb,MAAO,CAAC,IAAK,IAAK,GAAG,EACrB,OAAQ,CAAC,CAAC,UAAW,SAAS,CAAC,EAC/B,0BAA2B,CAAC,EAAG,CAAC,CAAA,CACjC,EAEKC,EAAa,CAAC,IAAI,EAElBC,EAAaC,GAAkB,CACnCN,EAAW,UAAYM,EACFC,GAAA,EAGjBA,EAAuB,IAAYC,EAAA,sBACnC,IAAAC,EAAO,MAAMC,EAAmBV,CAAU,EAC1CS,EAAK,SACHT,EAAW,YAAc,SAC3BE,EAAW,MAAM,QAAUO,EAAK,OAAO,SAAS,QAChDP,EAAW,MAAM,WAAaO,EAAK,OAAO,SAAS,aAEnDP,EAAW,MAAM,QAAUO,EAAK,OAAO,QAAQ,QAC/CP,EAAW,MAAM,WAAaO,EAAK,OAAO,QAAQ,YAEtD,GAGF,OAAAE,EAAU,IAAM,CACPC,EAAAZ,EAAYa,EAAM,kBAAkB,EAC3Cb,EAAW,UAAY,QACvBO,EAA+B,CAAA,CAChC"}