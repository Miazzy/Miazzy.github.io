var U=(f,b,p)=>new Promise((_,v)=>{var y=t=>{try{l(p.next(t))}catch(c){v(c)}},h=t=>{try{l(p.throw(t))}catch(c){v(c)}},l=t=>t.done?_(t.value):Promise.resolve(t.value).then(y,h);l((p=p.apply(f,b)).next())});import"./WeatherDisplay-e68d53d5.js";import{H as B,F as T}from"./Footer-baf61bdf.js";import K from"./Overview-abff5e7c.js";import P from"./Monitor-501b490a.js";import V from"./Operation-a9e1ba7f.js";import z from"./Device-ae4cbf21.js";import{a5 as H,B as q,aa as A,ab as L,a7 as G,_ as Y}from"./index.js";import{d as Z,aD as $,k as i,ax as j,r as J,o as Q,al as x,Z as a,_ as u,$ as O,f as I,a9 as d,ac as s,aa as C,F as W,ae as X,E as tt}from"./vue-71d1abb3.js";import et from"./SatelliteMap-defcfefe.js";import"./antd-15ac76ed.js";import"./weatherIcon-14d6bf6f.js";import"./index-8c718dee.js";import"./StationIntroduction-1041619a.js";import"./SmallModule-04781cfc.js";import"./data-52a0c3e0.js";import"./assign-37f1c13d.js";import"./GenerationStatistics-a60253f7.js";import"./NumberDisplay-3816acea.js";import"./SocialContribution-c2ed18b4.js";import"./SocialContributionIndicator-209434d6.js";import"./MiddleIndicator-deb23c9c.js";import"./RealTimePower-0ff70282.js";import"./EchartLineBarChart.vue_vue_type_style_index_0_lang-90edad95.js";import"./index-d8a2358f.js";import"./install-58e0bd81.js";import"./NoData-1ab5cc7b.js";import"./GenerationEfficiency-06208d82.js";import"./EchartPillarChart-9aa5a33e.js";import"./GenerationTrend-695696aa.js";import"./DeviceStatistics-28b47df4.js";import"./DataIndicator-9c21ed00.js";import"./EchartPieChart.vue_vue_type_script_setup_true_lang-58fa16af.js";import"./data-b82bca3e.js";import"./GenerationRanking-36789146.js";import"./EnergyStorage-7602e027.js";import"./WarningOverview-448eb9b9.js";import"./DeviceNumberStatistics-1e905395.js";import"./RealTimeWarning-e6aae188.js";import"./DispersionRatio-cafeabb9.js";import"./Inspection-c0f673c5.js";import"./data-c58638ca.js";import"./HiddenDefect-94231840.js";import"./WorkOrder-ee069aed.js";import"./Loss-36307ffd.js";import"./EchartStackBarChart.vue_vue_type_style_index_0_lang-59d702ec.js";import"./TwoTicket-7914d1f0.js";import"./Security-3e0ced5f.js";import"./VideoMonitor-7dfc3af5.js";import"./DeviceStatusInfo3-c6f9bba6.js";import"./RealStatus-344d80cd.js";import"./index-0c1c0ee9.js";import"./RealStatusModal-01f4bc53.js";import"./MonitorVideoItem-196e081b.js";import"./TrackReplay-432cfa35.js";import"./TimeSlider-bdb1df9d.js";import"./HistoryVideo-cec157e4.js";import"./BasicTable-0434a334.js";import"./useForm-dea3ed18.js";import"./BasicForm.vue_vue_type_style_index_0_lang-1ba7be9e.js";import"./index-f4fc48e6.js";import"./index-316f6ffb.js";import"./useWindowSizeFn-13b1b8a2.js";import"./useTabs-2b062e85.js";import"./download-03e71dd5.js";import"./index-5d49b7a7.js";import"./SearchBox-22bb02d6.js";import"./UploadBox-636ecf02.js";import"./Dialog-0a006d82.js";import"./DictSelectBox.vue_vue_type_script_setup_true_lang-e03e9fe8.js";import"./OrganDialog-dd1023ce.js";import"./uniqBy-92d3bc7f.js";import"./index-085d06c7.js";import"./sortable.esm-4ae27e0b.js";import"./dict-c04c0dd8.js";import"./useTable-109483b3.js";import"./flvtools-b93f1fee.js";const ot=f=>H.get({url:"/da/station-operation/stationInfo",params:f},{}),at={class:"layout rem-layout"},rt={class:"dashboard"},it={key:0,class:"content"},nt={key:4,class:"bg-box"},st=["src"],M="OPERATION_SCREEN_STATION_UUID",pt=Z({__name:"StationOperation",setup(f){const b=$(),p=q(),_=i([]),v=j(),y=i(),h=i(),l=i(),t=i(),c=i("电站运营"),e=J({}),w=i(!1);i();const D=()=>U(this,null,function*(){let o=yield ot(e);if(o.result){w.value=!0,e.stationId=o.result.stationId;let g=yield A({bizId:o.result.bizFileId}),n=[];g.length>0&&(g.forEach(m=>{n.push(L(m.url))}),_.value=n)}}),r=i("1"),E=o=>{r.value=o.key,G.getInstance().sendMsg("smart-device-clear-overlays",null)},F=()=>{p({path:"/groupOperation"})},N=()=>{var n,m,k,S,R;const o=r.value;if(((n=v.currentRoute.value)==null?void 0:n.path)==="/stationoperation")switch(o){case"1":(m=y.value)==null||m.handleUpdate();break;case"2":(k=h.value)==null||k.handleUpdate();break;case"3":(S=l.value)==null||S.handleUpdate();break;case"4":(R=t.value)==null||R.handleUpdate();break}};return Q(()=>{e.statDimension="year";let o=new Date;e.year=o.getFullYear().toString(),e.stationUUId=b.query.id||localStorage.getItem(M)||"fc0f88bd7f909f2a50e2721f72315750",localStorage.setItem(M,e.stationUUId),D(),window.addEventListener("resize",N)}),(o,g)=>{const n=x("a-carousel"),m=x("a-button");return a(),u("div",at,[O("div",rt,[I(B,{class:"header-layout",title:c.value},null,8,["title"]),w.value?(a(),u("div",it,[r.value==="1"?(a(),d(K,{key:0,ref_key:"overviewRef",ref:y,searchStationInfo:e},null,8,["searchStationInfo"])):s("",!0),r.value==="2"?(a(),d(P,{key:1,ref_key:"monitorRef",ref:h,searchStationInfo:e},null,8,["searchStationInfo"])):s("",!0),r.value==="3"?(a(),d(V,{key:2,ref_key:"operationRef",ref:l,searchStationInfo:e},null,8,["searchStationInfo"])):s("",!0),r.value==="4"?(a(),d(z,{key:3,ref_key:"deviceRef",ref:t,searchStationInfo:e},null,8,["searchStationInfo"])):s("",!0),r.value!=="4"?(a(),u("div",nt,[I(n,{class:"img-carousel",autoplay:""},{default:C(()=>[(a(!0),u(W,null,X(_.value,(k,S)=>(a(),u("div",null,[O("img",{class:"bg-img",src:k,alt:""},null,8,st)]))),256))]),_:1})])):s("",!0),I(m,{class:"back-btn",type:"primary",onClick:F},{default:C(()=>[tt("返回")]),_:1}),r.value==="4"?(a(),d(et,{key:5})):s("",!0)])):s("",!0),I(T,{class:"footer-layout",selectedKey:r.value,onChange:E},null,8,["selectedKey"])])])}}});const Ee=Y(pt,[["__scopeId","data-v-d5fc563b"]]);export{Ee as default};
//# sourceMappingURL=StationOperation-176f29e5.js.map
