{"version":3,"file":"GroupOperation-dab4168b.js","sources":["../../src/views/da/groupOperation/GroupOperation.vue"],"sourcesContent":["<template>\n  <div class=\"layout rem-layout\">\n    <div class=\"dashboard\">\n      <Header class=\"header-layout\" :title=\"title\" />\n      <div class=\"content\">\n        <Overview ref=\"overviewRef\" v-if=\"selectedMenu === '1'\" />\n        <Monitor ref=\"monitorRef\" v-if=\"selectedMenu === '2'\" />\n        <Operation ref=\"operationRef\" v-if=\"selectedMenu === '3'\" />\n        <Device ref=\"deviceRef\" v-if=\"selectedMenu === '4'\" />\n\n        <!-- 地图 -->\n        <SatelliteMap ref=\"satelliteMapRef\" />\n      </div>\n      <Footer class=\"footer-layout\" :selectedKey=\"selectedMenu\" @change=\"handleMenuChange\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import '../rem.ts';\n  import { ref, onMounted } from 'vue';\n  import Header from '/@/components/Framework/OperationScreen/Header.vue';\n  import Footer from '/@/components/Framework/OperationScreen/Footer.vue';\n  import Overview from './overview/Overview.vue';\n  import Monitor from './monitor/Monitor.vue';\n  import Operation from './operation/Operation.vue';\n  import Device from './device/Device.vue';\n  import SatelliteMap from './SatelliteMap.vue';\n  import { MsgManager } from '/@/message/MsgManager';\n  import { useRouter } from 'vue-router';\n\n  const router = useRouter();\n  const title = ref('集团运营');\n  const deviceRef = ref();\n  const selectedMenu = ref('1');\n  const satelliteMapRef = ref();\n  const overviewRef = ref();\n  const monitorRef = ref();\n  const operationRef = ref();\n\n  const handleMenuChange = (item) => {\n    const originKey = selectedMenu.value;\n    selectedMenu.value = item.key;\n    MsgManager.getInstance().sendMsg('smart-device-reload-map', { type: item.key });\n    if (item.key === '4') {\n      // satelliteMapRef.value?.destory();\n    } else if (item.key !== '4' && originKey === '4') {\n      // satelliteMapRef.value?.destory();\n      // satelliteMapRef.value?.initMap();\n    }\n    if (item.key !== '4') {\n      deviceRef.value?.destory();\n    }\n  };\n\n  const handlePageUpdate = () => {\n    const originKey = selectedMenu.value;\n    const path = router.currentRoute.value?.path;\n    if (path === '/groupoperation') {\n      switch (originKey) {\n        case '1':\n          overviewRef.value?.handleUpdate();\n          break;\n        case '2':\n          monitorRef.value?.handleUpdate();\n          break;\n        case '3':\n          operationRef.value?.handleUpdate();\n          break;\n        case '4':\n          deviceRef.value?.handleUpdate();\n          break;\n      }\n    }\n  };\n\n  onMounted(async () => {\n    window.addEventListener('resize', handlePageUpdate);\n  });\n</script>\n\n<style lang=\"less\">\n  @import '../style/operationScreenCommon.less';\n</style>\n\n<style lang=\"less\" scoped>\n  .layout {\n    width: 100%;\n    height: 100%;\n\n    .dashboard {\n      position: relative;\n      width: 100%;\n      height: 100%;\n\n      .content {\n        position: relative;\n        width: 100%;\n        height: 100vh;\n\n        :deep(.left-content) {\n          z-index: 11;\n        }\n\n        :deep(.middle-content) {\n          z-index: 11;\n        }\n\n        :deep(.right-content) {\n          z-index: 11;\n        }\n      }\n\n      .header-layout {\n        position: absolute;\n        z-index: 11;\n        top: 0;\n        left: 0;\n      }\n\n      .footer-layout {\n        position: absolute;\n        z-index: 11;\n        bottom: 0;\n        left: 0;\n      }\n    }\n  }\n</style>\n"],"names":["router","useRouter","title","ref","deviceRef","selectedMenu","satelliteMapRef","overviewRef","monitorRef","operationRef","handleMenuChange","item","originKey","MsgManager","_a","handlePageUpdate","_b","_c","_d","_e","onMounted","__async"],"mappings":"0rGA+BE,MAAMA,EAASC,IACTC,EAAQC,EAAI,MAAM,EAClBC,EAAYD,IACZE,EAAeF,EAAI,GAAG,EACtBG,EAAkBH,IAClBI,EAAcJ,IACdK,EAAaL,IACbM,EAAeN,IAEfO,EAAoBC,GAAS,OACjC,MAAMC,EAAYP,EAAa,MAC/BA,EAAa,MAAQM,EAAK,IACfE,EAAA,cAAc,QAAQ,0BAA2B,CAAE,KAAMF,EAAK,IAAK,EAC1EA,EAAK,MAAQ,KAENA,EAAK,IAIZA,EAAK,MAAQ,OACfG,EAAAV,EAAU,QAAV,MAAAU,EAAiB,UACnB,EAGIC,EAAmB,IAAM,eAC7B,MAAMH,EAAYP,EAAa,MAE/B,KADaS,EAAAd,EAAO,aAAa,QAApB,YAAAc,EAA2B,QAC3B,kBACX,OAAQF,EAAW,CACjB,IAAK,KACHI,EAAAT,EAAY,QAAZ,MAAAS,EAAmB,eACnB,MACF,IAAK,KACHC,EAAAT,EAAW,QAAX,MAAAS,EAAkB,eAClB,MACF,IAAK,KACHC,EAAAT,EAAa,QAAb,MAAAS,EAAoB,eACpB,MACF,IAAK,KACHC,EAAAf,EAAU,QAAV,MAAAe,EAAiB,eACjB,KACJ,CACF,EAGF,OAAAC,EAAU,IAAYC,EAAA,sBACb,OAAA,iBAAiB,SAAUN,CAAgB,CAAA,EACnD"}