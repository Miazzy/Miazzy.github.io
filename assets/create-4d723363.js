var F=(z,M,N)=>new Promise((Q,q)=>{var V=U=>{try{j(N.next(U))}catch(k){q(k)}},A=U=>{try{j(N.throw(U))}catch(k){q(k)}},j=U=>U.done?Q(U.value):Promise.resolve(U.value).then(V,A);j((N=N.apply(z,M)).next())});import{d as _a,k as b,aD as Ia,r as H,w as Da,o as Sa,al as w,Z as C,a9 as Y,aa as t,$ as h,f as a,E as L,ad as le,u as I,ac as T,v as f,A as v,_ as ne,F as wa,ae as Ca,J as Na,aG as ka,aH as ha}from"./vue-71d1abb3.js";import{b as Ra,au as xa,a0 as Ta,ab as Ua,av as G,at as K,aD as se,aC as Ya,a7 as Ae,bY as Ea,_ as Fa}from"./index.js";import{U as be}from"./UploadBox-636ecf02.js";import{B as ce}from"./BasicTable-0434a334.js";import{T as Oe}from"./BasicForm.vue_vue_type_style_index_0_lang-1ba7be9e.js";import"./index-085d06c7.js";import{u as ge}from"./useTable-109483b3.js";import"./antd-15ac76ed.js";import{_ as Z}from"./DictSelectBox.vue_vue_type_script_setup_true_lang-e03e9fe8.js";import{_ as za}from"./UploadTable.vue_vue_type_script_setup_true_lang-5478923e.js";import{d as ye,R as g,f as _e,h as Ie,i as Ma,j as $e,k as De,l as qa,m as Aa,n as Pe,o as Oa}from"./drone.data-57a403d5.js";import{D as oe}from"./Dialog-0a006d82.js";import{h as Be}from"./moment-4717c495.js";import{a as D}from"./assign-37f1c13d.js";import"./useForm-dea3ed18.js";import"./uniqBy-92d3bc7f.js";import"./index-316f6ffb.js";import"./useWindowSizeFn-13b1b8a2.js";import"./index-f4fc48e6.js";import"./useTabs-2b062e85.js";import"./download-03e71dd5.js";import"./index-5d49b7a7.js";import"./SearchBox-22bb02d6.js";import"./OrganDialog-dd1023ce.js";import"./sortable.esm-4ae27e0b.js";import"./dict-c04c0dd8.js";const $a=z=>(ka("data-v-ea8677bc"),z=z(),ha(),z),Pa={class:"load"},Ba={class:"process-box"},Ha={class:"header-box"},La=$a(()=>h("div",{class:"header-left"},"无人机档案",-1)),Ga={class:"header-right"},Ka={class:"content"},Va={class:"img-carousel-box"},ja=["src"],Wa={id:"more-tab-content",class:"tab-table-div"},Ja=["onClick"],Za=["onClick"],Qa={class:"detail-upload-table"},Xa={style:{"text-align":"left"}},et={style:{"text-align":"left"}},at={style:{"text-align":"left"}},tt=_a({__name:"create",setup(z){const M=b([]),{t:N}=Ra(),Q=b(),q=b([]),{createMessage:V}=xa(),{query:A}=Ia(),j=b(!1),U=b(),k=b("1"),s=H({spinning:!1,status:1}),c=H({}),d=H({}),o=H({}),X=H({}),y=H({}),ee=b(""),S=b({}),Se=b([]),we=b(),Ce=b(),Ne=b(),u=b(!!A.isReadonly),W=b(!1),R=b(""),O=b(!1),$=b(!1),E=b(!1),ie=b(!1),ke=b(),he=b(),Re=b(),xe=b(),Te=b(),Ue=b(),Ye={bordered:!0,useSearchForm:!1,actionColumn:{width:140,title:N("common.operate"),dataIndex:"action",fixed:"right",ifShow:()=>!u.value},canResize:!1,pagination:!1,showTableSetting:!1,tableSetting:{fullScreen:!0}},ae=Ta().getUserInfo,He={bordered:!0,useSearchForm:!1,canResize:!1,pagination:!1,showTableSetting:!1,tableSetting:{fullScreen:!0},rowSelection:{type:"radio"}};function Ee(n,e){X.bizFileId=n,X.module=e,ie.value=!0}const Le=D({dataSource:we,columns:ye(g.INSURANCE),target:"#more-tab-content",targetTabKey:"1",targetTabValue:k},Ye),[Ge,{getDataSource:Ke}]=ge(Le),Ve=D({dataSource:Ce,columns:ye(g.DANGER),target:"#more-tab-content",targetTabKey:"2",targetTabValue:k},Ye),[je,{getDataSource:We}]=ge(Ve),Je=D({dataSource:Ne,columns:ye(g.SECOND),target:"#more-tab-content",targetTabKey:"3",targetTabValue:k},He),[Ze,{getDataSource:Qe,getSelectRows:Fe}]=ge(Je);function Xe(n,e){n.length==0?(s.stationId=void 0,s.stationName=void 0):(s.stationId=e.lable,s.stationName=e.value)}function ea(n,e){n.length==0?(o.signStationId=void 0,o.signStationName=void 0):(o.signStationId=e.lable,o.signStationName=e.value)}function aa(n,e){n.length==0?(s.useStationId=void 0,s.useStationName=void 0):(s.useStationId=e.lable,s.useStationName=e.value)}function P(n){return n===g.INSURANCE?Ke():n===g.DANGER?We():n===g.SECOND?Qe():[]}function ze(n){if(!s.stationName||s.stationName=="")return K.getInstance().error("请先选择所属电站。"),!1;if(g.INSURANCE==n)c.insuranceCarriers=null,c.policyNo=null,c.startTime=null,c.endTime=null,c.remark=null,c.bizFileId=se(),y.type="Insure",y.stationId=s.stationId,_e(y).then(()=>{O.value=!0,R.value="添加投保记录"});else if(g.DANGER==n){if(!s.useStationName||s.useStationName=="")return K.getInstance().error("请先选择当前使用权电站。"),!1;d.stationId=null,d.stationName=null,d.reportingDate=null,d.description=null,d.settlementResult=null,d.remark=null,d.bizFileId=se(),d.stationId=s.stationId,d.stationName=s.stationName,y.type="Danger",y.stationId=s.stationId,y.useStationId=s.useStationId,_e(y).then(()=>{$.value=!0,R.value="添加出险记录"})}}function ta(){if(!s.useStationName||s.useStationName=="")return K.getInstance().error("请先选择当前使用权电站。"),!1;y.type="Second",y.useStationId=s.useStationId,_e(y).then(()=>{W.value=!1;const n=Fe();if(S.value={},n.length>0){if(n[0].signee&&n[0].signee!="")return K.getInstance().error("已签收不能修改。"),!1;D(S.value,n[0]),D(o,n[0]),E.value=!0,R.value="修改寄出记录"}else o.createTime=null,o.sendStationId=s.useStationId,o.sendStationName=s.useStationName,o.signStationId=null,o.signeeId=null,o.senderId=ae.userId,o.sender=ae.username,o.sendDate=Be(new Date).format("YYYY-MM-DD"),o.signStationName=null,o.signee=null,o.signingDate=null,o.remark=null,o.stationId=s.stationId,o.stationName=s.stationName,E.value=!0,R.value="添加寄出记录"})}function la(){const n=Fe();if(n.length==0)return K.getInstance().error("请选择一条数据。"),!1;y.type="Second",y.signStationId=n[0].signStationId,Ie(y).then(()=>{W.value=!0,S.value={},D(S.value,n[0]),D(o,n[0]),o.signeeId=ae.userId,o.signee=ae.username,o.signingDate=Be(new Date).format("YYYY-MM-DD"),E.value=!0,R.value="签收"})}function ue(){O.value=!1,$.value=!1,E.value=!1}function re(n){let e=P(n);n==g.INSURANCE?ke.value.validate().then(()=>{const p={editable:!0,isNew:!0,key:`${n}_${Date.now()}`,insuranceCarriers:c.insuranceCarriers,policyNo:c.policyNo,startTime:c.startTime,endTime:c.endTime,remark:c.remark,bizFileId:c.bizFileId,id:d.id,creatorId:d.creatorId,creator:d.creator,createTime:d.createTime};S.value.key?e.filter((r,i)=>{if(r.key===S.value.key)return D(e[i],c),r}):e.push(p),O.value=!1,xe.value.closeModal(),S.value={}}):n==g.DANGER?he.value.validate().then(()=>{const p={editable:!0,isNew:!0,key:`${n}_${Date.now()}`,stationId:d.stationId,stationName:d.stationName,reportingDate:d.reportingDate,description:d.description,settlementResult:d.settlementResult,remark:d.remark,bizFileId:d.bizFileId,id:d.id,creatorId:d.creatorId,creator:d.creator,createTime:d.createTime};S.value.key?e.filter((r,i)=>{if(r.key===S.value.key)return D(e[i],d),r}):e.push(p),$.value=!1,Te.value.closeModal(),S.value={}}):n==g.SECOND&&Re.value.validate().then(()=>{const p={editable:!0,isNew:!0,key:`${n}_${Date.now()}`,id:o.id,createTime:o.createTime,sendStationId:o.sendStationId,senderId:o.senderId,signStationId:o.signStationId,signeeId:o.signeeId,sendStationName:o.sendStationName,sender:o.sender,sendDate:o.sendDate,signStationName:o.signStationName,signee:o.signee,signingDate:o.signingDate,remark:o.remark};S.value.key?e.filter((r,i)=>{if(r.key===S.value.key)return D(e[i],o),r}):e.push(p),E.value=!1,Ue.value.closeModal(),S.value={}})}function na(n,e){S.value={},D(S.value,n),g.INSURANCE==e?(D(c,n),y.type="Insure",y.stationId=s.stationId,Ie(y).then(()=>{O.value=!0,R.value="修改投保记录"})):g.DANGER==e&&(D(d,n),y.type="Danger",y.stationId=n.stationId,Ie(y).then(()=>{$.value=!0,R.value="修改投保记录"}))}const sa=(n,e)=>F(this,null,function*(){if(e=="insure")y.type="Insure",y.stationId=s.stationId,Aa(y).then(()=>F(this,null,function*(){yield Pe(e,`?id=${n.id}`);const p=P(e),r=p.findIndex(i=>i.key===n.key);p.splice(r,1),V.success("数据已删除")}));else{yield Pe(e,`?id=${n.id}`);const p=P(e),r=p.findIndex(i=>i.key===n.key);p.splice(r,1),V.success("数据已删除")}});function Me(n,e){return[{label:N("common.action.update"),icon:G.EDIT,disabled:ee.value?ee.value!==n.key:!1,onClick:na.bind(null,n,e)},{label:N("common.delText"),icon:G.DELETE,disabled:ee.value?ee.value!==n.key:!1,danger:!0,popConfirm:{title:"是否确认删除",confirm:sa.bind(null,n,e)}}]}const qe=()=>{Ya(),Ae.getInstance().sendMsg("drone_archive",{})},oa=()=>{U.value.validate().then(()=>{const n=Q.value.validate();if(!(n!=null&&n.valid)){V.error("请上传附件资料");return}ia()}).catch(n=>{console.log("onSubmit=》error",n)})},ia=()=>F(this,null,function*(){s.spinning=!0;try{const n=P(g.INSURANCE),e=P(g.DANGER),p=P(g.SECOND),r=Na(s);r.insureList=n,r.dangerList=e,r.secondList=p,yield Ma(r).then(i=>{s.id=i.result,$e({id:i.result}).then(m=>{D(s,m.result)}),K.getInstance().success(N("common.saveSuccessText")),Ae.getInstance().sendMsg("drone_archive",{})}),setTimeout(function(){qe()},200)}finally{s.spinning=!1}});function ua(){Oa("?stationId="+s.stationId).then(n=>{if(n.result&&n.result.length>0){n.result.forEach(p=>{Se.value.push({value:p.userId,label:p.name})});const e={data:Se.value,tfields:{value:"value",label:"label"}};Ea("StationPersonTreeSelectOptions",e)}})}const ra=()=>F(this,null,function*(){if(D(s,A),A.id){const n=yield $e({id:A.id});D(s,n.result),fa(["Id","Name"])}else s.bizFileId=se()}),da=()=>F(this,null,function*(){const n={id:s.id},e=yield De(g.INSURANCE,n);we.value=e.result;const p=yield De(g.DANGER,n);Ce.value=p.result;const r=yield De(g.SECOND,n);Ne.value=r.result});function ma(){qa({}).then(n=>{n.result&&n.result.length>0&&n.result.forEach(e=>{M.value.push({value:e.stationName,lable:e.id})})}),ua()}function fa(n){n.forEach(e=>{b(["responsiblePerson"]).value.forEach(r=>{const i=s[r+e];i&&(s[r+e+"s"]=i.split(","))})})}const va=()=>{s.bizFileId||(s.bizFileId=se()),q.value=[{fileKindId:"drone",filetype:"无人机图片(限制1张)",bizId:s.bizFileId,maxCount:1,maxSize:20*1024*1024,required:!0,readonly:u.value,format:"png,jpg,jpeg"},{fileKindId:"droneSN",filetype:"SN二维码(限制1张)",bizId:s.bizFileId,maxCount:1,maxSize:20*1024*1024,required:!0,readonly:u.value},{fileKindId:"droneCivil",filetype:"民航码(限制1张)",bizId:s.bizFileId,maxCount:1,maxSize:20*1024*1024,required:!0,readonly:u.value}]},de=b([]);return Da(q,n=>{let e=[];n.length&&n.forEach(p=>{var r;(r=p.filelist)!=null&&r.length&&e.push(...p.filelist)}),de.value=e},{deep:!0}),Sa(()=>F(this,null,function*(){yield ra(),yield ma(),da(),va()})),(n,e)=>{const p=w("a-button"),r=w("a-input"),i=w("a-form-item"),m=w("a-col"),_=w("a-row"),B=w("a-date-picker"),me=w("a-select"),J=w("a-card"),pa=w("a-carousel"),te=w("a-form"),fe=w("a-tab-pane"),ba=w("a-tabs"),ve=w("a-textarea"),ca=w("a-spin"),ga=w("PageWrapper");return C(),Y(ga,{detail:!0,dense:"",contentFullHeight:"",fixedHeight:"",contentClass:"fix-detail-page",style:{position:"relative"}},{default:t(()=>[h("div",Pa,[a(ca,{spinning:s.spinning,tip:"Loading..."},{default:t(()=>[h("div",Ba,[h("div",Ha,[La,h("div",Ga,[u.value?T("",!0):(C(),Y(p,{key:0,onClick:qe},{default:t(()=>[L(le(I(N)("common.cancelText")),1)]),_:1})),u.value?T("",!0):(C(),Y(p,{key:1,class:"!ml-4",type:"primary",onClick:oa,loading:j.value},{default:t(()=>[L(le(I(N)("common.saveText")),1)]),_:1},8,["loading"]))])]),h("div",Ka,[a(te,{class:"basic-info-form",ref_key:"formRef",ref:U,model:s,labelAlign:"right",autocomplete:"off"},{default:t(()=>[a(J,{title:"基本信息",bordered:!1,style:{width:"75%"}},{default:t(()=>[a(_,{gutter:32},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{name:"code",label:"编号",labelCol:{class:"detail-label"}},{default:t(()=>[a(r,{disabled:"",value:s.code,"onUpdate:value":e[0]||(e[0]=l=>s.code=l)},null,8,["value"])]),_:1})]),_:1},512),[[v,!0]]),f(a(m,{span:12},{default:t(()=>[a(i,{name:"droneFactory",label:"厂家",labelCol:{class:"detail-label"},rules:[{required:!0}]},{default:t(()=>[a(Z,{disabled:u.value,type:"droneFactory",value:s.droneFactory,"onUpdate:value":e[1]||(e[1]=l=>s.droneFactory=l)},null,8,["disabled","value"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:32},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{name:"model",label:"型号",labelCol:{class:"detail-label"},rules:[{required:!0}]},{default:t(()=>[a(r,{disabled:u.value,value:s.model,"onUpdate:value":e[2]||(e[2]=l=>s.model=l)},null,8,["disabled","value"])]),_:1})]),_:1},512),[[v,!0]]),f(a(m,{span:12},{default:t(()=>[a(i,{name:"dronePower",label:"动力",labelCol:{class:"detail-label"},rules:[{required:!0}]},{default:t(()=>[a(Z,{disabled:u.value,type:"dronePower",value:s.dronePower,"onUpdate:value":e[3]||(e[3]=l=>s.dronePower=l)},null,8,["disabled","value"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:32},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{name:"snNumber",label:"SN编码",labelCol:{class:"detail-label"},rules:[{required:!0}]},{default:t(()=>[a(r,{disabled:u.value,value:s.snNumber,"onUpdate:value":e[4]||(e[4]=l=>s.snNumber=l)},null,8,["disabled","value"])]),_:1})]),_:1},512),[[v,!0]]),f(a(m,{span:12},{default:t(()=>[a(i,{name:"civilNumber",label:"民航码",labelCol:{class:"detail-label"},rules:[{required:!0}]},{default:t(()=>[a(r,{disabled:u.value,value:s.civilNumber,"onUpdate:value":e[5]||(e[5]=l=>s.civilNumber=l)},null,8,["disabled","value"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:32},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{name:"cameraType",label:"相机类型",labelCol:{class:"detail-label"},rules:[{required:!0}]},{default:t(()=>[a(Z,{disabled:u.value,type:"droneCameraType",value:s.cameraType,"onUpdate:value":e[6]||(e[6]=l=>s.cameraType=l)},null,8,["disabled","value"])]),_:1})]),_:1},512),[[v,!0]]),f(a(m,{span:12},{default:t(()=>[a(i,{label:"采购日期",name:"procureDate",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请选择购买日期"}]},{default:t(()=>[a(B,{disabled:u.value,value:s.procureDate,"onUpdate:value":e[7]||(e[7]=l=>s.procureDate=l),style:{width:"100%"},"value-format":"YYYY-MM-DD"},null,8,["disabled","value"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:32},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{label:"所属电站",name:"stationName",labelCol:{class:"detail-label"},rules:[{required:!0}]},{default:t(()=>[a(me,{value:s.stationName,"onUpdate:value":e[8]||(e[8]=l=>s.stationName=l),"show-search":"","allow-clear":"",style:{width:"100%"},options:M.value,disabled:u.value,onChange:Xe},null,8,["value","options","disabled"])]),_:1})]),_:1},512),[[v,!0]]),f(a(m,{span:12},{default:t(()=>[a(i,{name:"endInsurancePeriod",label:"投保期止",labelCol:{class:"detail-label"}},{default:t(()=>[a(r,{disabled:"",value:s.endInsurancePeriod,"onUpdate:value":e[9]||(e[9]=l=>s.endInsurancePeriod=l)},null,8,["value"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:32},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{label:"当前使用权",name:"useStationName",labelCol:{class:"detail-label"},rules:[{required:!0}]},{default:t(()=>[a(me,{value:s.useStationName,"onUpdate:value":e[10]||(e[10]=l=>s.useStationName=l),"show-search":"","allow-clear":"",style:{width:"100%"},options:M.value,disabled:u.value,onChange:aa},null,8,["value","options","disabled"])]),_:1})]),_:1},512),[[v,!0]]),f(a(m,{span:12},{default:t(()=>[a(i,{name:"dangerCount",label:"出险次数",labelCol:{class:"detail-label"}},{default:t(()=>[a(r,{disabled:"",value:s.dangerCount,"onUpdate:value":e[11]||(e[11]=l=>s.dangerCount=l)},null,8,["value"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:32},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{name:"droneType",label:"机场类别",labelCol:{class:"detail-label"},rules:[{required:!0}]},{default:t(()=>[a(Z,{disabled:u.value,type:"droneType",value:s.droneType,"onUpdate:value":e[12]||(e[12]=l=>s.droneType=l)},null,8,["disabled","value"])]),_:1})]),_:1},512),[[v,!0]]),f(a(m,{span:12},{default:t(()=>[a(i,{name:"airportDescribe",label:"机场描述",labelCol:{class:"detail-label"},rules:[{required:!1,message:"飞行覆盖区域说明"}]},{default:t(()=>[a(r,{disabled:u.value,value:s.airportDescribe,"onUpdate:value":e[13]||(e[13]=l=>s.airportDescribe=l),placeholder:"飞行覆盖区域说明",maxlength:30},null,8,["disabled","value"])]),_:1})]),_:1},512),[[v,!0]])]),_:1})]),_:1}),h("div",Va,[de.value.length?(C(),Y(pa,{key:0,dotsClass:"carousel-dots",autoplay:""},{default:t(()=>[(C(!0),ne(wa,null,Ca(de.value,(l,x)=>(C(),ne("div",{class:"img-carousel-item",key:x},[h("img",{src:Ua(l.url)},null,8,ja)]))),128))]),_:1})):T("",!0)])]),_:1},8,["model"]),a(J,{title:"",bordered:!1},{default:t(()=>[h("div",Wa,[a(ba,{activeKey:k.value,"onUpdate:activeKey":e[21]||(e[21]=l=>k.value=l)},{default:t(()=>[a(fe,{class:"tab-pane-table",key:"1",tab:"投保记录"},{default:t(()=>[a(I(ce),{onRegister:I(Ge),onResizeColumn:e[15]||(e[15]=(l,x)=>x.width=l)},{toolbar:t(()=>[!u.value&&k.value==="1"?(C(),Y(p,{key:0,type:"primary",preIcon:I(G).ADD,onClick:e[14]||(e[14]=l=>ze(g.INSURANCE))},{default:t(()=>[L(le(I(N)("common.action.create")),1)]),_:1},8,["preIcon"])):T("",!0)]),bodyCell:t(({column:l,text:x,record:pe})=>[l.key==="bizFileId"?(C(),ne("span",{key:0,style:{color:"#19be6b"},onClick:ya=>Ee(x,"droneInsurance")},"查看附件",8,Ja)):T("",!0),l.key==="action"&&!u.value?(C(),Y(I(Oe),{key:1,actions:Me(pe,g.INSURANCE)},null,8,["actions"])):T("",!0)]),_:1},8,["onRegister"])]),_:1}),a(fe,{class:"tab-pane-table",key:"2",tab:"出险记录","force-render":""},{default:t(()=>[a(I(ce),{onRegister:I(je),onResizeColumn:e[17]||(e[17]=(l,x)=>x.width=l)},{toolbar:t(()=>[!u.value&&k.value==="2"?(C(),Y(p,{key:0,type:"primary",preIcon:I(G).ADD,onClick:e[16]||(e[16]=l=>ze(g.DANGER))},{default:t(()=>[L(le(I(N)("common.action.create")),1)]),_:1},8,["preIcon"])):T("",!0)]),bodyCell:t(({column:l,text:x,record:pe})=>[l.key==="bizFileId"?(C(),ne("span",{key:0,style:{color:"#19be6b"},onClick:ya=>Ee(x,"droneDanger")},"查看附件",8,Za)):T("",!0),l.key==="action"&&!u.value?(C(),Y(I(Oe),{key:1,actions:Me(pe,g.DANGER)},null,8,["actions"])):T("",!0)]),_:1},8,["onRegister"])]),_:1}),a(fe,{class:"tab-pane-table",key:"3",tab:"借调记录","force-render":""},{default:t(()=>[a(I(ce),{onRegister:I(Ze),onResizeColumn:e[20]||(e[20]=(l,x)=>x.width=l)},{toolbar:t(()=>[!u.value&&k.value==="3"?(C(),Y(p,{key:0,type:"primary",preIcon:I(G).SEND,onClick:e[18]||(e[18]=l=>ta())},{default:t(()=>[L(" 寄出 ")]),_:1},8,["preIcon"])):T("",!0),!u.value&&k.value==="3"?(C(),Y(p,{key:1,type:"primary",preIcon:I(G).EDIT,onClick:e[19]||(e[19]=l=>la())},{default:t(()=>[L(" 签收 ")]),_:1},8,["preIcon"])):T("",!0)]),_:1},8,["onRegister"])]),_:1})]),_:1},8,["activeKey"])])]),_:1}),a(J,{title:"附件资料",bordered:!1},{default:t(()=>[h("div",Qa,[a(za,{ref_key:"uploadTable",ref:Q,rows:q.value,colwidths:["15%","70%","15%"],application:"po",module:"droneArchive",mode:u.value?"view":"normal"},null,8,["rows","mode"])])]),_:1})])]),a(oe,{visible:O.value,"onUpdate:visible":e[27]||(e[27]=l=>O.value=l),title:R.value,maskClosable:!1,onOk:e[28]||(e[28]=l=>re(g.INSURANCE)),onCancel:ue,height:500,width:800,smode:"normal",showBtm:!u.value,ref_key:"insureDialogRef",ref:xe},{default:t(()=>[a(te,{ref_key:"insureFormRef",ref:ke,model:c,name:"userForm"},{default:t(()=>[a(_,{gutter:24},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{label:"承保公司",name:"insuranceCarriers",labelCol:{style:{width:"124px"}},rules:[{required:!0}]},{default:t(()=>[a(r,{value:c.insuranceCarriers,"onUpdate:value":e[22]||(e[22]=l=>c.insuranceCarriers=l),disabled:u.value,style:{width:"100%"}},null,8,["value","disabled"])]),_:1})]),_:1},512),[[v,!0]]),f(a(m,{span:12},{default:t(()=>[a(i,{label:"保单号",name:"policyNo",labelCol:{style:{width:"124px"}},rules:[{required:!0}]},{default:t(()=>[a(r,{value:c.policyNo,"onUpdate:value":e[23]||(e[23]=l=>c.policyNo=l),disabled:u.value,style:{width:"100%"}},null,8,["value","disabled"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:24},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{label:"有效期起",name:"startTime",labelCol:{style:{width:"124px"}},rules:[{required:!0}]},{default:t(()=>[a(B,{value:c.startTime,"onUpdate:value":e[24]||(e[24]=l=>c.startTime=l),disabled:u.value,format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm:00","show-time":"",style:{width:"100%"}},null,8,["value","disabled"])]),_:1})]),_:1},512),[[v,!0]]),f(a(m,{span:12},{default:t(()=>[a(i,{label:"有效期止",name:"endTime",labelCol:{style:{width:"124px"}},rules:[{required:!0}]},{default:t(()=>[a(B,{value:c.endTime,"onUpdate:value":e[25]||(e[25]=l=>c.endTime=l),disabled:u.value,format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm:00","show-time":"",style:{width:"100%"}},null,8,["value","disabled"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:24},{default:t(()=>[f(a(m,{span:24},{default:t(()=>[a(i,{label:"备注",name:"remark",labelCol:{style:{width:"124px"}},rules:[{required:!1}]},{default:t(()=>[a(r,{value:c.remark,"onUpdate:value":e[26]||(e[26]=l=>c.remark=l),disabled:u.value,style:{width:"100%"}},null,8,["value","disabled"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(J,{title:"保单附件",bordered:!1,style:{"text-align":"left"}},{default:t(()=>[h("div",Xa,[a(be,{width:800,height:550,maxCount:20,maxSize:100*1024*1024,application:"po",module:"droneInsurance",vmode:u.value?"view":"box",bizId:c.bizFileId},null,8,["vmode","bizId"])])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","showBtm"]),a(oe,{visible:$.value,"onUpdate:visible":e[34]||(e[34]=l=>$.value=l),title:R.value,maskClosable:!1,onOk:e[35]||(e[35]=l=>re(g.DANGER)),onCancel:ue,height:600,width:800,smode:"normal",showBtm:!u.value,ref_key:"dangerDialogRef",ref:Te},{default:t(()=>[a(te,{ref_key:"dangerFormRef",ref:he,model:d,name:"userForm"},{default:t(()=>[a(_,{gutter:24},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{label:"出险电站",name:"stationName",labelCol:{style:{width:"124px"}},rules:[{required:!0}]},{default:t(()=>[a(r,{value:d.stationName,"onUpdate:value":e[29]||(e[29]=l=>d.stationName=l),disabled:"",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1},512),[[v,!0]]),f(a(m,{span:12},{default:t(()=>[a(i,{label:"报险日期",name:"reportingDate",labelCol:{style:{width:"124px"}},rules:[{required:!0}]},{default:t(()=>[a(B,{value:d.reportingDate,"onUpdate:value":e[30]||(e[30]=l=>d.reportingDate=l),disabled:u.value,format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["value","disabled"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:24},{default:t(()=>[f(a(m,{span:24},{default:t(()=>[a(i,{label:"事件概述",name:"description",labelCol:{style:{width:"124px"}},rules:[{required:!0}]},{default:t(()=>[a(ve,{value:d.description,"onUpdate:value":e[31]||(e[31]=l=>d.description=l),maxlength:100,"auto-size":{minRows:2,maxRows:5},disabled:u.value},null,8,["value","disabled"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:24},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{label:"理赔结果",name:"settlementResult",labelCol:{style:{width:"124px"}},rules:[{required:!0}]},{default:t(()=>[a(Z,{disabled:u.value,type:"settlementResult",value:d.settlementResult,"onUpdate:value":e[32]||(e[32]=l=>d.settlementResult=l)},null,8,["disabled","value"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:24},{default:t(()=>[f(a(m,{span:24},{default:t(()=>[a(i,{label:"备注",name:"remark",labelCol:{style:{width:"124px"}},rules:[{required:!1}]},{default:t(()=>[a(ve,{value:d.remark,"onUpdate:value":e[33]||(e[33]=l=>d.remark=l),maxlength:100,"auto-size":{minRows:2,maxRows:5},disabled:u.value},null,8,["value","disabled"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(J,{title:"出险附件",bordered:!1,style:{"text-align":"left"}},{default:t(()=>[h("div",et,[a(be,{width:800,height:550,maxCount:20,maxSize:100*1024*1024,application:"po",module:"droneDanger",vmode:u.value?"view":"box",bizId:d.bizFileId},null,8,["vmode","bizId"])])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","showBtm"]),a(oe,{visible:E.value,"onUpdate:visible":e[43]||(e[43]=l=>E.value=l),title:R.value,maskClosable:!1,onOk:e[44]||(e[44]=l=>re(g.SECOND)),onCancel:ue,height:450,width:800,smode:"normal",showBtm:!u.value,ref_key:"secondDialogRef",ref:Ue},{default:t(()=>[a(te,{ref_key:"secondFormRef",ref:Re,model:o,name:"userForm"},{default:t(()=>[a(_,{gutter:24},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{label:"寄出电站",name:"sendStationName",labelCol:{style:{width:"124px"}},rules:[{required:!0}]},{default:t(()=>[a(r,{value:o.sendStationName,"onUpdate:value":e[36]||(e[36]=l=>o.sendStationName=l),disabled:"",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1},512),[[v,!0]]),f(a(m,{span:12},{default:t(()=>[a(i,{label:"寄出人",name:"sender",labelCol:{style:{width:"124px"}},rules:[{required:!0}]},{default:t(()=>[a(r,{value:o.sender,"onUpdate:value":e[37]||(e[37]=l=>o.sender=l),disabled:"",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:24},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{label:"寄出日期",name:"sendDate",labelCol:{style:{width:"124px"}},rules:[{required:!0}]},{default:t(()=>[a(B,{value:o.sendDate,"onUpdate:value":e[38]||(e[38]=l=>o.sendDate=l),disabled:u.value||W.value,format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["value","disabled"])]),_:1})]),_:1},512),[[v,!0]]),f(a(m,{span:12},{default:t(()=>[a(i,{label:"签收电站",name:"signStationName",labelCol:{style:{width:"124px"}},rules:[{required:!0}]},{default:t(()=>[a(me,{value:o.signStationName,"onUpdate:value":e[39]||(e[39]=l=>o.signStationName=l),"show-search":"","allow-clear":"",disabled:u.value||W.value,style:{width:"100%"},options:M.value,onChange:ea},null,8,["value","disabled","options"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:24},{default:t(()=>[f(a(m,{span:12},{default:t(()=>[a(i,{label:"签收人",name:"signee",labelCol:{style:{width:"124px"}},rules:[{required:!1}]},{default:t(()=>[a(r,{value:o.signee,"onUpdate:value":e[40]||(e[40]=l=>o.signee=l),disabled:"",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1},512),[[v,!0]]),f(a(m,{span:12},{default:t(()=>[a(i,{label:"签收日期",name:"signingDate",labelCol:{style:{width:"124px"}},rules:[{required:!1}]},{default:t(()=>[a(B,{value:o.signingDate,"onUpdate:value":e[41]||(e[41]=l=>o.signingDate=l),disabled:u.value||!W.value,format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["value","disabled"])]),_:1})]),_:1},512),[[v,!0]])]),_:1}),a(_,{gutter:24},{default:t(()=>[f(a(m,{span:24},{default:t(()=>[a(i,{label:"备注",name:"remark",labelCol:{style:{width:"124px"}},rules:[{required:!1}]},{default:t(()=>[a(ve,{value:o.remark,"onUpdate:value":e[42]||(e[42]=l=>o.remark=l),maxlength:100,"auto-size":{minRows:3,maxRows:6},disabled:u.value},null,8,["value","disabled"])]),_:1})]),_:1},512),[[v,!0]])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","showBtm"]),a(oe,{visible:ie.value,"onUpdate:visible":e[45]||(e[45]=l=>ie.value=l),title:R.value,maskClosable:!1,height:600,width:800,smode:"normal",showBtm:!1,ref:"fileDialogRef"},{default:t(()=>[h("div",at,[a(be,{width:800,height:550,maxCount:20,maxSize:100*1024*1024,application:"po",module:X.module,vmode:"view",bizId:X.bizFileId},null,8,["module","bizId"])])]),_:1},8,["visible","title"])]),_:1},8,["spinning"])])]),_:1})}}});const Ut=Fa(tt,[["__scopeId","data-v-ea8677bc"]]);export{Ut as default};
//# sourceMappingURL=create-4d723363.js.map
