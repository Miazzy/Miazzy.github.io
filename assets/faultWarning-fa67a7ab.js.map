{"version":3,"file":"faultWarning-fa67a7ab.js","sources":["../../src/views/monitor/faultWarning/faultWarning.vue"],"sourcesContent":["<!--\n * @Description: 故障告警\n * @Date: 2023-10-23 17:31:10\n * @LastEditTime: 2023-10-27 15:28:50\n * @FilePath: \\ygwl-framework\\src\\views\\monitor\\faultWarning\\faultWarning.vue\n-->\n<template>\n  <div class=\"fault-warning\">\n    <a-row class=\"fault-warning-row\" type=\"flex\" :wrap=\"false\">\n      <a-col flex=\"298px\">\n        <CommonTree\n          :canEdit=\"false\"\n          :canAdd=\"false\"\n          :canDelete=\"false\"\n          :isShowOperationBtns=\"false\"\n          class=\"fit-common-tree\"\n          title=\"电站组织\"\n          :value=\"stationTreeData\"\n          :fieldNames=\"{ key: 'id', title: 'name' }\"\n          @select=\"handleSelect\"\n          checkable\n          @check=\"handleCheck\"\n          ref=\"stationTreeRef\"\n        />\n      </a-col>\n      <a-col flex=\"auto\">\n        <div class=\"right-box\">\n          <div class=\"card-group-box\">\n            <div\n              class=\"card-item\"\n              v-for=\"(item, index) in cardData\"\n              :key=\"index\"\n              @click=\"handleDeviceType(tiem)\"\n            >\n              <div class=\"label-text\">{{ item.label }}</div>\n              <div class=\"number-text\">{{ item.number }}</div>\n              <!-- <div class=\"compare-box\">\n                <span class=\"left-text\">同比昨日</span>\n                <span\n                  v-if=\"item.ratio != 0\"\n                  class=\"trend\"\n                  :class=\"item.ratio > 0 ? 'red' : 'green'\"\n                ></span>\n                <span class=\"value-text\" :class=\"item.ratio > 0 ? 'red' : 'green'\"\n                  >{{ item.ratio }}%</span\n                >\n              </div> -->\n            </div>\n          </div>\n          <div class=\"search-box\">\n            <div class=\"left-box\">\n              <div class=\"select-box\">\n                <div class=\"select-label-box\">级别</div>\n\n                <DictSelectBox\n                  v-model:value=\"level\"\n                  :multiple=\"`multiple`\"\n                  :type=\"`alarm_level`\"\n                  :width=\"200\"\n                  placeholder=\"选择级别\"\n                  @change=\"handleLevelChange\"\n                />\n              </div>\n              <div class=\"select-box\">\n                <div class=\"select-label-box\">类型</div>\n                <!-- <a-select\n                  v-model:value=\"alarmType\"\n                  mode=\"multiple\"\n                  allow-clear\n                  placeholder=\"选择类型\"\n                  style=\"min-width: 200px\"\n                  :options=\"typeOptions\"\n                  showArrow\n                  @change=\"handleTypeChange\"\n                /> -->\n                <DictSelectBox\n                  v-model:value=\"alarmType\"\n                  :multiple=\"`multiple`\"\n                  :max-tag-count=\"1\"\n                  :type=\"`alarm_type`\"\n                  :width=\"200\"\n                  placeholder=\"选择类型\"\n                  @change=\"handleTypeChange\"\n                />\n              </div>\n\n              <div class=\"select-box\">\n                <div class=\"select-label-box\">发生时间</div>\n                <a-range-picker\n                  :width=\"120\"\n                  v-model:value=\"dateRange\"\n                  valueFormat=\"YYYY-MM-DD\"\n                  @change=\"handleChangeDateRange\"\n                />\n              </div>\n              <div class=\"select-box\">\n                <div class=\"select-label-box\" style=\"width: 100px !important\">设备编码</div>\n                <a-input v-model:value=\"esn\" />\n              </div>\n            </div>\n            <div class=\"right-box\">\n              <a-button @click=\"handleReset\"> 重置 </a-button>\n              <a-button type=\"primary\" @click=\"handleSearch\"> 查询 </a-button>\n            </div>\n          </div>\n          <div class=\"right-row-box\">\n            <div class=\"data-table-box\">\n              <div class=\"table-title-line\"></div>\n              <BasicTable @register=\"registerTable\" :clickToRowSelect=\"true\">\n                <template #tableTitle>\n                  <div class=\"table-title-left-box\">\n                    <div class=\"table-title-text\">告警列表</div>\n                    <div class=\"refresh-box\">\n                      <a-checkbox v-model:checked=\"isAutoRefresh\" @change=\"handleAutoRefresh\"\n                        >自动刷新</a-checkbox\n                      >\n                    </div>\n                  </div>\n                </template>\n                <template #toolbar>\n                  <div class=\"operation-btn-box\">\n                    <a-button\n                      type=\"primary\"\n                      :preIcon=\"IconEnum.ADD\"\n                      v-permission=\"`monitor:faultWarning:confirm`\"\n                      class=\"operation-btn\"\n                      @click=\"doConfirm()\"\n                    >\n                      批量确认\n                    </a-button>\n                    <a-button\n                      type=\"primary\"\n                      class=\"operation-btn\"\n                      :preIcon=\"IconEnum.ADD\"\n                      @click=\"dealWorkOrder\"\n                    >\n                      转工单\n                    </a-button>\n                    <a-button\n                      type=\"primary\"\n                      class=\"operation-btn\"\n                      :preIcon=\"IconEnum.ADD\"\n                      @click=\"droneInspection\"\n                    >\n                      无人机巡检\n                    </a-button>\n                    <a-button\n                      class=\"operation-btn yellow-btn\"\n                      :preIcon=\"IconEnum.EXPORT\"\n                      @click=\"exportData\"\n                    >\n                      导出\n                    </a-button>\n                    <!-- <a-dropdown>\n                      <template #overlay>\n                        <a-menu @click=\"handleMenuClick\">\n                          <a-menu-item key=\"1\">清除</a-menu-item>\n                          <a-menu-item key=\"2\" @click=\"exportData\">导出</a-menu-item>\n                        </a-menu>\n                      </template>\n                      <a-button class=\"operation-btn\">\n                        更多\n                        <Icon icon=\"ant-design:down-outlined\" color=\"#BFBFBF\" size=\"14\" />\n                      </a-button>\n                    </a-dropdown> -->\n                  </div>\n                </template>\n                <template #bodyCell=\"{ column, text, record }\">\n                  <template v-if=\"column.key === 'isConfirm'\">\n                    <a style=\"color: #dc0000\" v-if=\"text == 0 || text == null\">未确认</a>\n                    <a style=\"color: #30ca5a\" v-if=\"text == 1\">已确认</a>\n                  </template>\n                  <template v-if=\"column.key === 'deviceName'\">\n                    <a @click=\"handleOpenDeviceDialog(record)\">{{ text }}</a>\n                  </template>\n                  <template v-if=\"column.key === 'typeText'\">\n                    <span v-if=\"record.type == 'interrupt'\">通讯告警</span>\n                    <span v-if=\"record.type == 'electricity'\">电量告警</span>\n                  </template>\n                </template>\n                <template #action=\"{ record }\">\n                  <TableAction :actions=\"getAction(record)\" />\n                </template>\n              </BasicTable>\n            </div>\n          </div>\n        </div>\n      </a-col>\n    </a-row>\n    <!-- 设备弹框 -->\n    <DeviceDialog\n      :title=\"dialogTitle\"\n      :visible=\"dialogVisible\"\n      :ycData=\"ycData\"\n      :yxData=\"yxData\"\n      :yxTime=\"yxTime\"\n      :data=\"selectedDevice\"\n      @update:visible=\"dialogVisible = $event\"\n    />\n    <!-- 运维建议 -->\n    <Dialog\n      v-model:visible=\"operationVisible\"\n      title=\"运维建议\"\n      height=\"400px\"\n      width=\"600px\"\n      :showBtm=\"false\"\n    >\n      <span>{{ operationRemark }}11</span>\n    </Dialog>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import { ref, onMounted, nextTick, toRaw } from 'vue';\n  import CommonTree from '@/components/Framework/Tree/CommonTree.vue';\n  import { TreeItem } from '/@/components/Tree';\n  import { BasicTable, useTable, TableAction, BasicColumn } from '/@/components/Table';\n  import Icon from '@/components/Icon/Icon.vue';\n  import type { SelectProps, MenuProps } from 'ant-design-vue';\n  import { message } from 'ant-design-vue';\n  import type { Dayjs } from 'dayjs';\n  import { useRouter } from 'vue-router';\n  import { exportExcelFile } from '@/utils/file/download';\n  import DictSelectBox from '@/components/Framework/Combox/DictSelectBox.vue';\n  import DeviceDialog from '../PVArea/subareaOverview/deviceDialog.vue';\n  import { TaskExecutor } from '/@/executor/taskExecutor';\n  import { IconEnum } from '@/enums/appEnum';\n  import Dialog from '@/components/Framework/Modal/Dialog.vue';\n  import {\n    getStationTree,\n    getAlarmsCount,\n    getAlarmPage,\n    getAlarmTypes,\n    getAlarmLevels,\n    createWorkOrder,\n    createFaultWorkOrder,\n    getWorkOrderId,\n    exportExcel,\n    confirm,\n    getRealTimeYc,\n    getRealTimeYx,\n    saveWorkOrderId,\n    getDroneInspectionCode,\n  } from '../monitorApi.ts';\n  import { selectKey } from 'element-plus';\n  import { addTabPage } from '@/utils/route';\n  import { getDictDataMap } from '/@/api/bpm/system/dict/data';\n  import { useMessage } from '@/hooks/web/useMessage';\n\n  const { createConfirm } = useMessage();\n\n  const operationVisible = ref<boolean>(false);\n  const router = useRouter();\n  const selectedStationId = ref('');\n  const stationTreeData = ref<TreeItem[]>([]);\n  // 选择级别\n  const level = ref([]);\n  const levelOptions = ref<SelectProps['options']>([]);\n  // 选择状态\n  const alarmType = ref([]);\n  // 选择状态\n  const esn = ref('');\n  const typeOptions = ref<SelectProps['options']>([]);\n  // 告警卡片数据\n  const cardData = ref([\n    {\n      label: '逆变器(台)',\n      value: 'inverter',\n      ratio: -1.6,\n    },\n    {\n      label: '汇流箱(台)',\n      value: 'combinerDc',\n      ratio: 1.6,\n    },\n    {\n      label: '组串(条)',\n      value: 'pvString',\n      ratio: 0.5,\n    },\n    {\n      label: '箱变(台)',\n      value: 'transformer',\n      ratio: 0,\n    },\n    {\n      label: '升压站(台)',\n      value: 'boostDev',\n      ratio: 0,\n    },\n    {\n      label: '储能(台)',\n      value: 'energyStorage',\n      ratio: 0,\n    },\n    {\n      label: '其他(台)',\n      value: 'other',\n      ratio: 0,\n    },\n  ]);\n\n  const stationTreeRef = ref();\n  // 查询电站树数据\n  async function queryDeptTreeList() {\n    let result = await getStationTree();\n    stationTreeData.value = result;\n  }\n  // 左侧树状菜单选中事件\n  async function handleSelect(nodes = {}) {\n    selectedStationId.value = null;\n    if (nodes.id != null && nodes.nodeKindId == 'station') {\n      selectedStationId.value = nodes.powerStationId;\n    }\n  }\n  // 加载顶部告警数量\n  async function loadAlarmCount() {\n    try {\n      let result = await getAlarmsCount({\n        stationIds: checkKeys.value,\n      });\n      if (result && Object.keys(result).length) {\n        cardData.value.forEach((item) => {\n          item.number = result[item.value];\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  const checkKeys = ref([]);\n  const handleCheck = async (nodes) => {\n    let keys = [];\n    nodes.forEach((node) => {\n      if (node.nodeKindId == 'station') {\n        keys.push(node.id);\n      }\n    });\n    checkKeys.value = keys;\n    handleSearch();\n    loadAlarmCount();\n  };\n\n  // 加载告警类别\n  async function loadAlarmType() {\n    const result = await getDictDataMap({ dictTypeList: 'alarm_type' });\n    let temp = [\n      { label: '电量告警', value: 'electricity' },\n      { label: '通讯告警', value: 'interrupt' },\n    ];\n    if (result.result.alarm_type?.length > 0) {\n      result.result.alarm_type.forEach((element) => {\n        temp.push({ label: element.label, value: element.value });\n      });\n    }\n    typeOptions.value = temp;\n  }\n  const handleTypeChange = (value: string[]) => {\n    console.log(`selected ${value}`);\n  };\n\n  // 加载告警级别\n  async function loadAlarmLevel() {\n    let result = await getAlarmLevels();\n    let temp = [];\n    if (result?.length > 0) {\n      result.forEach((element) => {\n        temp.push({ label: element.desc, value: element.value });\n      });\n    }\n    levelOptions.value = temp;\n  }\n  const handleLevelChange = (value: string[]) => {\n    console.log(`selected ${value}`);\n  };\n  // const deviceList = ref([]);\n  const handleDeviceType = async (item) => {};\n\n  // 选择发生时间范围\n  type RangeValue = [Dayjs, Dayjs];\n  const dateRange = ref<RangeValue>();\n  const handleChangeDateRange = (value) => {\n    console.log('选择发生时间范围', value);\n  };\n  // 确认告警数据\n  const doConfirm = async (record: any) => {\n    let ids = [];\n    if (record != null) {\n      // 单条确认\n      ids.push(record.id);\n    } else {\n      if (checkedKeys.value.length > 0) {\n        // 批量确认\n        ids = checkedKeys.value;\n      } else {\n        message.warning('请先选择记录。');\n        return;\n      }\n    }\n    confirm({ ids: ids }).then(() => {\n      reload();\n    });\n  };\n\n  // 数据表格\n  const columns: BasicColumn[] = [\n    {\n      title: '电站名称',\n      dataIndex: 'stationName',\n      width: 150,\n    },\n    {\n      title: '设备名称',\n      dataIndex: 'deviceName',\n      width: 100,\n    },\n    {\n      title: '设备编码',\n      dataIndex: 'esn',\n      width: 150,\n    },\n    {\n      title: '告警名称',\n      dataIndex: 'alarmName',\n      width: 100,\n    },\n    {\n      title: '级别',\n      dataIndex: 'levelText',\n      width: 100,\n    },\n    {\n      title: '分类',\n      dataIndex: 'typeText',\n      width: 100,\n    },\n    {\n      title: '发生时间',\n      dataIndex: 'firstAlarmTime',\n      sorter: true,\n      width: 150,\n    },\n    {\n      title: '告警时长',\n      dataIndex: 'showAlarmDuration',\n      sorter: true,\n      width: 120,\n    },\n    {\n      title: '恢复时间',\n      dataIndex: 'recoveryTime',\n      sorter: true,\n      width: 150,\n    },\n    {\n      title: '确认状态',\n      dataIndex: 'isConfirm',\n      width: 100,\n    },\n    {\n      title: '确认人',\n      dataIndex: 'confirmPersonName',\n      width: 100,\n    },\n    {\n      title: '确认时间',\n      dataIndex: 'confirmTime',\n      sorter: true,\n      width: 150,\n    },\n  ];\n  const tableData = ref([]);\n\n  // 导出\n  async function exportData() {\n    createConfirm({\n      title: '提示',\n      iconType: 'warning',\n      content: '确定要导出所有记录？',\n      async onOk() {\n        // 到处方法需要处理数据为字符串：因为直接数组导致报错\n        let stationIdsStr = checkKeys.value.toString();\n        let levelsStr = level.value.join(',');\n        let typesStr = alarmType.value.join(',');\n        let param = {\n          stationIdsStr: stationIdsStr,\n          levelsStr: levelsStr,\n          typesStr: typesStr,\n        };\n        if (dateRange.value != undefined) {\n          param.startTime = dateRange.value[0];\n          param.endTime = dateRange.value[1];\n        }\n        await exportExcel(param).then((res) => {\n          exportExcelFile(res?.data, '设备告警.xls');\n        });\n      },\n    });\n  }\n\n  const handleSearch = async () => {\n    reload();\n  };\n  const handleReset = async () => {\n    alarmType.value = [];\n    level.value = [];\n    dateRange.value = null;\n  };\n\n  const dialogVisible = ref(false);\n  const dialogTitle = ref('');\n  const selectedDevice = ref({});\n  const handleOpenDeviceDialog = async (deviceItem: any) => {\n    dialogVisible.value = true;\n    dialogTitle.value = deviceItem.esn;\n    selectedDevice.value = deviceItem;\n    getYcData(deviceItem);\n    getYxData(deviceItem);\n  };\n\n  // 获取实时遥测数据\n  const ycData = ref([]);\n  const getYcData = async (deviceItem) => {\n    let res = await getRealTimeYc({\n      stationId: deviceItem.stationId,\n      areaId: deviceItem.areaId,\n      esn: deviceItem.esn,\n      dataType: 3,\n    });\n    ycData.value = res;\n  };\n\n  // 获取实时遥信数据\n  const yxData = ref([]);\n  const yxTime = ref('');\n  const getYxData = async (deviceItem) => {\n    let res = await getRealTimeYx({\n      stationId: deviceItem.stationId,\n      areaId: deviceItem.areaId,\n      esn: deviceItem.esn,\n      dataType: 1,\n    });\n    yxData.value = res.dataList;\n    yxTime.value = res.showTimeStr;\n  };\n\n  const searchInfo = ref({});\n\n  const getDataList = async () => {\n    const paginationRef = getPaginationRef() as any;\n\n    let param = {\n      stationIds: checkKeys.value,\n      // deviceTypeList: alarmType.value,\n      alarmLevels: level.value,\n      alarmTypes: alarmType.value,\n      pageNo: paginationRef.current,\n      pageSize: paginationRef.pageSize,\n      deviceEsn: esn.value,\n      sortField: searchInfo.value.sortField,\n      sortOrder: searchInfo.value.sortOrder,\n    };\n    if (dateRange.value != undefined) {\n      param.startTime = dateRange.value[0];\n      param.endTime = dateRange.value[1];\n    }\n    let res = await getAlarmPage(param);\n    tableData.value = res.list;\n    // 初始化多选框的值\n    checkedKeys.value = [];\n    return res;\n  };\n\n  const checkedKeys = ref<Array<string | number>>([]);\n  const [registerTable, { reload, reloadData, getPaginationRef, getDataSource, getSelectRows }] =\n    useTable({\n      api: getDataList,\n      columns,\n      bordered: true,\n      actionColumn: {\n        width: 200,\n        title: '操作',\n        dataIndex: 'action',\n        slots: { customRender: 'action' },\n      },\n      rowKey: 'id',\n      rowSelection: {\n        type: 'checkbox',\n        fixed: true,\n        selectedRowKeys: checkedKeys,\n        onSelect: onSelect,\n        onSelectAll: onSelectAll,\n      },\n      pagination: { pageSize: 200, pageSizeOptions: ['20', '50', '100', '200'] },\n      showTableSetting: true,\n      tableSetting: { fullScreen: false, redo: false, size: false },\n      sortFn: (sortInfo: SorterResult) => {\n        if (sortInfo.order) {\n          if (sortInfo.field === 'showAlarmDuration') {\n            searchInfo.value.sortField = 'alarmDuration';\n          } else {\n            searchInfo.value.sortField = sortInfo.field;\n          }\n          searchInfo.value.sortOrder = sortInfo.order.replace('end', '');\n        }\n      },\n    });\n\n  function onSelect(record, selected) {\n    if (selected) {\n      checkedKeys.value = [...checkedKeys.value, record.id];\n    } else {\n      checkedKeys.value = checkedKeys.value.filter((id) => id !== record.id);\n    }\n  }\n  function onSelectAll(selected, selectedRows, changeRows) {\n    const changeIds = changeRows.map((item) => item.id);\n    if (selected) {\n      checkedKeys.value = [...checkedKeys.value, ...changeIds];\n    } else {\n      checkedKeys.value = checkedKeys.value.filter((id) => {\n        return !changeIds.includes(id);\n      });\n    }\n  }\n  const dealWorkOrder = async () => {\n    if (checkedKeys.value.length != 1) {\n      message.error('请选择一条数据。');\n      return;\n    }\n    createConfirm({\n      title: '提示',\n      iconType: 'warning',\n      content: '确定要生成工单？',\n      async onOk() {\n        let selectId = checkedKeys.value[0];\n        let row = getDataSource();\n        let selectedData = {};\n        row.forEach((item) => {\n          if (item.id == selectId) {\n            selectedData = item;\n            return;\n          }\n        });\n\n        let res = await createWorkOrder(selectedData);\n        if (res.fault == null) {\n          message.error('请先设置物资和设备的关联关系。');\n          return;\n        } else {\n          let findDate: string = res.fault.findDate;\n          res.fault.findDate = findDate.substring(0, 16);\n          let workOrderId = await createFaultWorkOrder(res);\n          let param = { workOrderId: workOrderId, id: selectedData.id };\n          await saveWorkOrderId(param);\n          addTabPage('/po/workorder/create?id=' + workOrderId, '工单详情');\n        }\n      },\n    });\n  };\n\n  const toDroneInspection = (record) => {\n    var form = {\n      billCode: record.billCode,\n    };\n    addTabPage(`/po/drone/droneinspection/create`, '查看无人机巡检', toRaw(form));\n  };\n\n  const droneInspection = () => {\n    if (checkedKeys.value.length != 1) {\n      message.error('请选择一条数据。');\n      return;\n    }\n\n    const rows = getSelectRows();\n    const row = rows[0];\n    getDroneInspectionCode({ esnTemp: row.esn }).then((data) => {\n      let billCode = data;\n      if (billCode != null && billCode != '') {\n        var form = {\n          billCode: row.billCode,\n        };\n        addTabPage(`/po/drone/droneinspection/create`, '查看无人机巡检', toRaw(form));\n      } else {\n        var formS = {\n          powerStationId: row.stationId,\n          powerStationName: row.stationName,\n          equipmentName: row.deviceName,\n          alarmTime: row.firstAlarmTime,\n          alarmContent: row.alarmName,\n          esn: row.esnTemp,\n          status: 0,\n        };\n        addTabPage(`/po/drone/droneinspection/create`, '添加无人机巡检', toRaw(formS));\n      }\n    });\n  };\n\n  // 更多\n  const handleMenuClick: MenuProps['onClick'] = (e) => {\n    const { key } = e;\n    switch (key) {\n      case '1':\n        // 清除\n        console.log('清除');\n        break;\n      case '2':\n        // 导出\n        console.log('导出');\n        break;\n    }\n  };\n\n  // 点击运维建议\n  const operationRemark = ref('');\n  const handleAdvice = (record) => {\n    // 打开遥测修复建议\n    operationRemark.value = record.operationRemark;\n    operationVisible.value = true;\n  };\n  // 点击工单详情\n  const handleWorkOrderDetail = async (record) => {\n    // let workOrderId = await getWorkOrderId({ sourceId: record.id });\n    // if (workOrderId == null) {\n    //   message.error('告警未转工单。');\n    //   return;\n    // }\n    addTabPage('/po/workorder/create?id=' + record.workOrderId, '工单详情');\n    // router.push('/po/workorder/create?id=' + workOrderId);\n  };\n\n  const getAction = (record: any) => {\n    let button = [];\n    if (record.workOrderId != null) {\n      button = [\n        {\n          label: '运维建议',\n          icon: 'clarity:note-edit-line',\n          onClick: handleAdvice.bind(null, record),\n        },\n        {\n          label: '工单详情',\n          icon: 'ant-design:calendar-outlined',\n          onClick: handleWorkOrderDetail.bind(null, record),\n        },\n      ];\n    } else {\n      button = [\n        {\n          label: '运维建议',\n          icon: 'clarity:note-edit-line',\n          onClick: handleAdvice.bind(null, record),\n        },\n      ];\n    }\n\n    if (record.billCode != null) {\n      let btn = {\n        label: '无人机巡检',\n        icon: 'clarity:note-edit-line',\n        onClick: toDroneInspection.bind(null, record),\n      };\n      button.push(btn);\n    }\n\n    return button;\n  };\n\n  const taskRefreshID = 'FAULT_WARNING';\n  // 自动刷新\n  const isAutoRefresh = ref(true);\n  // 刷新页面数据\n  const refreshData = async () => {\n    // await getPowerStationList();\n    console.info('refreshData:', Math.random());\n    try {\n      reloadData(undefined, false);\n      loadAlarmCount();\n    } catch (error) {\n      //\n    }\n  };\n\n  // 控制自动刷新函数\n  const handleAutoRefresh = (event) => {\n    try {\n      if (event?.target?.checked) {\n        // 如果勾选自动刷新，则将刷新函数加入线程，否则移除线程\n        TaskExecutor.getInstance().pushListTask(taskRefreshID, refreshData, 20000);\n      } else {\n        TaskExecutor.getInstance().removeListTask(taskRefreshID);\n      }\n    } catch (error) {\n      //\n    }\n  };\n\n  onMounted(async () => {\n    loadAlarmCount();\n    // 加载电站树\n    await queryDeptTreeList();\n    // 加载设备告警级别\n    loadAlarmLevel();\n    // 获取设备告警类型\n    loadAlarmType();\n    await nextTick();\n    // 默认全选\n    stationTreeRef.value.checkAll();\n    handleCheck(stationTreeRef.value.getCheckedKeys());\n    // 启动刷新线程\n    TaskExecutor.getInstance().start();\n    if (isAutoRefresh.value) {\n      TaskExecutor.getInstance().pushListTask(taskRefreshID, refreshData, 20000);\n    }\n  });\n</script>\n\n<style lang=\"less\">\n  @import '../style/themes.less';\n</style>\n\n<style lang=\"less\" scoped>\n  .fault-warning {\n    height: 100%;\n    padding: 10px;\n\n    .fault-warning-row {\n      height: 100%;\n    }\n\n    .fit-common-tree {\n      width: 298px;\n      height: 100%;\n      margin: 0 !important;\n      border: none !important;\n    }\n\n    .right-box {\n      height: 100%;\n      padding-left: 10px;\n\n      .card-group-box {\n        display: flex;\n        justify-content: space-between;\n        height: 100px;\n        margin-bottom: 10px;\n\n        .card-item {\n          width: 187px;\n          height: 100px;\n          padding: 12px 0 12px 16px;\n          border-radius: 2px;\n          line-height: 1;\n\n          .label-text {\n            margin-bottom: 10px;\n            opacity: 0.8;\n            font-size: 12px;\n          }\n\n          .number-text {\n            margin-bottom: 10px;\n            font-size: 32px;\n            font-weight: 600;\n          }\n\n          .compare-box {\n            display: flex;\n            align-items: center;\n\n            .left-text {\n              margin-right: 11px;\n              font-size: 12px;\n            }\n\n            .trend {\n              width: 8px;\n              margin-right: 4px;\n              border: 4px solid transparent;\n\n              &.red {\n                border-top: none;\n                border-bottom: 6px solid #ff4d4f;\n              }\n\n              &.green {\n                border-top: 6px solid #55d187;\n                border-bottom: none;\n              }\n            }\n\n            .value-text {\n              font-size: 14px;\n\n              &.red {\n                color: #ff4d4f;\n              }\n\n              &.green {\n                color: #55d187;\n              }\n            }\n          }\n        }\n      }\n\n      .search-box {\n        display: flex;\n        justify-content: space-between;\n        height: 56px;\n        margin-bottom: 10px;\n        padding: 0 16px;\n\n        .left-box {\n          display: flex;\n          align-items: center;\n        }\n\n        .right-box {\n          display: flex;\n          align-items: center;\n\n          :deep(.ant-btn) {\n            margin-right: 10px;\n\n            &:last-child {\n              margin-right: 0;\n            }\n          }\n        }\n      }\n\n      .select-box {\n        display: flex;\n        align-items: center;\n        margin-right: 20px;\n\n        &:last-child {\n          margin-right: 0;\n        }\n\n        .select-label-box {\n          margin-right: 4px;\n          font-size: 14px;\n        }\n      }\n\n      .date-picker-box {\n        display: flex;\n        align-items: center;\n\n        .date-picker-label-box {\n          margin-right: 6px;\n          color: #444;\n          font-size: 14px;\n        }\n      }\n\n      .refresh-box {\n        width: 90px;\n\n        :deep(.ant-checkbox-checked .ant-checkbox-inner) {\n          border-color: #1890ff;\n          background-color: #1890ff;\n        }\n\n        :deep(.ant-checkbox-checked::after) {\n          border-color: #1890ff;\n        }\n\n        :deep(\n            .ant-checkbox-wrapper:hover .ant-checkbox-inner,\n            .ant-checkbox:hover .ant-checkbox-inner,\n            .ant-checkbox-input:focus + .ant-checkbox-inner\n          ) {\n          border-color: #1890ff;\n        }\n      }\n\n      .right-row-box {\n        width: 100%;\n        height: calc(50% - 5px);\n        margin-bottom: 10px;\n        border-radius: 2px;\n\n        &:last-child {\n          margin-bottom: 0;\n        }\n\n        .table-title-left-box {\n          display: flex;\n          align-items: center;\n\n          .table-title-text {\n            margin-right: 30px;\n            font-size: 14px;\n          }\n        }\n\n        .data-table-box {\n          position: relative;\n\n          :deep(.vben-basic-table .ant-table-wrapper) {\n            padding: 9px 16px 10px;\n          }\n\n          :deep(.vben-basic-title.vben-basic-table-title) {\n            padding-left: 0;\n            font-size: 14px;\n          }\n\n          :deep(.ant-table-title) {\n            position: relative;\n            margin-bottom: 10px;\n          }\n\n          :deep(.table-settings) {\n            padding: 7px 0 1px;\n          }\n\n          :deep(.vben-basic-table-header__toolbar > .table-settings) {\n            margin-right: 0;\n          }\n\n          :deep(.table-settings > span:last-child) {\n            margin-right: 0;\n          }\n\n          .status-icon {\n            display: inline-block;\n            width: 12px;\n            height: 12px;\n            border-radius: 50%;\n\n            &.green {\n              background-color: #52c41a;\n            }\n          }\n\n          .table-title-line {\n            position: absolute;\n            z-index: 1;\n            top: 50px;\n            left: 0;\n            width: 100%;\n            height: 1px;\n          }\n\n          .operation-btn {\n            margin-top: -10px;\n            margin-right: 10px;\n\n            &:last-child {\n              margin-right: 0;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n"],"names":["taskRefreshID","createConfirm","useMessage","operationVisible","ref","useRouter","selectedStationId","stationTreeData","level","levelOptions","alarmType","esn","typeOptions","cardData","stationTreeRef","queryDeptTreeList","__async","result","getStationTree","handleSelect","nodes","loadAlarmCount","getAlarmsCount","checkKeys","item","error","handleCheck","keys","node","handleSearch","loadAlarmType","getDictDataMap","temp","_a","element","handleTypeChange","value","loadAlarmLevel","getAlarmLevels","handleLevelChange","handleDeviceType","dateRange","handleChangeDateRange","doConfirm","record","ids","checkedKeys","message","confirm","reload","columns","tableData","exportData","stationIdsStr","levelsStr","typesStr","param","exportExcel","res","exportExcelFile","handleReset","dialogVisible","dialogTitle","selectedDevice","handleOpenDeviceDialog","deviceItem","getYcData","getYxData","ycData","getRealTimeYc","yxData","yxTime","getRealTimeYx","searchInfo","getDataList","paginationRef","getPaginationRef","getAlarmPage","registerTable","reloadData","getDataSource","getSelectRows","useTable","onSelect","onSelectAll","sortInfo","selected","id","selectedRows","changeRows","changeIds","dealWorkOrder","selectId","row","selectedData","createWorkOrder","findDate","workOrderId","createFaultWorkOrder","saveWorkOrderId","addTabPage","toDroneInspection","form","toRaw","droneInspection","getDroneInspectionCode","data","billCode","formS","operationRemark","handleAdvice","handleWorkOrderDetail","getAction","button","btn","isAutoRefresh","refreshData","handleAutoRefresh","event","TaskExecutor","onMounted","nextTick"],"mappings":"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"}