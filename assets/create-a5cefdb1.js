var w=(P,f,h)=>new Promise((F,k)=>{var q=b=>{try{O(h.next(b))}catch(l){k(l)}},Z=b=>{try{O(h.throw(b))}catch(l){k(l)}},O=b=>b.done?F(b.value):Promise.resolve(b.value).then(q,Z);O((h=h.apply(P,f)).next())});import{d as Je,k as g,aD as Ze,r as Qe,o as Xe,al as y,Z as I,a9 as C,aa as t,$ as E,f as e,E as x,ad as U,u as c,ac as D,v as p,A as m,ag as W,J as ce,aG as ea,aH as aa}from"./vue-71d1abb3.js";import{b as ta,au as la,av as T,at as ae,ax as na,aC as sa,a7 as oa,aD as pe,bY as me,_ as ia}from"./index.js";import{B as V}from"./BasicTable-0434a334.js";import{T as H}from"./BasicForm.vue_vue_type_style_index_0_lang-1ba7be9e.js";import"./index-085d06c7.js";import{u as z}from"./useTable-109483b3.js";import{P as ua}from"./antd-15ac76ed.js";import{_ as K}from"./DictSelectBox.vue_vue_type_script_setup_true_lang-e03e9fe8.js";import{_ as ra}from"./UploadTable.vue_vue_type_script_setup_true_lang-5478923e.js";import{c as G,R as v,f as da,h as ca,i as J,j as pa,k as ma,l as ba,m as va,n as fa,o as ga}from"./vehicle.data-492931e8.js";import{a as R}from"./assign-37f1c13d.js";import"./useForm-dea3ed18.js";import"./uniqBy-92d3bc7f.js";import"./index-316f6ffb.js";import"./useWindowSizeFn-13b1b8a2.js";import"./index-f4fc48e6.js";import"./useTabs-2b062e85.js";import"./download-03e71dd5.js";import"./index-5d49b7a7.js";import"./SearchBox-22bb02d6.js";import"./UploadBox-636ecf02.js";import"./Dialog-0a006d82.js";import"./OrganDialog-dd1023ce.js";import"./sortable.esm-4ae27e0b.js";import"./dict-c04c0dd8.js";const _a=P=>(ea("data-v-2f0ede5e"),P=P(),aa(),P),ya={class:"load"},Ia={class:"process-box"},Ca={class:"header-box"},Na=_a(()=>E("div",{class:"header-left"},"车辆信息",-1)),Da={class:"header-right"},Sa={class:"content"},wa={id:"more-tab-content",class:"tab-table-div"},ka={class:"detail-upload-table"},Ta=Je({__name:"create",setup(P){const{t:f}=ta(),h=g(),F=g([]),{createMessage:k}=la(),{query:q}=Ze(),Z=g(!1),O=g(),b=g("1"),l=Qe({spinning:!1,status:1}),S=g(""),A=g({}),$=g([]),te=g(),le=g(),ne=g(),se=g(),oe=g(),i=g(!!q.isReadonly),B={bordered:!0,useSearchForm:!1,actionColumn:{width:140,title:f("common.operate"),dataIndex:"action",fixed:"right",ifShow:()=>!i.value},canResize:!1,pagination:!1,showTableSetting:!1,tableSetting:{fullScreen:!0}},be=R({dataSource:te,columns:G(v.INSURANCE,A),target:"#more-tab-content",targetTabKey:"1",targetTabValue:b},B),[ve,{getDataSource:fe}]=z(be),ge=R({dataSource:le,columns:G(v.ANNUAL_REVIEW,A),target:"#more-tab-content",targetTabKey:"2",targetTabValue:b},B),[_e,{getDataSource:ye}]=z(ge),Ie=R({dataSource:ne,columns:G(v.MAINTENANCE,A),target:"#more-tab-content",targetTabKey:"3",targetTabValue:b},B),[Ce,{getDataSource:Ne}]=z(Ie),De=R({dataSource:se,columns:G(v.REPAIR,A),target:"#more-tab-content",targetTabKey:"4",targetTabValue:b},B),[Se,{getDataSource:we}]=z(De),[ke]=z({dataSource:oe,columns:ma,pagination:!1,striped:!1,useSearchForm:!1,showTableSetting:!1,bordered:!0,showIndexColumn:!0,canResize:!1,target:"#more-tab-content",targetTabKey:"5",targetTabValue:b}),Te=()=>{X()};function ie(n){for(let a=0;a<n.length;a++){const u=n[a];u.value=u.id,u.label=u.name,u.disabled=u.orgKindId!=="psm",u.children&&u.children.length>0&&ie(u.children)}}const Re=()=>w(this,null,function*(){const n=yield ba({orgId:l.stationOrganId,orgKindIds:"ogn,dpt,pos,psm",showPosition:!0,status:1});ie(n.result);const a={data:n.result,tfields:{value:"value",label:"label",children:"children"}};me("OrgTreeOptions",a)});function Q(n){return n===v.INSURANCE?fe():n===v.ANNUAL_REVIEW?ye():n===v.MAINTENANCE?Ne():n===v.REPAIR?we():[]}function j(n){if(!l.id){ae.getInstance().warning("请先保存数据");return}if(S.value){ae.getInstance().warning("请保存行数据");return}const a=Q(n),u={editable:!0,isNew:!0,key:`${n}_${Date.now()}`};a.push(u),S.value=u.key}function Ee(){const n=`${f("common.action.create")}车辆检查`;na("/po/safety/vehicleexecution/create",n,{stationOrganId:l.stationOrganId,stationOrganName:l.stationOrganName,stationId:l.stationId,stationName:l.stationName})}function he(n){var a;S.value=n.key,(a=n.onEdit)==null||a.call(n,!0)}function Ae(n,a){var u;if(n.isNew&&!n.id){const d=Q(a),o=d.findIndex(r=>r.key===n.key);d.splice(o,1)}S.value="",A.value={},(u=n.onEdit)==null||u.call(n,!1,!1)}const xe=(n,a)=>w(this,null,function*(){var o;yield va(a,`?id=${n.id}`);const u=Q(a),d=u.findIndex(r=>r.key===n.key);u.splice(d,1),k.success("数据已删除"),(o=n.onEdit)==null||o.call(n,!1,!1)}),Ue=(n,a)=>w(this,null,function*(){var d,o;if(yield(d=n.onValid)==null?void 0:d.call(n))try{const r=ua(n.editValueRefs);R(r,ce(A.value)),r.id=n.id,r.vehicleId=l.id;const _=yield fa(a,r);(yield(o=n.onEdit)==null?void 0:o.call(n,!1,!0))&&(S.value="",A.value={}),R(n,_.result),k.success("数据已保存")}catch(r){k.error("保存失败")}else k.error("请填写正确的数据")});function Y(n,a){return n.editable?[{label:f("common.saveText"),onClick:Ue.bind(null,n,a)},{label:f("common.cancelText"),icon:T.DELETE,danger:!0,popConfirm:{title:`是否取消${f("common.action.edit")}`,confirm:Ae.bind(null,n,a)}}]:[{label:f("common.action.update"),icon:T.EDIT,disabled:S.value?S.value!==n.key:!1,onClick:he.bind(null,n)},{label:f("common.delText"),icon:T.DELETE,disabled:S.value?S.value!==n.key:!1,danger:!0,popConfirm:{title:"是否确认删除",confirm:xe.bind(null,n,a)}}]}const ue=()=>{sa(),oa.getInstance().sendMsg("integrated-vehicle",{})},Pe=()=>{O.value.validate().then(()=>{const n=h.value.validate();if(!(n!=null&&n.valid)){k.error("请上传附件资料");return}qe()}).catch(n=>{console.log("onSubmit=》error",n)})},qe=()=>w(this,null,function*(){l.spinning=!0;try{Ke(["Id","Name"]);const n=ce(l);yield da(n).then(a=>{l.id=a.result,ae.getInstance().success(f("common.saveSuccessText"))}),setTimeout(function(){ue()},200)}finally{l.spinning=!1}});function Oe(){ga("?stationId="+l.stationId).then(n=>{if(n.result&&n.result.length>0){n.result.forEach(u=>{$.value.push({value:u.userId,label:u.name})});const a={data:$.value,tfields:{value:"value",label:"label"}};me("StationPersonTreeSelectOptions",a)}})}const Le=()=>w(this,null,function*(){if(R(l,q),q.id){const n=yield ca({id:q.id});R(l,n.result),Fe(["Id","Name"])}else l.bizFileId=pe()}),Me=()=>w(this,null,function*(){const n={vehicleId:l.id},a=yield J(v.INSURANCE,n);te.value=a.result;const u=yield J(v.ANNUAL_REVIEW,n);le.value=u.result;const d=yield J(v.MAINTENANCE,n);ne.value=d.result;const o=yield J(v.REPAIR,n);se.value=o.result,X()}),X=()=>w(this,null,function*(){const n=yield pa({stationId:l.stationId,plateNumber:l.plateNumber?l.plateNumber:"-null-",pageNo:1,pageSize:100});oe.value=n.result.list});function Ve(n){n==5&&X()}function ze(){Re(),Oe()}function Ke(n){n.forEach(a=>{g(["responsiblePerson"]).value.forEach(d=>{const o=l[d+a+"s"];o&&o.length>0&&(l[d+a]=o.join(","))})})}function Fe(n){n.forEach(a=>{g(["responsiblePerson"]).value.forEach(d=>{const o=l[d+a];o&&(l[d+a+"s"]=o.split(","))})})}const $e=()=>{l.bizFileId||(l.bizFileId=pe()),F.value=[{fileKindId:"picture",filetype:"车辆图片",bizId:l.bizFileId,maxCount:1,maxSize:20*1024*1024,required:!0,readonly:i.value,format:"png,jpg,jpeg"},{fileKindId:"archive",filetype:"车辆档案",bizId:l.bizFileId,maxCount:20,maxSize:20*1024*1024,required:!1,readonly:i.value}]};return Xe(()=>w(this,null,function*(){yield Le(),yield ze(),Me(),$e()})),(n,a)=>{const u=y("a-button"),d=y("a-input"),o=y("a-form-item"),r=y("a-col"),_=y("a-row"),L=y("a-input-number"),re=y("a-date-picker"),de=y("a-select"),Be=y("a-textarea"),ee=y("a-card"),je=y("a-form"),M=y("a-tab-pane"),Ye=y("a-tabs"),We=y("a-spin"),He=y("PageWrapper");return I(),C(He,{detail:!0,dense:"",contentFullHeight:"",fixedHeight:"",contentClass:"fix-detail-page",style:{position:"relative"}},{default:t(()=>[E("div",ya,[e(We,{spinning:l.spinning,tip:"Loading..."},{default:t(()=>[E("div",Ia,[E("div",Ca,[Na,E("div",Da,[i.value?D("",!0):(I(),C(u,{key:0,onClick:ue},{default:t(()=>[x(U(c(f)("common.cancelText")),1)]),_:1})),i.value?D("",!0):(I(),C(u,{key:1,class:"!ml-4",type:"primary",onClick:Pe,loading:Z.value},{default:t(()=>[x(U(c(f)("common.saveText")),1)]),_:1},8,["loading"]))])]),E("div",Sa,[e(je,{ref_key:"formRef",ref:O,model:l,labelAlign:"right",autocomplete:"off"},{default:t(()=>[e(ee,{title:"基本信息",bordered:!1},{default:t(()=>[e(_,{gutter:32},{default:t(()=>[p(e(r,{span:12},{default:t(()=>[e(o,{name:"stationName",label:"归属电站",labelCol:{class:"detail-label"}},{default:t(()=>[e(d,{disabled:"",value:l.stationName,"onUpdate:value":a[0]||(a[0]=s=>l.stationName=s)},null,8,["value"])]),_:1})]),_:1},512),[[m,!0]]),p(e(r,{span:12},{default:t(()=>[e(o,{name:"vehicleNo",label:"车辆编号",labelCol:{class:"detail-label"}},{default:t(()=>[e(d,{disabled:"",value:l.vehicleNo,"onUpdate:value":a[1]||(a[1]=s=>l.vehicleNo=s)},null,8,["value"])]),_:1})]),_:1},512),[[m,!0]])]),_:1}),e(_,{gutter:32},{default:t(()=>[p(e(r,{span:12},{default:t(()=>[e(o,{name:"plateNumber",label:"车牌号",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请输入车牌号"}]},{default:t(()=>[e(d,{disabled:i.value,value:l.plateNumber,"onUpdate:value":a[2]||(a[2]=s=>l.plateNumber=s),maxlength:30,onBlur:Te},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]]),p(e(r,{span:12},{default:t(()=>[e(o,{name:"vehicleType",label:"车辆类型",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请选择车辆类型"}]},{default:t(()=>[e(K,{disabled:i.value,type:"vehicle_type",value:l.vehicleType,"onUpdate:value":a[3]||(a[3]=s=>l.vehicleType=s)},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]])]),_:1}),e(_,{gutter:32},{default:t(()=>[p(e(r,{span:12},{default:t(()=>[e(o,{name:"identificationCode",label:"识别代码",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请输入识别代码"}]},{default:t(()=>[e(d,{disabled:i.value,value:l.identificationCode,"onUpdate:value":a[4]||(a[4]=s=>l.identificationCode=s),maxlength:30},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]]),p(e(r,{span:12},{default:t(()=>[e(o,{name:"engineCode",label:"发动机号",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请输入发动机号"}]},{default:t(()=>[e(d,{disabled:i.value,value:l.engineCode,"onUpdate:value":a[5]||(a[5]=s=>l.engineCode=s),maxlength:30},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]])]),_:1}),e(_,{gutter:32},{default:t(()=>[p(e(r,{span:12},{default:t(()=>[e(o,{name:"brand",label:"品牌",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请输入品牌"}]},{default:t(()=>[e(d,{disabled:i.value,value:l.brand,"onUpdate:value":a[6]||(a[6]=s=>l.brand=s),maxlength:30},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]]),p(e(r,{span:12},{default:t(()=>[e(o,{name:"model",label:"型号",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请输入型号"}]},{default:t(()=>[e(d,{disabled:i.value,value:l.model,"onUpdate:value":a[7]||(a[7]=s=>l.model=s),maxlength:30},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]])]),_:1}),e(_,{gutter:32},{default:t(()=>[p(e(r,{span:12},{default:t(()=>[e(o,{name:"factory",label:"生产厂家",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请输入生产厂家"}]},{default:t(()=>[e(d,{disabled:i.value,value:l.factory,"onUpdate:value":a[8]||(a[8]=s=>l.factory=s),maxlength:100},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]]),p(e(r,{span:12},{default:t(()=>[e(o,{name:"colour",label:"车身颜色",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请输入车身颜色"}]},{default:t(()=>[e(d,{disabled:i.value,value:l.colour,"onUpdate:value":a[9]||(a[9]=s=>l.colour=s),maxlength:30},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]])]),_:1}),e(_,{gutter:32},{default:t(()=>[p(e(r,{span:12},{default:t(()=>[e(o,{name:"size",label:"外形尺寸",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请输入外形尺寸"}]},{default:t(()=>[e(d,{disabled:i.value,value:l.size,"onUpdate:value":a[10]||(a[10]=s=>l.size=s),maxlength:20},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]]),p(e(r,{span:12},{default:t(()=>[e(o,{name:"structureFeature",label:"结构特点",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请选择结构特点"}]},{default:t(()=>[e(K,{disabled:i.value,type:"structural_feature",value:l.structureFeature,"onUpdate:value":a[11]||(a[11]=s=>l.structureFeature=s)},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]])]),_:1}),e(_,{gutter:32},{default:t(()=>[p(e(r,{span:12},{default:t(()=>[e(o,{name:"fuelType",label:"燃油类型",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请选择燃油类型"}]},{default:t(()=>[e(K,{disabled:i.value,type:"fuel_type",value:l.fuelType,"onUpdate:value":a[12]||(a[12]=s=>l.fuelType=s)},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]]),p(e(r,{span:12},{default:t(()=>[e(o,{name:"displacement",label:"排量(L)",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请输入排量(L)"}]},{default:t(()=>[e(L,{disabled:i.value,value:l.displacement,"onUpdate:value":a[13]||(a[13]=s=>l.displacement=s),min:.1,max:99.9,precision:1},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]])]),_:1}),e(_,{gutter:32},{default:t(()=>[p(e(r,{span:12},{default:t(()=>[e(o,{name:"approvedLoadCount",label:"核定载人数(人)",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请输入核定载人数(人)"}]},{default:t(()=>[e(L,{disabled:i.value,value:l.approvedLoadCount,"onUpdate:value":a[14]||(a[14]=s=>l.approvedLoadCount=s),min:1,max:100},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]]),p(e(r,{span:12},{default:t(()=>[e(o,{name:"isBimotored",label:"是否双发动机",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请选择是否双发动机"}]},{default:t(()=>[e(K,{disabled:i.value,type:"yes_or_no",value:l.isBimotored,"onUpdate:value":a[15]||(a[15]=s=>l.isBimotored=s)},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]])]),_:1}),e(_,{gutter:32},{default:t(()=>[p(e(r,{span:12},{default:t(()=>[e(o,{name:"weight",label:"总重量(kg)",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请输入总重量(kg)"}]},{default:t(()=>[e(L,{disabled:i.value,value:l.weight,"onUpdate:value":a[16]||(a[16]=s=>l.weight=s),min:1,max:9999,precision:0},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]]),p(e(r,{span:12},{default:t(()=>[e(o,{label:"购买日期",name:"purchaseDate",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请选择购买日期"}]},{default:t(()=>[e(re,{disabled:i.value,value:l.purchaseDate,"onUpdate:value":a[17]||(a[17]=s=>l.purchaseDate=s),style:{width:"100%"},"value-format":"YYYY-MM-DD"},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]])]),_:1}),e(_,{gutter:32},{default:t(()=>[p(e(r,{span:12},{default:t(()=>[e(o,{label:"发证日期",name:"registerDate",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请选择发证日期"}]},{default:t(()=>[e(re,{disabled:i.value,value:l.registerDate,"onUpdate:value":a[18]||(a[18]=s=>l.registerDate=s),style:{width:"100%"},"value-format":"YYYY-MM-DD"},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]]),p(e(r,{span:12},{default:t(()=>[e(o,{name:"emissionLevel",label:"排放标准",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请选择排放标准"}]},{default:t(()=>[e(K,{disabled:i.value,type:"emission_standard",value:l.emissionLevel,"onUpdate:value":a[19]||(a[19]=s=>l.emissionLevel=s)},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]])]),_:1}),e(_,{gutter:32},{default:t(()=>[p(e(r,{span:12},{default:t(()=>[e(o,{name:"headerId",label:"车辆负责人",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请选择车辆负责人"}]},{default:t(()=>[e(de,{disabled:i.value,value:l.headerId,"onUpdate:value":a[20]||(a[20]=s=>l.headerId=s),"show-search":"","allow-clear":"",style:{width:"100%"},options:$.value,onChange:a[21]||(a[21]=(s,N)=>l.header=N.label)},null,8,["disabled","value","options"])]),_:1})]),_:1},512),[[m,!0]]),p(e(r,{span:12},{default:t(()=>[e(o,{name:"price",label:"车价(元)",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请输入车价(元)"}]},{default:t(()=>[e(L,{disabled:i.value,value:l.price,"onUpdate:value":a[22]||(a[22]=s=>l.price=s),min:1,max:99999999999e-2,precision:2},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]])]),_:1}),e(_,{gutter:32},{default:t(()=>[p(e(r,{span:12},{default:t(()=>[e(o,{name:"responsiblePersonIds",label:"指定驾驶员",labelCol:{class:"detail-label"},rules:[{required:!0,message:"请选择指定驾驶员"}]},{default:t(()=>[e(de,{disabled:i.value,value:l.responsiblePersonIds,"onUpdate:value":a[23]||(a[23]=s=>l.responsiblePersonIds=s),"show-search":"","allow-clear":"",mode:"multiple",style:{width:"100%"},options:$.value,onChange:a[24]||(a[24]=(s,N)=>l.responsiblePersonNames=N.map(Ge=>Ge.label))},null,8,["disabled","value","options"])]),_:1})]),_:1},512),[[m,!0]])]),_:1}),e(_,{gutter:32},{default:t(()=>[p(e(r,{span:24},{default:t(()=>[e(o,{name:"remark",label:"备注",labelCol:{class:"detail-label"}},{default:t(()=>[e(Be,{disabled:i.value,value:l.remark,"onUpdate:value":a[25]||(a[25]=s=>l.remark=s),row:"4",maxlength:256},null,8,["disabled","value"])]),_:1})]),_:1},512),[[m,!0]])]),_:1})]),_:1})]),_:1},8,["model"]),e(ee,{title:"",bordered:!1},{default:t(()=>[E("div",wa,[e(Ye,{activeKey:b.value,"onUpdate:activeKey":a[30]||(a[30]=s=>b.value=s),onChange:Ve},{default:t(()=>[e(M,{class:"tab-pane-table",key:"1",tab:"保险记录"},{default:t(()=>[e(c(V),{onRegister:c(ve)},W({toolbar:t(()=>[!i.value&&b.value==="1"?(I(),C(u,{key:0,type:"primary",preIcon:c(T).ADD,onClick:a[26]||(a[26]=s=>j(v.INSURANCE))},{default:t(()=>[x(U(c(f)("common.action.create")),1)]),_:1},8,["preIcon"])):D("",!0)]),_:2},[i.value?void 0:{name:"bodyCell",fn:t(({column:s,record:N})=>[s.key==="action"?(I(),C(c(H),{key:0,actions:Y(N,v.INSURANCE)},null,8,["actions"])):D("",!0)]),key:"0"}]),1032,["onRegister"])]),_:1}),e(M,{class:"tab-pane-table",key:"2",tab:"年检记录","force-render":""},{default:t(()=>[e(c(V),{onRegister:c(_e)},W({toolbar:t(()=>[!i.value&&b.value==="2"?(I(),C(u,{key:0,type:"primary",preIcon:c(T).ADD,onClick:a[27]||(a[27]=s=>j(v.ANNUAL_REVIEW))},{default:t(()=>[x(U(c(f)("common.action.create")),1)]),_:1},8,["preIcon"])):D("",!0)]),_:2},[i.value?void 0:{name:"bodyCell",fn:t(({column:s,record:N})=>[s.key==="action"?(I(),C(c(H),{key:0,actions:Y(N,v.ANNUAL_REVIEW)},null,8,["actions"])):D("",!0)]),key:"0"}]),1032,["onRegister"])]),_:1}),e(M,{class:"tab-pane-table",key:"3",tab:"保养记录","force-render":""},{default:t(()=>[e(c(V),{onRegister:c(Ce)},W({toolbar:t(()=>[!i.value&&b.value==="3"?(I(),C(u,{key:0,type:"primary",preIcon:c(T).ADD,onClick:a[28]||(a[28]=s=>j(v.MAINTENANCE))},{default:t(()=>[x(U(c(f)("common.action.create")),1)]),_:1},8,["preIcon"])):D("",!0)]),_:2},[i.value?void 0:{name:"bodyCell",fn:t(({column:s,record:N})=>[s.key==="action"?(I(),C(c(H),{key:0,actions:Y(N,v.MAINTENANCE)},null,8,["actions"])):D("",!0)]),key:"0"}]),1032,["onRegister"])]),_:1}),e(M,{class:"tab-pane-table",key:"4",tab:"维修记录","force-render":""},{default:t(()=>[e(c(V),{onRegister:c(Se)},W({toolbar:t(()=>[!i.value&&b.value==="4"?(I(),C(u,{key:0,type:"primary",preIcon:c(T).ADD,onClick:a[29]||(a[29]=s=>j(v.REPAIR))},{default:t(()=>[x(U(c(f)("common.action.create")),1)]),_:1},8,["preIcon"])):D("",!0)]),_:2},[i.value?void 0:{name:"bodyCell",fn:t(({column:s,record:N})=>[s.key==="action"?(I(),C(c(H),{key:0,actions:Y(N,v.REPAIR)},null,8,["actions"])):D("",!0)]),key:"0"}]),1032,["onRegister"])]),_:1}),e(M,{class:"tab-pane-table",key:"5",tab:"安全检查记录","force-render":""},{default:t(()=>[e(c(V),{onRegister:c(ke)},{toolbar:t(()=>[!i.value&&b.value==="5"?(I(),C(u,{key:0,type:"primary",preIcon:c(T).ADD,onClick:Ee},{default:t(()=>[x(U(c(f)("common.action.create")),1)]),_:1},8,["preIcon"])):D("",!0)]),_:1},8,["onRegister"])]),_:1})]),_:1},8,["activeKey"])])]),_:1}),e(ee,{title:"附件资料",bordered:!1},{default:t(()=>[E("div",ka,[e(ra,{ref_key:"uploadTable",ref:h,rows:F.value,colwidths:["15%","70%","15%"],application:"po",module:"vehicle",mode:i.value?"view":"normal"},null,8,["rows","mode"])])]),_:1})])])]),_:1},8,["spinning"])])]),_:1})}}});const et=ia(Ta,[["__scopeId","data-v-2f0ede5e"]]);export{et as default};
//# sourceMappingURL=create-a5cefdb1.js.map
