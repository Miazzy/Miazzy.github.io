import{T as d}from"./BasicForm.vue_vue_type_style_index_0_lang-1ba7be9e.js";import{b as p,a7 as l,av as u,ax as f}from"./index.js";import"./antd-15ac76ed.js";import"./index-316f6ffb.js";import"./index-085d06c7.js";import{u as h}from"./useRender-21ce56fb.js";import{B as I}from"./BasicTable-0434a334.js";import{u as b}from"./useTable-109483b3.js";import{g}from"./index-c0893416.js";import{d as k,o as x,Z as a,_ as T,f as w,aa as C,a9 as _,u as t,ac as D}from"./vue-71d1abb3.js";import"./index-f4fc48e6.js";import"./useTabs-2b062e85.js";import"./download-03e71dd5.js";import"./index-5d49b7a7.js";import"./SearchBox-22bb02d6.js";import"./UploadBox-636ecf02.js";import"./Dialog-0a006d82.js";import"./DictSelectBox.vue_vue_type_script_setup_true_lang-e03e9fe8.js";import"./OrganDialog-dd1023ce.js";import"./useWindowSizeFn-13b1b8a2.js";import"./sortable.esm-4ae27e0b.js";import"./dict-c04c0dd8.js";import"./useForm-dea3ed18.js";import"./uniqBy-92d3bc7f.js";const R=[{label:"单据编号",field:"businessCode",component:"Input",colProps:{span:8}},{label:"创建时间",field:"[startDate, endDate]",component:"RangePicker",componentProps:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD",placeholder:["开始日期","结束日期"]},colProps:{span:8}}],P=[{title:"单据编号",dataIndex:"businessCode",width:150},{title:"标题",dataIndex:"description",width:200},{title:"流程名称",dataIndex:"processInstance.name",width:200,customRender:({record:e})=>e.processInstance.name},{title:"申请部门",dataIndex:"deptName",width:100,customRender:({record:e})=>e.processInstance.deptName},{title:"申请人",dataIndex:"startUserNickname",width:100,customRender:({record:e})=>e.processInstance.startUserNickname},{title:"申请时间",dataIndex:"createTime",width:200,customRender:({text:e})=>h.renderDate(e)}],X=k({name:"BpmToDoTask",__name:"index",setup(e){const{t:n}=p(),[r,{reload:s}]=b({title:"待办任务",api:g,columns:P,formConfig:{labelWidth:120,schemas:R},useSearchForm:!0,showTableSetting:!0,bordered:!0,actionColumn:{width:140,title:n("common.operate"),dataIndex:"action",fixed:"right"}}),i=o=>{f(`${o.bpmProcessDefinitionRespVO.formCustomViewPath}?processInstanceId=${o.processInstance.id}`)};return x(()=>{l.getInstance().listen("workflow-task-done",()=>{setTimeout(()=>{s()},500)})}),(o,Y)=>(a(),T("div",null,[w(t(I),{onRegister:t(r)},{bodyCell:C(({column:m,record:c})=>[m.key==="action"?(a(),_(t(d),{key:0,actions:[{icon:t(u).VIEW,label:"审批进度",onClick:i.bind(null,c)}]},null,8,["actions"])):D("",!0)]),_:1},8,["onRegister"])]))}});export{X as default};
//# sourceMappingURL=index-2367ee65.js.map
