{"version":3,"file":"BasicForm.vue_vue_type_style_index_0_lang-1ba7be9e.js","sources":["../../src/components/Form/src/components/ApiRadioGroup.vue","../../src/components/Form/src/components/RadioButtonGroup.vue","../../src/components/Form/src/components/ApiSelect.vue","../../src/components/Form/src/components/ApiTree.vue","../../src/components/Form/src/components/ApiTreeSelect.vue","../../src/components/Form/src/components/ApiCascader.vue","../../src/components/Form/src/components/ApiTransfer.vue","../../src/components/Upload/src/props.ts","../../src/components/Upload/src/useUpload.ts","../../src/components/Upload/src/typing.ts","../../src/components/Upload/src/helper.ts","../../src/components/Table/src/hooks/useTableContext.ts","../../src/hooks/web/usePermission.ts","../../src/components/Table/src/const.ts","../../src/components/Table/src/components/TableAction.vue","../../src/components/Upload/src/ThumbUrl.vue","../../src/components/Upload/src/data.tsx","../../src/components/Upload/src/FileList.vue","../../src/components/Upload/src/UploadModal.vue","../../src/components/Upload/src/UploadPreviewModal.vue","../../src/components/Upload/src/BasicUpload.vue","../../src/components/Upload/index.ts","../../src/components/Framework/Combox/TreeBox.vue","../../src/components/Framework/Combox/SelectBox.vue","../../src/components/Framework/Combox/CascaderBox.vue","../../src/components/Framework/Combox/TreeSelectBox.vue","../../src/components/Framework/Radio/DictRadioGroup.vue","../../src/components/Framework/Modal/CategoryDialog.vue","../../src/components/Form/src/componentMap.ts","../../src/components/Form/src/helper.ts","../../src/components/Form/src/hooks/useFormContext.ts","../../src/components/Form/src/components/FormAction.vue","../../src/components/Form/src/props.ts"],"sourcesContent":["<!--\n * @Description:It is troublesome to implement radio button group in the form. So it is extracted independently as a separate component\n-->\n<template>\n  <RadioGroup v-bind=\"attrs\" v-model:value=\"state\" button-style=\"solid\">\n    <template v-for=\"item in getOptions\" :key=\"`${item.value}`\">\n      <RadioButton\n        v-if=\"props.isBtn\"\n        :value=\"item.value\"\n        :disabled=\"item.disabled\"\n        @click=\"handleClick(item)\"\n      >\n        {{ item.label }}\n      </RadioButton>\n      <Radio v-else :value=\"item.value\" :disabled=\"item.disabled\" @click=\"handleClick(item)\">\n        {{ item.label }}\n      </Radio>\n    </template>\n  </RadioGroup>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, type PropType, ref, watchEffect, computed, unref, watch } from 'vue';\n  import { Radio } from 'ant-design-vue';\n  import { isFunction } from '/@/utils/is';\n  import { useRuleFormItem } from '/@/hooks/component/useFormItem';\n  import { useAttrs } from '@vben/hooks';\n  import { propTypes } from '/@/utils/propTypes';\n  import { get, omit } from 'lodash-es';\n  import { useI18n } from '/@/hooks/web/useI18n';\n\n  type OptionsItem = { label: string; value: string | number | boolean; disabled?: boolean };\n\n  export default defineComponent({\n    name: 'ApiRadioGroup',\n    components: {\n      RadioGroup: Radio.Group,\n      RadioButton: Radio.Button,\n      Radio,\n    },\n    props: {\n      api: {\n        type: Function as PropType<(arg?: any | string) => Promise<OptionsItem[]>>,\n        default: null,\n      },\n      params: {\n        type: [Object, String] as PropType<any | string>,\n        default: () => ({}),\n      },\n      value: {\n        type: [String, Number, Boolean] as PropType<string | number | boolean>,\n      },\n      isBtn: {\n        type: [Boolean] as PropType<boolean>,\n        default: false,\n      },\n      numberToString: propTypes.bool,\n      resultField: propTypes.string.def(''),\n      labelField: propTypes.string.def('label'),\n      valueField: propTypes.string.def('value'),\n      immediate: propTypes.bool.def(true),\n    },\n    emits: ['options-change', 'change'],\n    setup(props, { emit }) {\n      const options = ref<OptionsItem[]>([]);\n      const loading = ref(false);\n      const isFirstLoad = ref(true);\n      const emitData = ref<any[]>([]);\n      const attrs = useAttrs();\n      const { t } = useI18n();\n      // Embedded in the form, just use the hook binding to perform form verification\n      const [state] = useRuleFormItem(props, 'value', 'change', emitData);\n\n      // Processing options value\n      const getOptions = computed(() => {\n        const { labelField, valueField, numberToString } = props;\n\n        return unref(options).reduce((prev, next: any) => {\n          if (next) {\n            const value = next[valueField];\n            prev.push({\n              label: next[labelField],\n              value: numberToString ? `${value}` : value,\n              ...omit(next, [labelField, valueField]),\n            });\n          }\n          return prev;\n        }, [] as OptionsItem[]);\n      });\n\n      watchEffect(() => {\n        props.immediate && fetch();\n      });\n\n      watch(\n        () => props.params,\n        () => {\n          !unref(isFirstLoad) && fetch();\n        },\n        { deep: true },\n      );\n\n      async function fetch() {\n        const api = props.api;\n        if (!api || !isFunction(api)) return;\n        options.value = [];\n        try {\n          loading.value = true;\n          const res = await api(props.params);\n          if (Array.isArray(res)) {\n            options.value = res;\n            emitChange();\n            return;\n          }\n          if (props.resultField) {\n            options.value = get(res, props.resultField) || [];\n          }\n          emitChange();\n        } catch (error) {\n          console.warn(error);\n        } finally {\n          loading.value = false;\n        }\n      }\n\n      function emitChange() {\n        emit('options-change', unref(getOptions));\n      }\n\n      function handleClick(...args) {\n        emitData.value = args;\n      }\n\n      return { state, getOptions, attrs, loading, t, handleClick, props };\n    },\n  });\n</script>\n","<!--\n * @Description:It is troublesome to implement radio button group in the form. So it is extracted independently as a separate component\n-->\n<template>\n  <RadioGroup v-bind=\"attrs\" v-model:value=\"state\" button-style=\"solid\">\n    <template v-for=\"item in getOptions\" :key=\"`${item.value}`\">\n      <RadioButton :value=\"item.value\" :disabled=\"item.disabled\" @click=\"handleClick(item)\">\n        {{ item.label }}\n      </RadioButton>\n    </template>\n  </RadioGroup>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, PropType, computed, ref } from 'vue';\n  import { Radio } from 'ant-design-vue';\n  import { isString } from '/@/utils/is';\n  import { useRuleFormItem } from '/@/hooks/component/useFormItem';\n  import { useAttrs } from '@vben/hooks';\n\n  type OptionsItem = { label: string; value: string | number | boolean; disabled?: boolean };\n  type RadioItem = string | OptionsItem;\n\n  export default defineComponent({\n    name: 'RadioButtonGroup',\n    components: {\n      RadioGroup: Radio.Group,\n      RadioButton: Radio.Button,\n    },\n    props: {\n      value: {\n        type: [String, Number, Boolean] as PropType<string | number | boolean>,\n      },\n      options: {\n        type: Array as PropType<RadioItem[]>,\n        default: () => [],\n      },\n    },\n    emits: ['change'],\n    setup(props) {\n      const attrs = useAttrs();\n      const emitData = ref<any[]>([]);\n      // Embedded in the form, just use the hook binding to perform form verification\n      const [state] = useRuleFormItem(props, 'value', 'change', emitData);\n\n      // Processing options value\n      const getOptions = computed((): OptionsItem[] => {\n        const { options } = props;\n        if (!options || options?.length === 0) return [];\n\n        const isStringArr = options.some((item) => isString(item));\n        if (!isStringArr) return options as OptionsItem[];\n\n        return options.map((item) => ({ label: item, value: item })) as OptionsItem[];\n      });\n\n      function handleClick(...args) {\n        emitData.value = args;\n      }\n\n      return { state, getOptions, attrs, handleClick };\n    },\n  });\n</script>\n","<template>\n  <Select\n    @dropdown-visible-change=\"handleFetch\"\n    v-bind=\"$attrs\"\n    @change=\"handleChange\"\n    :options=\"getOptions\"\n    v-model:value=\"state\"\n  >\n    <template #[item]=\"data\" v-for=\"item in Object.keys($slots)\">\n      <slot :name=\"item\" v-bind=\"data || {}\"></slot>\n    </template>\n    <template #suffixIcon v-if=\"loading\">\n      <LoadingOutlined spin />\n    </template>\n    <template #notFoundContent v-if=\"loading\">\n      <span>\n        <LoadingOutlined spin class=\"mr-1\" />\n        {{ t('component.form.apiSelectNotFound') }}\n      </span>\n    </template>\n  </Select>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, PropType, ref, watchEffect, computed, unref, watch } from 'vue';\n  import { Select } from 'ant-design-vue';\n  import { isFunction } from '/@/utils/is';\n  import { useRuleFormItem } from '/@/hooks/component/useFormItem';\n  import { useAttrs } from '@vben/hooks';\n  import { get, omit } from 'lodash-es';\n  import { LoadingOutlined } from '@ant-design/icons-vue';\n  import { useI18n } from '/@/hooks/web/useI18n';\n  import { propTypes } from '/@/utils/propTypes';\n\n  type OptionsItem = { label: string; value: string; disabled?: boolean };\n\n  export default defineComponent({\n    name: 'ApiSelect',\n    components: {\n      Select,\n      LoadingOutlined,\n    },\n    inheritAttrs: false,\n    props: {\n      value: [Array, Object, String, Number],\n      numberToString: propTypes.bool,\n      api: {\n        type: Function as PropType<(arg?: any) => Promise<OptionsItem[]>>,\n        default: null,\n      },\n      // api params\n      params: propTypes.any.def({}),\n      // support xxx.xxx.xx\n      resultField: propTypes.string.def(''),\n      labelField: propTypes.string.def('label'),\n      valueField: propTypes.string.def('value'),\n      immediate: propTypes.bool.def(true),\n      alwaysLoad: propTypes.bool.def(false),\n      options: propTypes.array.def([]),\n    },\n    emits: ['options-change', 'change', 'update:value'],\n    setup(props, { emit }) {\n      const options = ref<OptionsItem[]>([]);\n      const loading = ref(false);\n      const isFirstLoad = ref(true);\n      const emitData = ref<any[]>([]);\n      const attrs = useAttrs();\n      const { t } = useI18n();\n\n      // Embedded in the form, just use the hook binding to perform form verification\n      const [state] = useRuleFormItem(props, 'value', 'change', emitData);\n\n      const getOptions = computed(() => {\n        const { labelField, valueField, numberToString } = props;\n\n        let data = unref(options).reduce((prev, next: any) => {\n          if (next) {\n            const value = get(next, valueField);\n            prev.push({\n              ...omit(next, [labelField, valueField]),\n              label: get(next, labelField),\n              value: numberToString ? `${value}` : value,\n            });\n          }\n          return prev;\n        }, [] as OptionsItem[]);\n        return data.length > 0 ? data : props.options;\n      });\n\n      watchEffect(() => {\n        props.immediate && !props.alwaysLoad && fetch();\n      });\n\n      watch(\n        () => state.value,\n        (v) => {\n          emit('update:value', v);\n        },\n      );\n\n      watch(\n        () => props.params,\n        () => {\n          !unref(isFirstLoad) && fetch();\n        },\n        { deep: true },\n      );\n\n      async function fetch() {\n        const api = props.api;\n        if (!api || !isFunction(api)) return;\n        options.value = [];\n        try {\n          loading.value = true;\n          const res = await api(props.params);\n          if (Array.isArray(res)) {\n            options.value = res;\n            emitChange();\n            return;\n          }\n          if (props.resultField) {\n            options.value = get(res, props.resultField) || [];\n          }\n          emitChange();\n        } catch (error) {\n          console.warn(error);\n        } finally {\n          loading.value = false;\n        }\n      }\n\n      async function handleFetch(visible) {\n        if (visible) {\n          if (props.alwaysLoad) {\n            await fetch();\n          } else if (!props.immediate && unref(isFirstLoad)) {\n            await fetch();\n            isFirstLoad.value = false;\n          }\n        }\n      }\n\n      function emitChange() {\n        emit('options-change', unref(getOptions));\n      }\n\n      function handleChange(_, ...args) {\n        emitData.value = args;\n      }\n\n      return { state, attrs, getOptions, loading, t, handleFetch, handleChange };\n    },\n  });\n</script>\n","<template>\n  <a-tree v-bind=\"getAttrs\" @change=\"handleChange\">\n    <template #[item]=\"data\" v-for=\"item in Object.keys($slots)\">\n      <slot :name=\"item\" v-bind=\"data || {}\"></slot>\n    </template>\n    <template #suffixIcon v-if=\"loading\">\n      <LoadingOutlined spin />\n    </template>\n  </a-tree>\n</template>\n\n<script lang=\"ts\">\n  import { type Recordable, type AnyFunction } from '@vben/types';\n  import { type PropType, computed, defineComponent, watch, ref, onMounted, unref } from 'vue';\n  import { Tree } from 'ant-design-vue';\n  import { isArray, isFunction } from '/@/utils/is';\n  import { get } from 'lodash-es';\n  import { propTypes } from '/@/utils/propTypes';\n  import { LoadingOutlined } from '@ant-design/icons-vue';\n\n  export default defineComponent({\n    name: 'ApiTree',\n    components: { ATree: Tree, LoadingOutlined },\n    props: {\n      api: { type: Function as PropType<(arg?: Recordable<any>) => Promise<Recordable<any>>> },\n      params: { type: Object },\n      immediate: { type: Boolean, default: true },\n      resultField: propTypes.string.def(''),\n      afterFetch: { type: Function as PropType<AnyFunction> },\n    },\n    emits: ['options-change', 'change'],\n    setup(props, { attrs, emit }) {\n      const treeData = ref<Recordable<any>[]>([]);\n      const isFirstLoaded = ref<Boolean>(false);\n      const loading = ref(false);\n      const getAttrs = computed(() => {\n        return {\n          ...(props.api ? { treeData: unref(treeData) } : {}),\n          ...attrs,\n        };\n      });\n\n      function handleChange(...args) {\n        emit('change', ...args);\n      }\n\n      watch(\n        () => props.params,\n        () => {\n          !unref(isFirstLoaded) && fetch();\n        },\n        { deep: true },\n      );\n\n      watch(\n        () => props.immediate,\n        (v) => {\n          v && !isFirstLoaded.value && fetch();\n        },\n      );\n\n      onMounted(() => {\n        props.immediate && fetch();\n      });\n\n      async function fetch() {\n        const { api, afterFetch } = props;\n        if (!api || !isFunction(api)) return;\n        loading.value = true;\n        treeData.value = [];\n        let result;\n        try {\n          result = await api(props.params);\n        } catch (e) {\n          console.error(e);\n        }\n        if (afterFetch && isFunction(afterFetch)) {\n          result = afterFetch(result);\n        }\n        loading.value = false;\n        if (!result) return;\n        if (!isArray(result)) {\n          result = get(result, props.resultField);\n        }\n        treeData.value = (result as Recordable<any>[]) || [];\n        isFirstLoaded.value = true;\n        emit('options-change', treeData.value);\n      }\n      return { getAttrs, loading, handleChange };\n    },\n  });\n</script>\n","<template>\n  <a-tree-select v-bind=\"getAttrs\" @change=\"handleChange\" :field-names=\"fieldNames\">\n    <template #[item]=\"data\" v-for=\"item in Object.keys($slots)\">\n      <slot :name=\"item\" v-bind=\"data || {}\"></slot>\n    </template>\n    <template #suffixIcon v-if=\"loading\">\n      <LoadingOutlined spin />\n    </template>\n  </a-tree-select>\n</template>\n\n<script lang=\"ts\">\n  import { type Recordable } from '@vben/types';\n  import {\n    type PropType,\n    computed,\n    defineComponent,\n    watchEffect,\n    watch,\n    ref,\n    onMounted,\n    unref,\n  } from 'vue';\n  import { TreeSelect } from 'ant-design-vue';\n  import { isArray, isFunction } from '/@/utils/is';\n  import { get } from 'lodash-es';\n  import { propTypes } from '/@/utils/propTypes';\n  import { LoadingOutlined } from '@ant-design/icons-vue';\n\n  export default defineComponent({\n    name: 'ApiTreeSelect',\n    components: { ATreeSelect: TreeSelect, LoadingOutlined },\n    props: {\n      api: { type: Function as PropType<(arg?: Recordable<any>) => Promise<Recordable<any>>> },\n      params: { type: Object },\n      immediate: { type: Boolean, default: true },\n      resultField: propTypes.string.def(''),\n      labelField: propTypes.string.def('title'),\n      valueField: propTypes.string.def('value'),\n      childrenField: propTypes.string.def('children'),\n    },\n    emits: ['options-change', 'change'],\n    setup(props, { attrs, emit }) {\n      const treeData = ref<Recordable<any>[]>([]);\n      const isFirstLoaded = ref<Boolean>(false);\n      const loading = ref(false);\n      const getAttrs = computed(() => {\n        return {\n          ...(props.api ? { treeData: unref(treeData) } : {}),\n          ...attrs,\n        };\n      });\n      const fieldNames = {\n        children: props.childrenField,\n        value: props.valueField,\n        label: props.labelField,\n      };\n\n      function handleChange(...args) {\n        emit('change', ...args);\n      }\n\n      watchEffect(() => {\n        props.immediate && fetch();\n      });\n\n      watch(\n        () => props.params,\n        () => {\n          !unref(isFirstLoaded) && fetch();\n        },\n        { deep: true },\n      );\n\n      watch(\n        () => props.immediate,\n        (v) => {\n          v && !isFirstLoaded.value && fetch();\n        },\n      );\n\n      onMounted(() => {\n        props.immediate && fetch();\n      });\n\n      async function fetch() {\n        const { api } = props;\n        if (!api || !isFunction(api)) return;\n        loading.value = true;\n        treeData.value = [];\n        let result;\n        try {\n          result = await api(props.params);\n        } catch (e) {\n          console.error(e);\n        }\n        loading.value = false;\n        if (!result) return;\n        if (!isArray(result)) {\n          result = get(result, props.resultField);\n        }\n        treeData.value = (result as Recordable<any>[]) || [];\n        isFirstLoaded.value = true;\n        emit('options-change', treeData.value);\n      }\n      return { getAttrs, loading, handleChange, fieldNames };\n    },\n  });\n</script>\n","<template>\n  <a-cascader\n    v-model:value=\"state\"\n    :options=\"options\"\n    :load-data=\"loadData\"\n    change-on-select\n    @change=\"handleChange\"\n    :displayRender=\"handleRenderDisplay\"\n  >\n    <template #suffixIcon v-if=\"loading\">\n      <LoadingOutlined spin />\n    </template>\n    <template #notFoundContent v-if=\"loading\">\n      <span>\n        <LoadingOutlined spin class=\"mr-1\" />\n        {{ t('component.form.apiSelectNotFound') }}\n      </span>\n    </template>\n  </a-cascader>\n</template>\n<script lang=\"ts\">\n  import { type Recordable } from '@vben/types';\n  import { defineComponent, PropType, ref, unref, watch, watchEffect } from 'vue';\n  import { Cascader } from 'ant-design-vue';\n  import { propTypes } from '/@/utils/propTypes';\n  import { isFunction } from '/@/utils/is';\n  import { get, omit } from 'lodash-es';\n  import { useRuleFormItem } from '/@/hooks/component/useFormItem';\n  import { LoadingOutlined } from '@ant-design/icons-vue';\n  import { useI18n } from '/@/hooks/web/useI18n';\n\n  interface Option {\n    value: string;\n    label: string;\n    loading?: boolean;\n    isLeaf?: boolean;\n    children?: Option[];\n  }\n  export default defineComponent({\n    name: 'ApiCascader',\n    components: {\n      LoadingOutlined,\n      [Cascader.name]: Cascader,\n    },\n    props: {\n      value: {\n        type: Array,\n      },\n      api: {\n        type: Function as PropType<(arg?: Recordable<any>) => Promise<Option[]>>,\n        default: null,\n      },\n      numberToString: propTypes.bool,\n      resultField: propTypes.string.def(''),\n      labelField: propTypes.string.def('label'),\n      valueField: propTypes.string.def('value'),\n      childrenField: propTypes.string.def('children'),\n      asyncFetchParamKey: propTypes.string.def('parentCode'),\n      immediate: propTypes.bool.def(true),\n      // init fetch params\n      initFetchParams: {\n        type: Object as PropType<Recordable<any>>,\n        default: () => ({}),\n      },\n      // 是否有下级，默认是\n      isLeaf: {\n        type: Function as PropType<(arg: Recordable<any>) => boolean>,\n        default: null,\n      },\n      displayRenderArray: {\n        type: Array,\n      },\n    },\n    emits: ['change', 'defaultChange'],\n    setup(props, { emit }) {\n      const apiData = ref<any[]>([]);\n      const options = ref<Option[]>([]);\n      const loading = ref<boolean>(false);\n      const emitData = ref<any[]>([]);\n      const isFirstLoad = ref(true);\n      const { t } = useI18n();\n      // Embedded in the form, just use the hook binding to perform form verification\n      const [state] = useRuleFormItem(props, 'value', 'change', emitData);\n\n      watch(\n        apiData,\n        (data) => {\n          const opts = generatorOptions(data);\n          options.value = opts;\n        },\n        { deep: true },\n      );\n\n      function generatorOptions(options: any[]): Option[] {\n        const { labelField, valueField, numberToString, childrenField, isLeaf } = props;\n        return options.reduce((prev, next: Recordable<any>) => {\n          if (next) {\n            const value = next[valueField];\n            const item = {\n              ...omit(next, [labelField, valueField]),\n              label: next[labelField],\n              value: numberToString ? `${value}` : value,\n              isLeaf: isLeaf && typeof isLeaf === 'function' ? isLeaf(next) : false,\n            };\n            const children = Reflect.get(next, childrenField);\n            if (children) {\n              Reflect.set(item, childrenField, generatorOptions(children));\n            }\n            prev.push(item);\n          }\n          return prev;\n        }, [] as Option[]);\n      }\n\n      async function initialFetch() {\n        const api = props.api;\n        if (!api || !isFunction(api)) return;\n        apiData.value = [];\n        loading.value = true;\n        try {\n          const res = await api(props.initFetchParams);\n          if (Array.isArray(res)) {\n            apiData.value = res;\n            return;\n          }\n          if (props.resultField) {\n            apiData.value = get(res, props.resultField) || [];\n          }\n        } catch (error) {\n          console.warn(error);\n        } finally {\n          loading.value = false;\n        }\n      }\n\n      async function loadData(selectedOptions: Option[]) {\n        const targetOption = selectedOptions[selectedOptions.length - 1];\n        targetOption.loading = true;\n\n        const api = props.api;\n        if (!api || !isFunction(api)) return;\n        try {\n          const res = await api({\n            [props.asyncFetchParamKey]: Reflect.get(targetOption, 'value'),\n          });\n          if (Array.isArray(res)) {\n            const children = generatorOptions(res);\n            targetOption.children = children;\n            return;\n          }\n          if (props.resultField) {\n            const children = generatorOptions(get(res, props.resultField) || []);\n            targetOption.children = children;\n          }\n        } catch (e) {\n          console.error(e);\n        } finally {\n          targetOption.loading = false;\n        }\n      }\n\n      watchEffect(() => {\n        props.immediate && initialFetch();\n      });\n\n      watch(\n        () => props.initFetchParams,\n        () => {\n          !unref(isFirstLoad) && initialFetch();\n        },\n        { deep: true },\n      );\n\n      function handleChange(keys, args) {\n        emitData.value = args;\n        emit('defaultChange', keys, args);\n      }\n\n      function handleRenderDisplay({ labels, selectedOptions }) {\n        if (unref(emitData).length === selectedOptions.length) {\n          return labels.join(' / ');\n        }\n        if (props.displayRenderArray) {\n          return props.displayRenderArray.join(' / ');\n        }\n        return '';\n      }\n\n      return {\n        state,\n        options,\n        loading,\n        t,\n        handleChange,\n        loadData,\n        handleRenderDisplay,\n      };\n    },\n  });\n</script>\n","<template>\n  <Transfer\n    :data-source=\"getdataSource\"\n    :filter-option=\"filterOption\"\n    :render=\"(item) => item.title\"\n    :showSelectAll=\"showSelectAll\"\n    :selectedKeys=\"selectedKeys\"\n    :targetKeys=\"getTargetKeys\"\n    :showSearch=\"showSearch\"\n    @change=\"handleChange\"\n  />\n</template>\n\n<script lang=\"ts\">\n  import { computed, defineComponent, watch, ref, unref, watchEffect, PropType } from 'vue';\n  import { Transfer } from 'ant-design-vue';\n  import { isFunction } from '/@/utils/is';\n  import { get, omit } from 'lodash-es';\n  import { propTypes } from '/@/utils/propTypes';\n  import { useI18n } from '/@/hooks/web/useI18n';\n  import { TransferDirection, TransferItem } from 'ant-design-vue/lib/transfer';\n\n  export default defineComponent({\n    name: 'ApiTransfer',\n    components: { Transfer },\n    props: {\n      value: { type: Array as PropType<Array<string>> },\n      api: {\n        type: Function as PropType<(arg) => Promise<TransferItem[]>>,\n        default: null,\n      },\n      params: { type: Object },\n      dataSource: { type: Array as PropType<Array<TransferItem>> },\n      immediate: propTypes.bool.def(true),\n      alwaysLoad: propTypes.bool.def(false),\n      afterFetch: { type: Function },\n      resultField: propTypes.string.def(''),\n      labelField: propTypes.string.def('title'),\n      valueField: propTypes.string.def('key'),\n      showSearch: { type: Boolean, default: false },\n      disabled: { type: Boolean, default: false },\n      filterOption: {\n        type: Function as PropType<(inputValue: string, item: TransferItem) => boolean>,\n      },\n      selectedKeys: { type: Array as PropType<Array<string>> },\n      showSelectAll: { type: Boolean, default: false },\n      targetKeys: { type: Array as PropType<Array<string>> },\n    },\n    emits: ['options-change', 'change'],\n    setup(props, { attrs, emit }) {\n      const _dataSource = ref<TransferItem[]>([]);\n      const _targetKeys = ref<string[]>([]);\n      const { t } = useI18n();\n\n      const getAttrs = computed(() => {\n        return {\n          ...(!props.api ? { dataSource: unref(_dataSource) } : {}),\n          ...attrs,\n        };\n      });\n      const getdataSource = computed(() => {\n        const { labelField, valueField } = props;\n\n        return unref(_dataSource).reduce((prev, next) => {\n          if (next) {\n            prev.push({\n              ...omit(next, [labelField, valueField]),\n              title: next[labelField],\n              key: next[valueField],\n            });\n          }\n          return prev;\n        }, [] as TransferItem[]);\n      });\n      const getTargetKeys = computed<string[]>(() => {\n        if (unref(_targetKeys).length > 0) {\n          return unref(_targetKeys);\n        }\n        if (Array.isArray(props.value)) {\n          return props.value;\n        }\n        if (Array.isArray(props.targetKeys)) {\n          return props.targetKeys;\n        }\n        return [];\n      });\n\n      function handleChange(keys: string[], direction: TransferDirection, moveKeys: string[]) {\n        _targetKeys.value = keys;\n        console.log(direction);\n        console.log(moveKeys);\n        emit('change', keys);\n      }\n\n      watchEffect(() => {\n        props.immediate && !props.alwaysLoad && fetch();\n      });\n\n      watch(\n        () => props.params,\n        () => {\n          fetch();\n        },\n        { deep: true },\n      );\n\n      async function fetch() {\n        const api = props.api;\n        if (!api || !isFunction(api)) {\n          if (Array.isArray(props.dataSource)) {\n            _dataSource.value = props.dataSource;\n          }\n          return;\n        }\n        _dataSource.value = [];\n        try {\n          const res = await api(props.params);\n          if (Array.isArray(res)) {\n            _dataSource.value = res;\n            emitChange();\n            return;\n          }\n          if (props.resultField) {\n            _dataSource.value = get(res, props.resultField) || [];\n          }\n          emitChange();\n        } catch (error) {\n          console.warn(error);\n        }\n      }\n      function emitChange() {\n        emit('options-change', unref(getdataSource));\n      }\n      return { getTargetKeys, getdataSource, t, getAttrs, handleChange };\n    },\n  });\n</script>\n","import type { PropType } from 'vue';\nimport { FileBasicColumn } from './typing';\n\nexport const basicProps = {\n  helpText: {\n    type: String as PropType<string>,\n    default: '',\n  },\n  // 文件最大多少MB\n  maxSize: {\n    type: Number as PropType<number>,\n    default: 2,\n  },\n  // 最大数量的文件，Infinity不限制\n  maxNumber: {\n    type: Number as PropType<number>,\n    default: Infinity,\n  },\n  // 根据后缀，或者其他\n  accept: {\n    type: Array as PropType<string[]>,\n    default: () => [],\n  },\n  multiple: {\n    type: Boolean as PropType<boolean>,\n    default: true,\n  },\n  uploadParams: {\n    type: Object as PropType<any>,\n    default: () => ({}),\n  },\n  api: {\n    type: Function as PropType<PromiseFn>,\n    default: null,\n    required: true,\n  },\n  name: {\n    type: String as PropType<string>,\n    default: 'file',\n  },\n  filename: {\n    type: String as PropType<string>,\n    default: null,\n  },\n};\n\nexport const uploadContainerProps = {\n  value: {\n    type: Array as PropType<string[]>,\n    default: () => [],\n  },\n  ...basicProps,\n  showPreviewNumber: {\n    type: Boolean as PropType<boolean>,\n    default: true,\n  },\n  emptyHidePreview: {\n    type: Boolean as PropType<boolean>,\n    default: false,\n  },\n};\n\nexport const previewProps = {\n  value: {\n    type: Array as PropType<string[]>,\n    default: () => [],\n  },\n};\n\nexport const fileListProps = {\n  columns: {\n    type: Array as PropType<FileBasicColumn[]>,\n    default: null,\n  },\n  actionColumn: {\n    type: Object as PropType<FileBasicColumn>,\n    default: null,\n  },\n  dataSource: {\n    type: Array as PropType<any[]>,\n    default: null,\n  },\n};\n","import { Ref, unref, computed } from 'vue';\nimport { useI18n } from '/@/hooks/web/useI18n';\n\nconst { t } = useI18n();\nexport function useUploadType({\n  acceptRef,\n  helpTextRef,\n  maxNumberRef,\n  maxSizeRef,\n}: {\n  acceptRef: Ref<string[]>;\n  helpTextRef: Ref<string>;\n  maxNumberRef: Ref<number>;\n  maxSizeRef: Ref<number>;\n}) {\n  // 文件类型限制\n  const getAccept = computed(() => {\n    const accept = unref(acceptRef);\n    if (accept && accept.length > 0) {\n      return accept;\n    }\n    return [];\n  });\n  const getStringAccept = computed(() => {\n    return unref(getAccept)\n      .map((item) => {\n        if (item.indexOf('/') > 0 || item.startsWith('.')) {\n          return item;\n        } else {\n          return `.${item}`;\n        }\n      })\n      .join(',');\n  });\n\n  // 支持jpg、jpeg、png格式，不超过2M，最多可选择10张图片，。\n  const getHelpText = computed(() => {\n    const helpText = unref(helpTextRef);\n    if (helpText) {\n      return helpText;\n    }\n    const helpTexts: string[] = [];\n\n    const accept = unref(acceptRef);\n    if (accept.length > 0) {\n      helpTexts.push(t('component.upload.accept', [accept.join(',')]));\n    }\n\n    const maxSize = unref(maxSizeRef);\n    if (maxSize) {\n      helpTexts.push(t('component.upload.maxSize', [maxSize]));\n    }\n\n    const maxNumber = unref(maxNumberRef);\n    if (maxNumber && maxNumber !== Infinity) {\n      helpTexts.push(t('component.upload.maxNumber', [maxNumber]));\n    }\n    return helpTexts.join('，');\n  });\n  return { getAccept, getStringAccept, getHelpText };\n}\n","import { UploadApiResult } from '/@/api/sys/model/uploadModel';\n\nexport enum UploadResultStatus {\n  SUCCESS = 'success',\n  ERROR = 'error',\n  UPLOADING = 'uploading',\n}\n\nexport interface FileItem {\n  thumbUrl?: string;\n  name: string;\n  size: string | number;\n  type?: string;\n  percent: number;\n  file: File;\n  status?: UploadResultStatus;\n  responseData?: UploadApiResult;\n  uuid: string;\n}\n\nexport interface PreviewFileItem {\n  url: string;\n  name: string;\n  type: string;\n}\n\nexport interface FileBasicColumn {\n  /**\n   * Renderer of the table cell. The return value should be a VNode, or an object for colSpan/rowSpan config\n   * @type Function | ScopedSlot\n   */\n  customRender?: Function;\n  /**\n   * Title of this column\n   * @type any (string | slot)\n   */\n  title: string;\n\n  /**\n   * Width of this column\n   * @type string | number\n   */\n  width?: number;\n  /**\n   * Display field of the data record, could be set like a.b.c\n   * @type string\n   */\n  dataIndex: string;\n  /**\n   * specify how content is aligned\n   * @default 'left'\n   * @type string\n   */\n  align?: 'left' | 'right' | 'center';\n}\n","export function checkFileType(file: File, accepts: string[]) {\n  const newTypes = accepts.join('|');\n  // const reg = /\\.(jpg|jpeg|png|gif|txt|doc|docx|xls|xlsx|xml)$/i;\n  const reg = new RegExp('\\\\.(' + newTypes + ')$', 'i');\n\n  return reg.test(file.name);\n}\n\nexport function checkImgType(file: File) {\n  return isImgTypeByName(file.name);\n}\n\nexport function isImgTypeByName(name: string) {\n  return /\\.(jpg|jpeg|png|gif|webp)$/i.test(name);\n}\n\nexport function getBase64WithFile(file: File) {\n  return new Promise<{\n    result: string;\n    file: File;\n  }>((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve({ result: reader.result as string, file });\n    reader.onerror = (error) => reject(error);\n  });\n}\n","import type { Ref } from 'vue';\nimport type { BasicTableProps, TableActionType } from '../types/table';\nimport { provide, inject, ComputedRef } from 'vue';\n\nconst key = Symbol('basic-table');\n\ntype Instance = TableActionType & {\n  wrapRef: Ref<Nullable<HTMLElement>>;\n  getBindValues: ComputedRef<Recordable>;\n};\n\ntype RetInstance = Omit<Instance, 'getBindValues'> & {\n  getBindValues: ComputedRef<BasicTableProps>;\n};\n\nexport function createTableContext(instance: Instance) {\n  provide(key, instance);\n}\n\nexport function useTableContext(): RetInstance {\n  return inject(key) as RetInstance;\n}\n","import type { RouteRecordRaw } from 'vue-router';\n\nimport { useAppStore } from '/@/store/modules/app';\nimport { usePermissionStore } from '/@/store/modules/permission';\nimport { useUserStore } from '/@/store/modules/user';\n\nimport { useTabs } from './useTabs';\n\nimport { router, resetRouter } from '/@/router';\n// import { RootRoute } from '/@/router/routes';\n\nimport projectSetting from '/@/settings/projectSetting';\nimport { PermissionModeEnum } from '/@/enums/appEnum';\nimport { RoleEnum } from '/@/enums/roleEnum';\n\nimport { intersection } from 'lodash-es';\nimport { isArray } from '/@/utils/is';\nimport { useMultipleTabStore } from '/@/store/modules/multipleTab';\n\n// User permissions related operations\nexport function usePermission() {\n  const userStore = useUserStore();\n  const appStore = useAppStore();\n  const permissionStore = usePermissionStore();\n  const { closeAll } = useTabs(router);\n\n  /**\n   * Change permission mode\n   */\n  async function togglePermissionMode() {\n    appStore.setProjectConfig({\n      permissionMode:\n        appStore.projectConfig?.permissionMode === PermissionModeEnum.BACK\n          ? PermissionModeEnum.ROUTE_MAPPING\n          : PermissionModeEnum.BACK,\n    });\n    // location.reload();\n  }\n\n  /**\n   * Reset and regain authority resource information\n   * 重置和重新获得权限资源信息\n   * @param id\n   */\n  async function resume() {\n    const tabStore = useMultipleTabStore();\n    tabStore.clearCacheTabs();\n    resetRouter();\n    const routes = await permissionStore.buildRoutesAction();\n    routes.forEach((route) => {\n      router.addRoute(route as unknown as RouteRecordRaw);\n    });\n    permissionStore.setLastBuildMenuTime();\n    closeAll();\n  }\n\n  /**\n   * Determine whether there is permission\n   */\n  function hasPermission(value?: RoleEnum | RoleEnum[] | string | string[], def = true): boolean {\n    // Visible by default\n    if (!value) {\n      return def;\n    }\n\n    const permMode = projectSetting.permissionMode;\n\n    if ([PermissionModeEnum.ROUTE_MAPPING, PermissionModeEnum.ROLE].includes(permMode)) {\n      if (!isArray(value)) {\n        return userStore.getRoleList?.includes(value as RoleEnum);\n      }\n      return (intersection(value, userStore.getRoleList) as RoleEnum[]).length > 0;\n    }\n\n    if (PermissionModeEnum.BACK === permMode) {\n      const allCodeList = permissionStore.getPermCodeList as string[];\n      if (!isArray(value)) {\n        return allCodeList.includes(value);\n      }\n      return (intersection(value, allCodeList) as string[]).length > 0;\n    }\n    return true;\n  }\n\n  /**\n   * Change roles\n   * @param roles\n   */\n  async function changeRole(roles: RoleEnum | RoleEnum[]): Promise<void> {\n    if (projectSetting.permissionMode !== PermissionModeEnum.ROUTE_MAPPING) {\n      throw new Error(\n        'Please switch PermissionModeEnum to ROUTE_MAPPING mode in the configuration to operate!',\n      );\n    }\n\n    if (!isArray(roles)) {\n      roles = [roles];\n    }\n    userStore.setRoleList(roles);\n    await resume();\n  }\n\n  /**\n   * refresh menu data\n   */\n  async function refreshMenu() {\n    resume();\n  }\n\n  return { changeRole, hasPermission, togglePermissionMode, refreshMenu };\n}\n","import componentSetting from '/@/settings/componentSetting';\n\nconst { table } = componentSetting;\n\nconst {\n  pageSizeOptions,\n  defaultPageSize,\n  fetchSetting,\n  defaultSize,\n  defaultSortFn,\n  defaultFilterFn,\n  showQuickJumper,\n  showSizeChanger,\n} = table;\n\nexport const ROW_KEY = 'key';\n\n// Optional display number per page;\nexport const PAGE_SIZE_OPTIONS = pageSizeOptions;\n\n// Number of items displayed per page\nexport const PAGE_SIZE = defaultPageSize;\n\n// Common interface field settings\nexport const FETCH_SETTING = fetchSetting;\n\n// Default Size\nexport const DEFAULT_SIZE = defaultSize;\n\n// DEFAULT QUICK JUMPER\nexport const DEFAULT_QUICK_JUMPER = showQuickJumper;\n\n// DEFAULT SIZE CHANGER\nexport const DEFAULT_SIZE_CHANGER = showSizeChanger;\n\n// Configure general sort function\nexport const DEFAULT_SORT_FN = defaultSortFn;\n\nexport const DEFAULT_FILTER_FN = defaultFilterFn;\n\n//  Default layout of table cells\nexport const DEFAULT_ALIGN = 'center';\n\nexport const INDEX_COLUMN_FLAG = 'INDEX';\n\nexport const ACTION_COLUMN_FLAG = 'ACTION';\n","<template>\n  <div :class=\"[prefixCls, getAlign]\" @click=\"onCellClick\">\n    <template v-for=\"(action, index) in getActions\" :key=\"`${index}-${action.label}`\">\n      <Tooltip v-if=\"action.tooltip\" v-bind=\"getTooltip(action.tooltip)\">\n        <PopConfirmButton v-bind=\"action\">\n          <Icon :icon=\"action.icon\" :class=\"{ 'mr-1': !!action.label }\" v-if=\"action.icon\" />\n          <template v-if=\"action.label\">{{ action.label }}</template>\n        </PopConfirmButton>\n      </Tooltip>\n      <PopConfirmButton v-else v-bind=\"action\">\n        <Icon :icon=\"action.icon\" :class=\"{ 'mr-1': !!action.label }\" v-if=\"action.icon\" />\n        <template v-if=\"action.label\">{{ action.label }}</template>\n      </PopConfirmButton>\n      <Divider\n        type=\"vertical\"\n        class=\"action-divider\"\n        v-if=\"divider && index < getActions.length - 1\"\n      />\n    </template>\n    <Dropdown\n      :trigger=\"['hover']\"\n      :dropMenuList=\"getDropdownList\"\n      popconfirm\n      v-if=\"dropDownActions && getDropdownList.length > 0\"\n    >\n      <slot name=\"more\"></slot>\n      <a-button type=\"link\" size=\"small\" v-if=\"!$slots.more\">\n        <MoreOutlined class=\"icon-more\" />\n      </a-button>\n    </Dropdown>\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, PropType, computed, toRaw, unref } from 'vue';\n  import { MoreOutlined } from '@ant-design/icons-vue';\n  import { Divider, Tooltip, TooltipProps } from 'ant-design-vue';\n  import Icon from '@/components/Icon/Icon.vue';\n  import { ActionItem, TableActionType } from '/@/components/Table';\n  import { PopConfirmButton } from '/@/components/Button';\n  import { Dropdown } from '/@/components/Dropdown';\n  import { useDesign } from '/@/hooks/web/useDesign';\n  import { useTableContext } from '../hooks/useTableContext';\n  import { usePermission } from '/@/hooks/web/usePermission';\n  import { isBoolean, isFunction, isString } from '/@/utils/is';\n  import { propTypes } from '/@/utils/propTypes';\n  import { ACTION_COLUMN_FLAG } from '../const';\n\n  export default defineComponent({\n    name: 'TableAction',\n    components: { Icon, PopConfirmButton, Divider, Dropdown, MoreOutlined, Tooltip },\n    props: {\n      actions: {\n        type: Array as PropType<ActionItem[]>,\n        default: null,\n      },\n      dropDownActions: {\n        type: Array as PropType<ActionItem[]>,\n        default: null,\n      },\n      divider: propTypes.bool.def(true),\n      outside: propTypes.bool,\n      stopButtonPropagation: propTypes.bool.def(false),\n    },\n    setup(props) {\n      const { prefixCls } = useDesign('basic-table-action');\n      let table: Partial<TableActionType> = {};\n      if (!props.outside) {\n        table = useTableContext();\n      }\n\n      const { hasPermission } = usePermission();\n      function isIfShow(action: ActionItem): boolean {\n        const ifShow = action.ifShow;\n\n        let isIfShow = true;\n\n        if (isBoolean(ifShow)) {\n          isIfShow = ifShow;\n        }\n        if (isFunction(ifShow)) {\n          isIfShow = ifShow(action);\n        }\n        return isIfShow;\n      }\n\n      const getActions = computed(() => {\n        return (toRaw(props.actions) || [])\n          .filter((action) => {\n            return hasPermission(action.auth) && isIfShow(action);\n          })\n          .map((action) => {\n            const { popConfirm } = action;\n            return {\n              getPopupContainer: () => unref((table as any)?.wrapRef) ?? document.body,\n              type: 'link',\n              size: 'small',\n              ...action,\n              ...(popConfirm || {}),\n              onConfirm: popConfirm?.confirm,\n              onCancel: popConfirm?.cancel,\n              enable: !!popConfirm,\n            };\n          });\n      });\n\n      const getDropdownList = computed((): any[] => {\n        const list = (toRaw(props.dropDownActions) || []).filter((action) => {\n          return hasPermission(action.auth) && isIfShow(action);\n        });\n        return list.map((action, index) => {\n          const { label, popConfirm } = action;\n          return {\n            ...action,\n            ...popConfirm,\n            onConfirm: popConfirm?.confirm,\n            onCancel: popConfirm?.cancel,\n            text: label,\n            divider: index < list.length - 1 ? props.divider : false,\n          };\n        });\n      });\n\n      const getAlign = computed(() => {\n        const columns = (table as TableActionType)?.getColumns?.() || [];\n        const actionColumn = columns.find((item) => item.flag === ACTION_COLUMN_FLAG);\n        return actionColumn?.align ?? 'left';\n      });\n\n      function getTooltip(data: string | TooltipProps): TooltipProps {\n        return {\n          getPopupContainer: () => unref((table as any)?.wrapRef) ?? document.body,\n          placement: 'bottom',\n          ...(isString(data) ? { title: data } : data),\n        };\n      }\n\n      function onCellClick(e: MouseEvent) {\n        if (!props.stopButtonPropagation) return;\n        const path = e.composedPath() as HTMLElement[];\n        const isInButton = path.find((ele) => {\n          return ele.tagName?.toUpperCase() === 'BUTTON';\n        });\n        isInButton && e.stopPropagation();\n      }\n\n      return { prefixCls, getActions, getDropdownList, getAlign, onCellClick, getTooltip };\n    },\n  });\n</script>\n<style lang=\"less\">\n  @prefix-cls: ~'@{namespace}-basic-table-action';\n\n  .@{prefix-cls} {\n    display: flex;\n    align-items: center;\n\n    .action-divider {\n      display: table;\n    }\n\n    &.left {\n      justify-content: flex-start;\n    }\n\n    &.center {\n      justify-content: center;\n    }\n\n    &.right {\n      justify-content: flex-end;\n    }\n\n    button {\n      display: flex;\n      align-items: center;\n\n      span {\n        margin-left: 0 !important;\n      }\n    }\n\n    button.ant-btn-circle {\n      span {\n        margin: auto !important;\n      }\n    }\n\n    .ant-divider,\n    .ant-divider-vertical {\n      margin: 0 2px;\n    }\n\n    .icon-more {\n      transform: rotate(90deg);\n\n      svg {\n        font-size: 1.1em;\n        font-weight: 700;\n      }\n    }\n  }\n</style>\n","<template>\n  <span class=\"thumb\">\n    <Image v-if=\"fileUrl\" :src=\"fileUrl\" :width=\"104\" />\n  </span>\n</template>\n<script lang=\"ts\">\n  import { defineComponent } from 'vue';\n  import { propTypes } from '/@/utils/propTypes';\n  import { Image } from 'ant-design-vue';\n\n  export default defineComponent({\n    components: { Image },\n    props: {\n      fileUrl: propTypes.string.def(''),\n      fileName: propTypes.string.def(''),\n    },\n  });\n</script>\n<style lang=\"less\">\n  .thumb {\n    img {\n      display: block;\n      position: static;\n      border-radius: 4px;\n      cursor: zoom-in;\n      object-fit: cover;\n    }\n  }\n</style>\n","import type { BasicColumn, ActionItem } from '/@/components/Table';\nimport { FileItem, PreviewFileItem, UploadResultStatus } from './typing';\nimport {\n  // checkImgType,\n  isImgTypeByName,\n} from './helper';\nimport { Progress, Tag } from 'ant-design-vue';\nimport TableAction from '/@/components/Table/src/components/TableAction.vue';\nimport ThumbUrl from './ThumbUrl.vue';\nimport { useI18n } from '/@/hooks/web/useI18n';\n\nconst { t } = useI18n();\n\n// 文件上传列表\nexport function createTableColumns(): BasicColumn[] {\n  return [\n    {\n      dataIndex: 'thumbUrl',\n      title: t('component.upload.legend'),\n      width: 100,\n      customRender: ({ record }) => {\n        const { thumbUrl } = (record as FileItem) || {};\n        return thumbUrl && <ThumbUrl fileUrl={thumbUrl} />;\n      },\n    },\n    {\n      dataIndex: 'name',\n      title: t('component.upload.fileName'),\n      align: 'left',\n      customRender: ({ text, record }) => {\n        const { percent, status: uploadStatus } = (record as FileItem) || {};\n        let status: 'normal' | 'exception' | 'active' | 'success' = 'normal';\n        if (uploadStatus === UploadResultStatus.ERROR) {\n          status = 'exception';\n        } else if (uploadStatus === UploadResultStatus.UPLOADING) {\n          status = 'active';\n        } else if (uploadStatus === UploadResultStatus.SUCCESS) {\n          status = 'success';\n        }\n        return (\n          <span>\n            <p class=\"truncate mb-1\" title={text}>\n              {text}\n            </p>\n            <Progress percent={percent} size=\"small\" status={status} />\n          </span>\n        );\n      },\n    },\n    {\n      dataIndex: 'size',\n      title: t('component.upload.fileSize'),\n      width: 100,\n      customRender: ({ text = 0 }) => {\n        return text && (text / 1024).toFixed(2) + 'KB';\n      },\n    },\n    // {\n    //   dataIndex: 'type',\n    //   title: '文件类型',\n    //   width: 100,\n    // },\n    {\n      dataIndex: 'status',\n      title: t('component.upload.fileStatue'),\n      width: 100,\n      customRender: ({ text }) => {\n        if (text === UploadResultStatus.SUCCESS) {\n          return <Tag color=\"green\">{() => t('component.upload.uploadSuccess')}</Tag>;\n        } else if (text === UploadResultStatus.ERROR) {\n          return <Tag color=\"red\">{() => t('component.upload.uploadError')}</Tag>;\n        } else if (text === UploadResultStatus.UPLOADING) {\n          return <Tag color=\"blue\">{() => t('component.upload.uploading')}</Tag>;\n        }\n\n        return text;\n      },\n    },\n  ];\n}\nexport function createActionColumn(handleRemove: Function): BasicColumn {\n  return {\n    width: 120,\n    title: t('component.upload.operating'),\n    dataIndex: 'action',\n    fixed: false,\n    customRender: ({ record }) => {\n      const actions: ActionItem[] = [\n        {\n          label: t('component.upload.del'),\n          color: 'error',\n          onClick: handleRemove.bind(null, record),\n        },\n      ];\n      // if (checkImgType(record)) {\n      //   actions.unshift({\n      //     label: t('component.upload.preview'),\n      //     onClick: handlePreview.bind(null, record),\n      //   });\n      // }\n      return <TableAction actions={actions} outside={true} />;\n    },\n  };\n}\n// 文件预览列表\nexport function createPreviewColumns(): BasicColumn[] {\n  return [\n    {\n      dataIndex: 'url',\n      title: t('component.upload.legend'),\n      width: 100,\n      customRender: ({ record }) => {\n        const { url } = (record as PreviewFileItem) || {};\n        return isImgTypeByName(url) && <ThumbUrl fileUrl={url} />;\n      },\n    },\n    {\n      dataIndex: 'name',\n      title: t('component.upload.fileName'),\n      align: 'left',\n    },\n  ];\n}\n\nexport function createPreviewActionColumn({\n  handleRemove,\n  handleDownload,\n}: {\n  handleRemove: Fn;\n  handleDownload: Fn;\n}): BasicColumn {\n  return {\n    width: 160,\n    title: t('component.upload.operating'),\n    dataIndex: 'action',\n    fixed: false,\n    customRender: ({ record }) => {\n      const actions: ActionItem[] = [\n        {\n          label: t('component.upload.del'),\n          color: 'error',\n          onClick: handleRemove.bind(null, record),\n        },\n        {\n          label: t('component.upload.download'),\n          onClick: handleDownload.bind(null, record),\n        },\n      ];\n\n      return <TableAction actions={actions} outside={true} />;\n    },\n  };\n}\n","<script lang=\"tsx\">\n  import { defineComponent, CSSProperties, watch, nextTick } from 'vue';\n  import { fileListProps } from './props';\n  import { isFunction } from '/@/utils/is';\n  import { useModalContext } from '/@/components/Modal/src/hooks/useModalContext';\n\n  export default defineComponent({\n    name: 'FileList',\n    props: fileListProps,\n    setup(props) {\n      const modalFn = useModalContext();\n      watch(\n        () => props.dataSource,\n        () => {\n          nextTick(() => {\n            modalFn?.redoModalHeight?.();\n          });\n        },\n      );\n      return () => {\n        const { columns, actionColumn, dataSource } = props;\n        const columnList = [...columns, actionColumn];\n        return (\n          <table class=\"file-table\">\n            <colgroup>\n              {columnList.map((item) => {\n                const { width = 0, dataIndex } = item;\n                const style: CSSProperties = {\n                  width: `${width}px`,\n                  minWidth: `${width}px`,\n                };\n                return <col style={width ? style : {}} key={dataIndex} />;\n              })}\n            </colgroup>\n            <thead>\n              <tr class=\"file-table-tr\">\n                {columnList.map((item) => {\n                  const { title = '', align = 'center', dataIndex } = item;\n                  return (\n                    <th class={['file-table-th', align]} key={dataIndex}>\n                      {title}\n                    </th>\n                  );\n                })}\n              </tr>\n            </thead>\n            <tbody>\n              {dataSource.map((record = {}, index) => {\n                return (\n                  <tr class=\"file-table-tr\" key={`${index + record.name || ''}`}>\n                    {columnList.map((item) => {\n                      const { dataIndex = '', customRender, align = 'center' } = item;\n                      const render = customRender && isFunction(customRender);\n                      return (\n                        <td class={['file-table-td', align]} key={dataIndex}>\n                          {render\n                            ? customRender?.({ text: record[dataIndex], record })\n                            : record[dataIndex]}\n                        </td>\n                      );\n                    })}\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        );\n      };\n    },\n  });\n</script>\n<style lang=\"less\">\n  .file-table {\n    width: 100%;\n    border-collapse: collapse;\n\n    .center {\n      text-align: center;\n    }\n\n    .left {\n      text-align: left;\n    }\n\n    .right {\n      text-align: right;\n    }\n\n    &-th,\n    &-td {\n      padding: 12px 8px;\n    }\n\n    thead {\n      background-color: @background-color-light;\n    }\n\n    table,\n    td,\n    th {\n      border: 1px solid @border-color-base;\n    }\n  }\n</style>\n","<template>\n  <BasicModal\n    width=\"800px\"\n    :title=\"t('component.upload.upload')\"\n    :okText=\"t('component.upload.save')\"\n    v-bind=\"$attrs\"\n    @register=\"register\"\n    @ok=\"handleOk\"\n    :closeFunc=\"handleCloseFunc\"\n    :maskClosable=\"false\"\n    :keyboard=\"false\"\n    class=\"upload-modal\"\n    :okButtonProps=\"getOkButtonProps\"\n    :cancelButtonProps=\"{ disabled: isUploadingRef }\"\n  >\n    <template #centerFooter>\n      <a-button\n        @click=\"handleStartUpload\"\n        color=\"success\"\n        :disabled=\"!getIsSelectFile\"\n        :loading=\"isUploadingRef\"\n      >\n        {{ getUploadBtnText }}\n      </a-button>\n    </template>\n\n    <div class=\"upload-modal-toolbar\">\n      <Alert :message=\"getHelpText\" type=\"info\" banner class=\"upload-modal-toolbar__text\" />\n\n      <Upload\n        :accept=\"getStringAccept\"\n        :multiple=\"multiple\"\n        :before-upload=\"beforeUpload\"\n        :show-upload-list=\"false\"\n        class=\"upload-modal-toolbar__btn\"\n      >\n        <a-button type=\"primary\">\n          {{ t('component.upload.choose') }}\n        </a-button>\n      </Upload>\n    </div>\n    <FileList :dataSource=\"fileListRef\" :columns=\"columns\" :actionColumn=\"actionColumn\" />\n  </BasicModal>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, reactive, ref, toRefs, unref, computed, PropType } from 'vue';\n  import { Upload, Alert } from 'ant-design-vue';\n  import { BasicModal, useModalInner } from '/@/components/Modal';\n  //   import { BasicTable, useTable } from '/@/components/Table';\n  // hooks\n  import { useUploadType } from './useUpload';\n  import { useMessage } from '/@/hooks/web/useMessage';\n  //   types\n  import { FileItem, UploadResultStatus } from './typing';\n  import { basicProps } from './props';\n  import { createTableColumns, createActionColumn } from './data';\n  // utils\n  import { checkImgType, getBase64WithFile } from './helper';\n  import { buildUUID } from '/@/utils/uuid';\n  import { isFunction } from '/@/utils/is';\n  import { warn } from '/@/utils/log';\n  import FileList from './FileList.vue';\n  import { useI18n } from '/@/hooks/web/useI18n';\n\n  export default defineComponent({\n    components: { BasicModal, Upload, Alert, FileList },\n    props: {\n      ...basicProps,\n      previewFileList: {\n        type: Array as PropType<string[]>,\n        default: () => [],\n      },\n    },\n    emits: ['change', 'register', 'delete'],\n    setup(props, { emit }) {\n      const state = reactive<{ fileList: FileItem[] }>({\n        fileList: [],\n      });\n\n      //   是否正在上传\n      const isUploadingRef = ref(false);\n      const fileListRef = ref<FileItem[]>([]);\n      const { accept, helpText, maxNumber, maxSize } = toRefs(props);\n\n      const { t } = useI18n();\n      const [register, { closeModal }] = useModalInner();\n\n      const { getStringAccept, getHelpText } = useUploadType({\n        acceptRef: accept,\n        helpTextRef: helpText,\n        maxNumberRef: maxNumber,\n        maxSizeRef: maxSize,\n      });\n\n      const { createMessage } = useMessage();\n\n      const getIsSelectFile = computed(() => {\n        return (\n          fileListRef.value.length > 0 &&\n          !fileListRef.value.every((item) => item.status === UploadResultStatus.SUCCESS)\n        );\n      });\n\n      const getOkButtonProps = computed(() => {\n        const someSuccess = fileListRef.value.some(\n          (item) => item.status === UploadResultStatus.SUCCESS,\n        );\n        return {\n          disabled: isUploadingRef.value || fileListRef.value.length === 0 || !someSuccess,\n        };\n      });\n\n      const getUploadBtnText = computed(() => {\n        const someError = fileListRef.value.some(\n          (item) => item.status === UploadResultStatus.ERROR,\n        );\n        return isUploadingRef.value\n          ? t('component.upload.uploading')\n          : someError\n          ? t('component.upload.reUploadFailed')\n          : t('component.upload.startUpload');\n      });\n\n      // 上传前校验\n      function beforeUpload(file: File) {\n        const { size, name } = file;\n        const { maxSize } = props;\n        // 设置最大值，则判断\n        if (maxSize && file.size / 1024 / 1024 >= maxSize) {\n          createMessage.error(t('component.upload.maxSizeMultiple', [maxSize]));\n          return false;\n        }\n\n        const commonItem = {\n          uuid: buildUUID(),\n          file,\n          size,\n          name,\n          percent: 0,\n          type: name.split('.').pop(),\n        };\n        // 生成图片缩略图\n        if (checkImgType(file)) {\n          // beforeUpload，如果异步会调用自带上传方法\n          // file.thumbUrl = await getBase64(file);\n          getBase64WithFile(file).then(({ result: thumbUrl }) => {\n            fileListRef.value = [\n              ...unref(fileListRef),\n              {\n                thumbUrl,\n                ...commonItem,\n              },\n            ];\n          });\n        } else {\n          fileListRef.value = [...unref(fileListRef), commonItem];\n        }\n        return false;\n      }\n\n      // 删除\n      function handleRemove(record: FileItem) {\n        const index = fileListRef.value.findIndex((item) => item.uuid === record.uuid);\n        index !== -1 && fileListRef.value.splice(index, 1);\n        emit('delete', record);\n      }\n\n      // 预览\n      // function handlePreview(record: FileItem) {\n      //   const { thumbUrl = '' } = record;\n      //   createImgPreview({\n      //     imageList: [thumbUrl],\n      //   });\n      // }\n\n      async function uploadApiByItem(item: FileItem) {\n        const { api } = props;\n        if (!api || !isFunction(api)) {\n          return warn('upload api must exist and be a function');\n        }\n        try {\n          item.status = UploadResultStatus.UPLOADING;\n          const ret = await props.api?.(\n            {\n              data: {\n                ...(props.uploadParams || {}),\n              },\n              file: item.file,\n              name: props.name,\n              filename: props.filename,\n            },\n            function onUploadProgress(progressEvent: ProgressEvent) {\n              const complete = ((progressEvent.loaded / progressEvent.total) * 100) | 0;\n              item.percent = complete;\n            },\n          );\n          const { data } = ret;\n          item.status = UploadResultStatus.SUCCESS;\n          item.responseData = data;\n          return {\n            success: true,\n            error: null,\n          };\n        } catch (e) {\n          console.log(e);\n          item.status = UploadResultStatus.ERROR;\n          return {\n            success: false,\n            error: e,\n          };\n        }\n      }\n\n      // 点击开始上传\n      async function handleStartUpload() {\n        const { maxNumber } = props;\n        if ((fileListRef.value.length + props.previewFileList?.length ?? 0) > maxNumber) {\n          return createMessage.warning(t('component.upload.maxNumber', [maxNumber]));\n        }\n        try {\n          isUploadingRef.value = true;\n          // 只上传不是成功状态的\n          const uploadFileList =\n            fileListRef.value.filter((item) => item.status !== UploadResultStatus.SUCCESS) || [];\n          const data = await Promise.all(\n            uploadFileList.map((item) => {\n              return uploadApiByItem(item);\n            }),\n          );\n          isUploadingRef.value = false;\n          // 生产环境:抛出错误\n          const errorList = data.filter((item: any) => !item.success);\n          if (errorList.length > 0) throw errorList;\n        } catch (e) {\n          isUploadingRef.value = false;\n          throw e;\n        }\n      }\n\n      //   点击保存\n      function handleOk() {\n        const { maxNumber } = props;\n\n        if (fileListRef.value.length > maxNumber) {\n          return createMessage.warning(t('component.upload.maxNumber', [maxNumber]));\n        }\n        if (isUploadingRef.value) {\n          return createMessage.warning(t('component.upload.saveWarn'));\n        }\n        const fileList: string[] = [];\n\n        for (const item of fileListRef.value) {\n          const { status, responseData } = item;\n          if (status === UploadResultStatus.SUCCESS && responseData) {\n            fileList.push(responseData.url);\n          }\n        }\n        // 存在一个上传成功的即可保存\n        if (fileList.length <= 0) {\n          return createMessage.warning(t('component.upload.saveError'));\n        }\n        fileListRef.value = [];\n        closeModal();\n        emit('change', fileList);\n      }\n\n      // 点击关闭：则所有操作不保存，包括上传的\n      async function handleCloseFunc() {\n        if (!isUploadingRef.value) {\n          fileListRef.value = [];\n          return true;\n        } else {\n          createMessage.warning(t('component.upload.uploadWait'));\n          return false;\n        }\n      }\n\n      return {\n        columns: createTableColumns() as any[],\n        actionColumn: createActionColumn(handleRemove) as any,\n        register,\n        closeModal,\n        getHelpText,\n        getStringAccept,\n        getOkButtonProps,\n        beforeUpload,\n        // registerTable,\n        fileListRef,\n        state,\n        isUploadingRef,\n        handleStartUpload,\n        handleOk,\n        handleCloseFunc,\n        getIsSelectFile,\n        getUploadBtnText,\n        t,\n      };\n    },\n  });\n</script>\n<style lang=\"less\">\n  .upload-modal {\n    .ant-upload-list {\n      display: none;\n    }\n\n    .ant-table-wrapper .ant-spin-nested-loading {\n      padding: 0;\n    }\n\n    &-toolbar {\n      display: flex;\n      align-items: center;\n      margin-bottom: 8px;\n\n      &__btn {\n        flex: 1;\n        margin-left: 8px;\n        text-align: right;\n      }\n    }\n  }\n</style>\n","<template>\n  <BasicModal\n    width=\"800px\"\n    :title=\"t('component.upload.preview')\"\n    class=\"upload-preview-modal\"\n    v-bind=\"$attrs\"\n    @register=\"register\"\n    :showOkBtn=\"false\"\n  >\n    <FileList :dataSource=\"fileListRef\" :columns=\"columns\" :actionColumn=\"actionColumn\" />\n  </BasicModal>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, watch, ref } from 'vue';\n  //   import { BasicTable, useTable } from '/@/components/Table';\n  import FileList from './FileList.vue';\n  import { BasicModal, useModalInner } from '/@/components/Modal';\n  import { previewProps } from './props';\n  import { PreviewFileItem } from './typing';\n  import { downloadByUrl } from '/@/utils/file/download';\n  import { createPreviewColumns, createPreviewActionColumn } from './data';\n  import { useI18n } from '/@/hooks/web/useI18n';\n  import { isArray } from '/@/utils/is';\n\n  export default defineComponent({\n    components: { BasicModal, FileList },\n    props: previewProps,\n    emits: ['list-change', 'register', 'delete'],\n    setup(props, { emit }) {\n      const [register, { closeModal }] = useModalInner();\n      const { t } = useI18n();\n\n      const fileListRef = ref<PreviewFileItem[]>([]);\n      watch(\n        () => props.value,\n        (value) => {\n          if (!isArray(value)) value = [];\n          fileListRef.value = value\n            .filter((item) => !!item)\n            .map((item) => {\n              return {\n                url: item,\n                type: item.split('.').pop() || '',\n                name: item.split('/').pop() || '',\n              };\n            });\n        },\n        { immediate: true },\n      );\n\n      // 删除\n      function handleRemove(record: PreviewFileItem) {\n        const index = fileListRef.value.findIndex((item) => item.url === record.url);\n        if (index !== -1) {\n          const removed = fileListRef.value.splice(index, 1);\n          emit('delete', removed[0].url);\n          emit(\n            'list-change',\n            fileListRef.value.map((item) => item.url),\n          );\n        }\n      }\n\n      // // 预览\n      // function handlePreview(record: PreviewFileItem) {\n      //   const { url = '' } = record;\n      //   createImgPreview({\n      //     imageList: [url],\n      //   });\n      // }\n\n      // 下载\n      function handleDownload(record: PreviewFileItem) {\n        const { url = '' } = record;\n        downloadByUrl({ url });\n      }\n\n      return {\n        t,\n        register,\n        closeModal,\n        fileListRef,\n        columns: createPreviewColumns() as any[],\n        actionColumn: createPreviewActionColumn({ handleRemove, handleDownload }) as any,\n      };\n    },\n  });\n</script>\n<style lang=\"less\">\n  .upload-preview-modal {\n    .ant-upload-list {\n      display: none;\n    }\n\n    .ant-table-wrapper .ant-spin-nested-loading {\n      padding: 0;\n    }\n  }\n</style>\n","<template>\n  <div>\n    <Space>\n      <a-button type=\"primary\" @click=\"openUploadModal\" preIcon=\"carbon:cloud-upload\">\n        {{ t('component.upload.upload') }}\n      </a-button>\n      <Tooltip placement=\"bottom\" v-if=\"showPreview\">\n        <template #title>\n          {{ t('component.upload.uploaded') }}\n          <template v-if=\"fileList.length\">\n            {{ fileList.length }}\n          </template>\n        </template>\n        <a-button @click=\"openPreviewModal\">\n          <Icon icon=\"bi:eye\" />\n          <template v-if=\"fileList.length && showPreviewNumber\">\n            {{ fileList.length }}\n          </template>\n        </a-button>\n      </Tooltip>\n    </Space>\n    <UploadModal\n      v-bind=\"bindValue\"\n      :previewFileList=\"fileList\"\n      @register=\"registerUploadModal\"\n      @change=\"handleChange\"\n      @delete=\"handleDelete\"\n    />\n\n    <UploadPreviewModal\n      :value=\"fileList\"\n      @register=\"registerPreviewModal\"\n      @list-change=\"handlePreviewChange\"\n      @delete=\"handlePreviewDelete\"\n    />\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, ref, watch, unref, computed } from 'vue';\n  import { Recordable } from '@vben/types';\n  import Icon from '@/components/Icon/Icon.vue';\n  import { Tooltip, Space } from 'ant-design-vue';\n  import { useModal } from '/@/components/Modal';\n  import { uploadContainerProps } from './props';\n  import { omit } from 'lodash-es';\n  import { useI18n } from '/@/hooks/web/useI18n';\n  import { isArray } from '/@/utils/is';\n  import UploadModal from './UploadModal.vue';\n  import UploadPreviewModal from './UploadPreviewModal.vue';\n\n  export default defineComponent({\n    name: 'BasicUpload',\n    components: { UploadModal, Space, UploadPreviewModal, Icon, Tooltip },\n    props: uploadContainerProps,\n    emits: ['change', 'delete', 'preview-delete', 'update:value'],\n\n    setup(props, { emit, attrs }) {\n      const { t } = useI18n();\n      // 上传modal\n      const [registerUploadModal, { openModal: openUploadModal }] = useModal();\n\n      //   预览modal\n      const [registerPreviewModal, { openModal: openPreviewModal }] = useModal();\n\n      const fileList = ref<string[]>([]);\n\n      const showPreview = computed(() => {\n        const { emptyHidePreview } = props;\n        if (!emptyHidePreview) return true;\n        return emptyHidePreview ? fileList.value.length > 0 : true;\n      });\n\n      const bindValue = computed(() => {\n        const value = { ...attrs, ...props };\n        return omit(value, 'onChange');\n      });\n\n      watch(\n        () => props.value,\n        (value = []) => {\n          fileList.value = isArray(value) ? value : [];\n        },\n        { immediate: true },\n      );\n\n      // 上传modal保存操作\n      function handleChange(urls: string[]) {\n        fileList.value = [...unref(fileList), ...(urls || [])];\n        emit('update:value', fileList.value);\n        emit('change', fileList.value);\n      }\n\n      // 预览modal保存操作\n      function handlePreviewChange(urls: string[]) {\n        fileList.value = [...(urls || [])];\n        emit('update:value', fileList.value);\n        emit('change', fileList.value);\n      }\n\n      function handleDelete(record: Recordable<any>) {\n        emit('delete', record);\n      }\n\n      function handlePreviewDelete(url: string) {\n        emit('preview-delete', url);\n      }\n\n      return {\n        registerUploadModal,\n        openUploadModal,\n        handleChange,\n        handlePreviewChange,\n        registerPreviewModal,\n        openPreviewModal,\n        fileList,\n        showPreview,\n        bindValue,\n        handleDelete,\n        handlePreviewDelete,\n        t,\n      };\n    },\n  });\n</script>\n","import { withInstall } from '/@/utils';\nimport basicUpload from './src/BasicUpload.vue';\n\nexport const BasicUpload = withInstall(basicUpload);\n","<template>\n  <div class=\"tree-box\" ref=\"treeBox\">\n    <a-dropdown\n      v-if=\"(props.vmode == 'edit' || props.vmode == 'label') && !props.disabled\"\n      :trigger=\"['click']\"\n      :disabled=\"isDisabled\"\n      @visible-change=\"handleVisibleChange\"\n      v-model:visible=\"showDropdown\"\n    >\n      <!-- 输入框区域 -->\n      <template v-if=\"props.vmode == 'label'\">\n        <a-input\n          v-model:value=\"searchLabelText\"\n          class=\"tree-text\"\n          :allow-clear=\"showDropdown\"\n          :disabled=\"isDisabled\"\n          placeholder=\"请选择下拉树中数据...\"\n          @change=\"handleLabelChange\"\n          @click=\"toggleDropdown($event)\"\n          @clear=\"handleLabelChange\"\n        />\n      </template>\n      <template v-else>\n        <a-input\n          v-model:value=\"searchRealText\"\n          class=\"tree-text\"\n          :allow-clear=\"showDropdown\"\n          :disabled=\"isDisabled\"\n          placeholder=\"请选择下拉树中数据...\"\n          @focus=\"handlePreventEvent\"\n          @keydown=\"handlePreventEvent\"\n          @click=\"toggleDropdown($event)\"\n          @change=\"handleLabelChange\"\n          @clear=\"handleLabelChange\"\n        />\n      </template>\n      <template #overlay>\n        <a-menu>\n          <!-- 下拉表格弹框区域 -->\n          <div\n            v-if=\"reloadTreeFlag\"\n            @click.stop\n            v-show=\"showDropdown\"\n            class=\"tree-content\"\n            :style=\"`width: ${twidth}; display: ${showDropdown ? 'block' : 'none'}`\"\n          >\n            <!-- 输入框、搜索按钮和关闭按钮区域 -->\n            <div class=\"search-panel\">\n              <div class=\"search-popup-subcontent\">\n                <input\n                  class=\"search-input\"\n                  v-model=\"search.text\"\n                  @keyup=\"searchData\"\n                  placeholder=\"请输入搜索关键字...\"\n                />\n                <button class=\"close-button\" @click=\"clearData\">清除</button>\n                <button class=\"search-button\" @click=\"searchData\">搜索</button>\n              </div>\n            </div>\n            <!-- 基础Tree组件 -->\n            <div class=\"tree-compoment\" :style=\"`max-height: ${theight}px;`\">\n              <div v-if=\"props.multiple\">\n                <a-tree\n                  key=\"multiple-tree\"\n                  ref=\"multipleTree\"\n                  :tree-data=\"treeData\"\n                  show-icon\n                  checkable\n                  multiple\n                  :height=\"theight\"\n                  :fieldNames=\"newTfields\"\n                  :show-line=\"props.treeLine\"\n                  :default-expand-all=\"props.expandAll\"\n                  :virtual=\"false\"\n                  @check=\"handleMultipleCheck\"\n                >\n                  <template v-if=\"!props.treeLine\" #switcherIcon=\"{ switcherCls }\">\n                    <Icon :icon=\"props.ticons.parent\" color=\"#333\" size=\"14\" :class=\"switcherCls\" />\n                  </template>\n                  <template v-if=\"!props.treeLine\" #icon=\"{ key, isLeaf }\">\n                    <Icon\n                      v-if=\"isLeaf && !isTopNode(key)\"\n                      :icon=\"props.ticons.leaf\"\n                      color=\"#333\"\n                      size=\"14\"\n                    />\n                    <Icon\n                      v-if=\"!isLeaf && !isTopNode(key)\"\n                      :icon=\"props.ticons.middle\"\n                      color=\"#333\"\n                      size=\"14\"\n                    />\n                  </template>\n                </a-tree>\n              </div>\n              <div v-else>\n                <a-tree\n                  key=\"single-tree\"\n                  ref=\"singleTree\"\n                  :checkedKeys=\"selectedRealKeys\"\n                  :selectedKeys=\"selectedRealKeys\"\n                  :tree-data=\"treeData\"\n                  show-icon\n                  selectable\n                  :height=\"theight\"\n                  :fieldNames=\"newTfields\"\n                  :show-line=\"props.treeLine\"\n                  :default-expand-all=\"props.expandAll\"\n                  :virtual=\"false\"\n                  @select=\"handleSelect\"\n                  @check=\"handleCheck\"\n                >\n                  <template v-if=\"!props.treeLine\" #switcherIcon=\"{ switcherCls }\">\n                    <Icon :icon=\"props.ticons.parent\" color=\"#333\" size=\"14\" :class=\"switcherCls\" />\n                  </template>\n                  <template v-if=\"!props.treeLine\" #icon=\"{ key, isLeaf }\">\n                    <Icon\n                      v-if=\"isLeaf && !isTopNode(key)\"\n                      :icon=\"props.ticons.leaf\"\n                      color=\"#333\"\n                      size=\"14\"\n                    />\n                    <Icon\n                      v-if=\"!isLeaf && !isTopNode(key)\"\n                      :icon=\"props.ticons.middle\"\n                      color=\"#333\"\n                      size=\"14\"\n                    />\n                  </template>\n                </a-tree>\n              </div>\n            </div>\n          </div>\n          <div\n            v-else\n            class=\"tree-content\"\n            :style=\"`width: ${twidth}; display: ${showDropdown ? 'block' : 'none'}`\"\n          >\n            <!-- 输入框、搜索按钮和关闭按钮区域 -->\n            <div class=\"search-panel\">\n              <div class=\"search-popup-subcontent\">\n                <input\n                  class=\"search-input\"\n                  v-model=\"search.text\"\n                  @keyup=\"searchData\"\n                  placeholder=\"请输入搜索关键字...\"\n                />\n                <button class=\"close-button\" @click=\"clearData\">清除</button>\n                <button class=\"search-button\" @click=\"searchData\">搜索</button>\n              </div>\n            </div>\n            <div\n              class=\"tree-compoment tree-compoment-empty\"\n              :style=\"`max-height: ${theight}px; height: ${theight}px;`\"\n            >\n              <div class=\"empty-text\">重新加载中...</div>\n            </div>\n          </div>\n        </a-menu>\n      </template>\n    </a-dropdown>\n    <span v-else-if=\"props.vmode == 'view'\">{{ props.value }}</span>\n    <span v-else>\n      <template v-if=\"props.vmode == 'label'\">\n        <a-input :value=\"searchLabelText\" class=\"search-text\" :disabled=\"true\" />\n      </template>\n      <template v-else>\n        <a-input :value=\"searchRealText\" class=\"search-text\" :disabled=\"true\" />\n      </template>\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import {\n    ref,\n    onMounted,\n    onUnmounted,\n    defineProps,\n    defineEmits,\n    watch,\n    unref,\n    reactive,\n    computed,\n    nextTick,\n  } from 'vue';\n  import { TreeItem } from '../../Tree';\n  import { getCustomCompOptions } from '@/utils/cache';\n  import Icon from '@/components/Icon/Icon.vue';\n  import { MsgManager } from '/@/message/MsgManager';\n\n  const showDropdown = ref(false);\n  const searchRealText = ref<string>('');\n  const searchLabelText = ref<string>('');\n  const search = reactive({ text: '' });\n  const treeBox = ref<any>(null);\n  const loading = ref(false);\n  const treeData = reactive([]);\n  const treeMap = ref<any>();\n  const treeEntry = ref<any>(new Map());\n  const treeEntryMap = ref<any>(new Map());\n  const selectedValue = ref<any>(null);\n  const selectedKeys = ref<any[]>([]);\n  const selectedRealKeys = ref<any[]>([]);\n  const checkedKeys = ref<any[]>([]);\n  const reloadKey = ref(0);\n  const multipleTree = ref();\n  const singleTree = ref();\n  const treeRef = ref();\n  type fieldType = { key: String; title: String };\n  type tIconsType = { parent: String; leaf: String };\n  const reloadTreeFlag = ref(true);\n  const reloadTreeKey = ref(Math.random());\n\n  const props = defineProps({\n    vmode: { type: String, default: 'edit' },\n    opkey: { type: String, default: null },\n    columns: Array, // 列定义\n    data: { type: Array }, // 表格数据\n    twidth: { type: String, default: '100%' },\n    theight: { type: Number, default: 240 },\n    disabled: { type: Boolean, default: false },\n    value: { type: String, default: '' }, // 搜索框文本\n    className: { type: String },\n    expandAll: { type: Boolean, default: false },\n    treeLine: { type: [Boolean, Object], default: true && { showLeafIcon: true } },\n    callback: { type: Function, default: null },\n    multiple: { type: Boolean, default: false },\n    skeys: { type: Array, default: [] },\n    ticons: {\n      type: Object,\n      default: {\n        parent: 'ant-design:down-outlined',\n        middle: 'mingcute:department-line',\n        leaf: 'gridicons:multiple-users',\n      } as tIconsType,\n    },\n    tfields: {\n      type: Object,\n      default: {\n        key: 'id',\n        value: 'value',\n        title: 'title',\n      } as fieldType,\n    },\n  });\n\n  const newTfields = ref({});\n  const tdata = ref([]);\n\n  // 注入全局的disable状态\n  const appDisabled = ref(false);\n\n  // 根据disable状态计算出组件的disable状态\n  const isDisabled = computed(() => {\n    return props.disabled || appDisabled.value;\n  });\n\n  const emit = defineEmits(['update:value', 'update:skeys', 'select', 'change', 'clear']); // 允许双向绑定value\n\n  const searchData = () => {\n    try {\n      loading.value = true;\n      const text = search.text;\n      treeData.splice(0, treeData.length);\n      const rule = newTfields.value as fieldType;\n      const data = unref(tdata.value as unknown[] as TreeItem[]);\n      const resultData = JSON.parse(JSON.stringify(data));\n      const result = findNodes(resultData, text);\n      const tempList = transformData(result, rule) as never[];\n      treeData.push(...tempList);\n\n      handleLoadKeys();\n    } catch (error) {\n      //\n    }\n  };\n\n  const handleVisibleChange = () => {\n    reloadKey.value += 1;\n    setTimeout(() => {\n      searchData();\n    }, 300);\n  };\n\n  const handleLabelChange = (event) => {\n    if (props.vmode === 'label' && searchLabelText.value == '') {\n      emit('update:value', '');\n      emit('update:skeys', []);\n      emit('clear', '');\n    } else if (props.vmode !== 'label' && searchRealText.value == '') {\n      emit('update:value', '');\n      emit('update:skeys', []);\n      emit('clear', '');\n    }\n\n    // 触发 clear 图标的点击事件，此时需要清空 a-tree 的数据的选中状态\n    if (event.target.value === '' && event.type === 'click') {\n      reloadTreeFlag.value = false;\n      setTimeout(() => {\n        reloadTreeFlag.value = true;\n      }, 300);\n    }\n  };\n\n  const toggleDropdown = (event) => {\n    try {\n      event.stopPropagation(); // 阻止事件冒泡\n      showDropdown.value = true;\n    } catch (error) {\n      //\n    }\n  };\n\n  // 清空\n  const clearData = () => {\n    try {\n      search.text = '';\n      searchData();\n      clearInput('input.search-input');\n    } catch (error) {\n      //\n    }\n  };\n\n  // 清空输入\n  const clearInput = (selector = 'input.search-input') => {\n    try {\n      document.querySelector(selector).value = '';\n    } catch (e) {\n      //\n    }\n  };\n\n  // 禁用事件\n  const handlePreventEvent = (event) => {\n    event.preventDefault();\n  };\n\n  // 按tfields生成转换规则\n  const reverseRule = (rule) => {\n    const reversedRule = {};\n    try {\n      for (const key in rule) {\n        reversedRule[rule[key]] = key;\n      }\n    } catch (error) {\n      //\n    }\n    return reversedRule;\n  };\n\n  // 按tfields的设置转换tree的数据\n  const transformData = (data, rule) => {\n    if (data == null || typeof data == 'undefined' || data.length === 0) {\n      return [];\n    }\n    try {\n      const rules = reverseRule(rule);\n      return data.map((item) => {\n        const newItem = {};\n        for (const key in item) {\n          if (key in rules) {\n            if (rules[key] == 'title') {\n              newItem[rules[key]] = item[key];\n            } else if (rules[key] == 'id') {\n              newItem[rules[key]] = parseInt(Math.random() * 100) + '@' + item[key].slice(0, 5);\n            }\n          }\n          newItem[key] = item[key];\n        }\n        if (item.children && item.children.length > 0) {\n          newItem.children = transformData(item.children, rule);\n        }\n        try {\n          const title = newItem[props.tfields.title];\n          const value = newItem[props.tfields.value] || title;\n          const key = newItem[props.tfields.key] || value;\n          treeEntry.value.set(key, title);\n          treeEntry.value.set(value, title);\n          treeEntryMap.value.set(key, newItem);\n        } catch {\n          //\n        }\n        return newItem;\n      });\n    } catch (error) {\n      //\n    }\n  };\n\n  // 递归函数\n  const recursiveSearch = (node, result, searchValue) => {\n    try {\n      const temp = JSON.parse(JSON.stringify(node));\n      delete temp.children;\n      if (JSON.stringify(temp).includes(searchValue)) {\n        result.push(temp);\n      }\n      if (node.children && node.children.length > 0) {\n        for (const child of node.children) {\n          recursiveSearch(child, result, searchValue);\n        }\n      }\n    } catch (error) {\n      //\n    }\n  };\n\n  // 查找节点\n  const findNodes = (data, searchValue) => {\n    const result = [];\n    try {\n      if (searchValue == '' || searchValue == null || typeof searchValue == 'undefined') {\n        return data;\n      }\n      // 开始遍历\n      for (const item of data) {\n        recursiveSearch(item, result, searchValue);\n      }\n      return result;\n    } catch {\n      //\n    }\n  };\n\n  // 判断是否为顶层节点\n  const isTopNode = (key) => {\n    try {\n      return !!treeMap.value.get(key);\n    } catch {\n      return false;\n    }\n  };\n\n  // 将数据节点转换为Map\n  const transformMap = (data, rule) => {\n    try {\n      const treeMap = new Map();\n      data.forEach((item) => {\n        const key = item[rule['key']];\n        treeMap.set(key, item);\n      });\n      return treeMap;\n    } catch {\n      //\n    }\n  };\n\n  // 树节点选中事件\n  const handleSelect = (node, event) => {\n    try {\n      if (Reflect.has(props.tfields, 'value')) {\n        if (props.multiple) {\n          searchRealText.value = selectedValue.value = event.selectedNodes.map(\n            (element) => element[props.tfields.value] || element[props.tfields.title],\n          );\n          searchLabelText.value = event.selectedNodes.map(\n            (element) => element[props.tfields.title],\n          );\n        } else {\n          searchRealText.value = selectedValue.value =\n            event.node[props.tfields.value] || event.node[props.tfields.title];\n          searchLabelText.value = event.node[props.tfields.title];\n        }\n        emit('update:value', selectedValue.value);\n        emit('update:skeys', selectedRealKeys.value);\n      } else {\n        if (props.multiple) {\n          searchRealText.value = selectedValue.value = event.selectedNodes.map(\n            (element) => element[props.tfields.title],\n          );\n        } else {\n          searchRealText.value = selectedValue.value = event.node[props.tfields.title];\n        }\n        searchLabelText.value = selectedValue.value as unknown as string;\n        emit('update:value', selectedValue.value);\n        emit('update:skeys', selectedRealKeys.value);\n      }\n      if (props.callback != null) {\n        props.callback(event.node, event);\n      }\n      if (!props.multiple) {\n        showDropdown.value = false;\n      }\n      try {\n        emit('select', event.node, event);\n        emit('change', event.node.title, event.node, event);\n      } catch {\n        //\n      }\n    } catch (e) {\n      //\n    }\n  };\n\n  // 重新加载组件数据\n  const reload = () => {\n    try {\n      let options = null;\n      if (props.opkey != null && props.opkey != '') {\n        options = getCustomCompOptions(props.opkey);\n        newTfields.value = options?.tfields;\n        tdata.value = unref(options?.data);\n      } else {\n        newTfields.value = props?.tfields;\n        tdata.value = props?.data as never[];\n      }\n      treeData.splice(0, treeData.length);\n      const rule = newTfields.value as fieldType;\n      const data = unref(tdata.value as unknown[] as TreeItem[]);\n      const resultData = JSON.parse(JSON.stringify(data));\n      treeMap.value = transformMap(data, rule);\n      const tempList = transformData(resultData, rule) as never[];\n      treeData.push(...tempList);\n\n      handleLoadKeys();\n    } catch {\n      //\n    }\n  };\n\n  const handleLoadKeys = () => {\n    selectedRealKeys.value = [];\n    if (typeof props.skeys == 'string') {\n      selectedRealKeys.value = props.skeys == '' ? [] : (props.skeys as string).split(',');\n    } else {\n      selectedRealKeys.value = props.skeys;\n    }\n  };\n\n  const handleCheck = (keys, event) => {\n    checkedKeys.value = keys.checked;\n    if (keys?.checked?.length == event.checkedNodes?.length) {\n      searchRealText.value = selectedValue.value = event.checkedNodes.map(\n        (element) => element[props.tfields.title],\n      );\n    } else {\n      searchRealText.value = selectedValue.value = keys.checked.map((e) => {\n        const entry = treeEntryMap?.value?.get(e);\n        const result = entry ? entry[props.tfields.title] : '';\n        return result;\n      });\n    }\n    emit('update:value', selectedValue.value);\n    emit('update:skeys', checkedKeys.value);\n  };\n\n  const handleMultipleCheck = (keys, event) => {    \n    let valueArr = [];\n    let checkedKeyArr = [];\n    event.checkedNodes.forEach(element => {\n      if(!element.children?.length) {\n        valueArr.push(element[props.tfields.title]);\n        checkedKeyArr.push(element[props.tfields.key]);\n      }\n    });\n    searchRealText.value = valueArr;\n    selectedValue.value = valueArr;\n    checkedKeys.value = checkedKeyArr;\n    emit('update:value', selectedValue.value);\n    emit('update:skeys', checkedKeys.value);\n  };\n\n  watch(\n    () => props.multiple,\n    (newValue) => {\n      selectedValue.value = props.multiple ? [] : '';\n    },\n  );\n\n  watch(\n    () => props.data,\n    () => {\n      reload();\n    },\n  );\n\n  watch(\n    () => props.value,\n    (newValue) => {\n      try {\n        if (newValue) {\n          searchRealText.value = newValue;\n        } else {\n          searchRealText.value = '';\n          searchLabelText.value = '';\n          if (props.multiple) {\n            emit('update:value', '');\n            emit('update:skeys', []);\n          }\n        }\n      } catch {\n        //\n      }\n    },\n  );\n\n  watch(\n    () => props.skeys,\n    () => {\n      //\n    },\n  );\n\n  onMounted(() => {\n    try {\n      reload();\n      searchRealText.value = props.value;\n      selectedValue.value = props.multiple ? [] : '';\n      searchLabelText.value = treeEntry.value.get(props.value);\n      // MsgManager.getInstance().listen('global-disabled', (message) => { appDisabled.value = message; });\n    } catch {\n      //\n    }\n  });\n\n  onUnmounted(() => {});\n\n  defineExpose({ reload });\n</script>\n\n<style scoped>\n  .tree-box {\n    position: relative;\n  }\n\n  .tree-content {\n    position: relative;\n    z-index: 10000 !important;\n    height: 100%;\n    margin-top: 5px;\n    border: 0 solid #f0f0f0;\n\n    &:deep(.ant-tree) {\n      z-index: 10000 !important;\n    }\n\n    &:deep(.ant-tree .ant-tree-list .ant-tree-list-holder) {\n      z-index: 10000 !important;\n    }\n\n    &:deep(.ant-tree .ant-tree-list .ant-tree-list-holder .ant-tree-list-holder-inner) {\n      z-index: 10000 !important;\n    }\n\n    .tree-compoment-empty {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      min-height: 150px;\n      color: #90909090;\n    }\n  }\n\n  .search-panel {\n    position: relative;\n\n    /* border-right: 1px solid #f0f0f0;\n    border-bottom: 1px solid #f0f0f0;\n    border-left: 1px solid #f0f0f0;\n    background: #fefefe; */\n\n    .search-popup-subcontent {\n      margin: 0 5px 1px;\n\n      & input.search-text {\n        width: 100%;\n        padding: 5px;\n      }\n    }\n\n    .search-button {\n      position: absolute;\n      top: 5px;\n      right: 0;\n      background: transparent;\n      color: #cecece;\n\n      &:hover {\n        color: #c0c0c0;\n        cursor: pointer;\n      }\n    }\n\n    .close-button {\n      position: absolute;\n      top: 5px;\n      right: 40px;\n      background: transparent;\n      color: #cecece;\n\n      &:hover {\n        color: #c0c0c0;\n        cursor: pointer;\n      }\n    }\n  }\n\n  input.search-input {\n    width: 100%;\n    height: 35px;\n    line-height: 35px;\n\n    &:focus {\n      border: 0 solid #fefefe;\n      border-bottom: 1px solid #3793f5;\n      border-radius: 0;\n      outline: none;\n    }\n  }\n</style>\n","<template>\n  <a-select\n    v-if=\"props.vmode == 'edit' || props.disabled\"\n    v-model:value=\"selectedValue\"\n    show-search\n    allow-clear\n    :dropdown-style=\"props.dstyle\"\n    :style=\"`width: ${typeof props.twidth == 'number' ? props.twidth + 'px' : props.twidth}`\"\n    placeholder=\"请选择...\"\n    :disabled=\"isDisabled\"\n    :mode=\"modeValue\"\n    :max-tag-count=\"props.maxTagCount\"\n    :max-tag-text-length=\"props.maxTagTextLength\"\n    :options=\"selectData\"\n    :filter-option=\"filterOption\"\n    :field-names=\"newTfields\"\n    @change=\"handleChange\"\n    @select=\"handleSelect\"\n  />\n  <span v-if=\"props.vmode == 'view'\">{{ findOption(props.value) }}</span>\n</template>\n<script lang=\"ts\" setup>\n  import { ref, onMounted, defineProps, defineEmits, watch, unref, reactive, computed } from 'vue';\n  import { getCustomCompOptions } from '@/utils/cache';\n  import { MsgManager } from '/@/message/MsgManager';\n\n  const selectedValue = ref<any>();\n  const props = defineProps({\n    vmode: { type: String, default: 'edit' },\n    opkey: { type: String, default: null },\n    disabled: { type: Boolean, default: false },\n    twidth: { type: [Number, String], default: '100%' },\n    type: { type: String, default: '' },\n    dstyle: { type: Object, default: { maxHeight: '400px', overflow: 'auto' } as Object },\n    value: { type: [String, Array], default: null },\n    data: { type: Array, default: [] as Array<any> },\n    multiple: { type: [String, Boolean], default: false },\n    maxTagTextLength: { type: [Number], default: 10 },\n    maxTagCount: { type: [String, Number], default: 'responsive' },\n    loadData: { type: Function, default: null },\n    callback: { type: Function, default: null },\n    tfields: { type: Object, default: { label: 'label', value: 'value' } as Object },\n  });\n\n  const newTfields = ref({});\n  const tdata = ref([]);\n  const selectData = reactive([]);\n\n  // 注入全局的disable状态\n  const appDisabled = ref(false);\n\n  // 根据disable状态计算出组件的disable状态\n  const isDisabled = computed(() => {\n    return props.disabled || appDisabled.value;\n  });\n\n  // 定义emits\n  const emit = defineEmits(['update:value', 'change', 'select', 'search', 'expand']);\n\n  // 计算mode值\n  const modeValue = computed(() =>\n    typeof props.multiple == 'boolean'\n      ? props.multiple == true\n        ? 'multiple'\n        : 'combobox'\n      : props.multiple,\n  );\n\n  // 筛选过滤\n  const filterOption = (input: string, option: any) => {\n    if (typeof option == 'object') {\n      return JSON.stringify(option).toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    } else if (typeof option == 'string') {\n      return option.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    } else {\n      return false;\n    }\n  };\n\n  // 查找选项\n  const findOption = (value) => {\n    try {\n      const item = findNodeByValue(selectData, value);\n      return item ? Reflect.get(item, newTfields.value.label) : value;\n    } catch (error) {\n      return value;\n    }\n  };\n\n  // 判断是否相等\n  const isNodeEqual = (elem, value, tfields) => {\n    try {\n      if (Reflect.has(elem, tfields.value)) {\n        return Reflect.get(elem, tfields.value) === value;\n      } else if (Reflect.has(elem, tfields.label)) {\n        return Reflect.get(elem, tfields.label) === value;\n      } else {\n        return false;\n      }\n    } catch {\n      return false;\n    }\n  };\n\n  // 查询元素\n  const findNodeByValue = (dataList: Array<any>, value: string): any => {\n    if (dataList == null || typeof dataList == 'undefined') {\n      return null;\n    }\n    try {\n      for (let i = 0; i < dataList.length; i++) {\n        const element = dataList[i];\n        if (isNodeEqual(element, value, newTfields.value)) {\n          return element;\n        }\n      }\n    } catch (error) {\n      return null;\n    }\n    return null;\n  };\n\n  // 处理change函数\n  const handleChange = (value, options) => {\n    if (typeof value == 'object' && Reflect.has(value, 'value')) {\n      emit('update:value', value.value);\n    } else if (typeof value == 'string' || typeof value == 'number' || typeof value == 'boolean') {\n      emit('update:value', value);\n    }\n    emit('change', value, options);\n    if (props.callback != null) {\n      props.callback(value, options);\n    }\n  };\n\n  const handleSelect = (value, options) => {\n    emit('select', value, options);\n    if (props.callback != null) {\n      props.callback(value, options);\n    }\n  };\n\n  const reloadData = () => {\n    try {\n      let options = null;\n      if (props.opkey != null && props.opkey != '') {\n        options = getCustomCompOptions(props.opkey);\n        newTfields.value = options?.tfields;\n        tdata.value = unref(options?.data);\n      } else {\n        newTfields.value = props?.tfields;\n        tdata.value = props?.data as never[];\n      }\n      selectData.splice(0, selectData.length);\n      selectData.push(...tdata.value);\n    } catch (error) {\n      //\n    }\n  };\n\n  watch(\n    () => props.value,\n    () => {\n      try {\n        selectedValue.value = props?.value;\n      } catch (error) {\n        //\n      }\n    },\n  );\n\n  watch(\n    () => selectedValue.value,\n    () => {\n      try {\n        if (props.multiple === true && selectedValue.value === null) {\n          selectedValue.value = [];\n        }\n      } catch (error) {\n        //\n      }\n    },\n  );\n\n  watch(\n    () => props.data,\n    () => {\n      reloadData();\n    },\n  );\n\n  // 启动加载\n  onMounted(async () => {\n    try {\n      selectedValue.value = props?.value;\n      reloadData();\n      // MsgManager.getInstance().listen('global-disabled', (message) => { appDisabled.value = message; });\n    } catch (error) {\n      //\n    }\n  });\n</script>\n","<template>\n  <a-cascader\n    v-if=\"props.vmode == 'edit' || props.disabled\"\n    v-model:value=\"selectedValue\"\n    :style=\"`width: ${typeof props.twidth == 'number' ? props.twidth + 'px' : props.twidth}`\"\n    allow-clear\n    placeholder=\"请选择...\"\n    :dropdown-style=\"props.dstyle\"\n    :disabled=\"isDisabled\"\n    :options=\"cascaderData\"\n    :show-search=\"{ filter }\"\n    :multiple=\"modeValue\"\n    :field-names=\"newTfields\"\n    :max-tag-count=\"props.maxTagCount\"\n    :max-tag-text-length=\"props.maxTagTextLength\"\n    @change=\"handleChange\"\n    @search=\"handleSearch\"\n  />\n  <span v-if=\"props.vmode == 'view'\">{{ findOption(props.value) }}</span>\n</template>\n<script lang=\"ts\" setup>\n  import { ref, onMounted, defineProps, defineEmits, watch, unref, reactive, computed } from 'vue';\n  import { getCustomCompOptions } from '@/utils/cache';\n  import type { ShowSearchType } from 'ant-design-vue/es/cascader';\n  import { MsgManager } from '/@/message/MsgManager';\n\n  const selectedValue = ref<any>();\n  const props = defineProps({\n    vmode: { type: String, default: 'edit' },\n    opkey: { type: String, default: null },\n    disabled: { type: Boolean, default: false },\n    twidth: { type: [Number, String], default: '100%' },\n    type: { type: String, default: '' },\n    dstyle: { type: Object, default: { maxHeight: '400px', overflow: 'auto' } as Object },\n    value: { type: [String, Array], default: null },\n    data: { type: Array, default: [] as Array<any> },\n    multiple: { type: [String, Boolean], default: false },\n    maxTagTextLength: { type: [Number], default: 10 },\n    maxTagCount: { type: [String, Number], default: 'responsive' },\n    loadData: { type: Function, default: null },\n    tfields: { type: Object, default: { label: 'label', value: 'value' } as Object },\n    callback: { type: Function, default: null },\n  });\n\n  const newTfields = ref({});\n  const tdata = ref([]);\n  const cascaderData = reactive([]);\n\n  // 注入全局的disable状态\n  const appDisabled = ref(false);\n\n  // 根据disable状态计算出组件的disable状态\n  const isDisabled = computed(() => {\n    return props.disabled || appDisabled.value;\n  });\n\n  // 定义emits\n  const emit = defineEmits(['update:value', 'change', 'search']);\n\n  // 计算mode值\n  const modeValue = computed(() =>\n    typeof props.multiple == 'string'\n      ? props.multiple == 'multiple'\n        ? true\n        : false\n      : props.multiple,\n  );\n\n  // 查找选项\n  const findOption = (value) => {\n    try {\n      const item = findNodeByValue(cascaderData, value);\n      return item ? Reflect.get(item, newTfields.value.label) : value;\n    } catch (error) {\n      return value;\n    }\n  };\n\n  // 判断是否相等\n  const isNodeEqual = (elem, value, tfields) => {\n    try {\n      if (Reflect.has(elem, tfields.value)) {\n        return Reflect.get(elem, tfields.value) === value;\n      } else if (Reflect.has(elem, tfields.label)) {\n        return Reflect.get(elem, tfields.label) === value;\n      } else {\n        return false;\n      }\n    } catch {\n      return false;\n    }\n  };\n\n  // 查询元素\n  const findNodeByValue = (dataList: Array<any>, value: string): any => {\n    if (dataList == null || typeof dataList == 'undefined') {\n      return null;\n    }\n    try {\n      for (let i = 0; i < dataList.length; i++) {\n        const element = dataList[i];\n        if (isNodeEqual(element, value, newTfields.value)) {\n          return element;\n        }\n      }\n    } catch (error) {\n      return null;\n    }\n    return null;\n  };\n\n  // 处理change函数\n  const handleChange = (value, options) => {\n    if (typeof value == 'object' && Reflect.has(value, 'value')) {\n      emit('update:value', value.value);\n    } else if (typeof value == 'string' || typeof value == 'number' || typeof value == 'boolean') {\n      emit('update:value', value);\n    }\n    emit('change', value, options);\n    if (props.callback != null) {\n      props.callback(value, options);\n    }\n  };\n\n  // 处理search函数\n  const handleSearch = (value, options) => {\n    emit('search', value, options);\n  };\n\n  // 重新加载\n  const reloadData = () => {\n    try {\n      let options = null;\n      if (props.opkey != null && props.opkey != '') {\n        options = getCustomCompOptions(props.opkey);\n        newTfields.value = options?.tfields;\n        tdata.value = unref(options?.data);\n      } else {\n        newTfields.value = props?.tfields;\n        tdata.value = props?.data as never[];\n      }\n      cascaderData.splice(0, cascaderData.length);\n      cascaderData.push(...tdata.value);\n    } catch (error) {\n      //\n    }\n  };\n\n  // 过滤函数\n  const filter: ShowSearchType['filter'] = (inputValue, path) => {\n    return path.some((option) => option.label.toLowerCase().indexOf(inputValue.toLowerCase()) > -1);\n  };\n\n  watch(\n    () => props.value,\n    () => {\n      try {\n        selectedValue.value = props?.value;\n      } catch (error) {\n        //\n      }\n    },\n  );\n\n  watch(\n    () => props.data,\n    () => {\n      reloadData();\n    },\n  );\n\n  // 启动加载\n  onMounted(async () => {\n    try {\n      selectedValue.value = props?.value;\n      reloadData();\n      // MsgManager.getInstance().listen('global-disabled', (message) => { appDisabled.value = message; });\n    } catch (error) {\n      //\n    }\n  });\n</script>\n","<template>\n  <a-tree-select\n    v-if=\"props.vmode == 'edit' || props.disabled\"\n    v-model:value=\"selectedValue\"\n    v-model:searchValue=\"searchValue\"\n    show-search\n    :style=\"`width: ${typeof props.width == 'number' ? props.width + 'px' : props.width}`\"\n    :dropdown-style=\"{ maxHeight: '400px', width: '500px', overflow: 'auto' }\"\n    placeholder=\"请选择...\"\n    allow-clear\n    :disabled=\"isDisabled\"\n    :tree-default-expand-all=\"treeDefaultExpandAll\"\n    :multiple=\"props.multiple\"\n    :dropdownMatchSelectWidth=\"props.twidth\"\n    :tree-data=\"treeData\"\n    :field-names=\"newTfields\"\n    :tree-node-filter-prop=\"props.filterName\"\n    :treeLine=\"props.treeLine\"\n    :tree-checkable=\"props.treeCheckable\"\n    :load-data=\"props.loadData\"\n    @change=\"handleChange\"\n    @select=\"handleSelect\"\n    @search=\"handleSearch\"\n    @tree-expand=\"handleExpand\"\n  />\n  <span v-if=\"props.vmode == 'view'\">{{ findOption(props.value) }}</span>\n</template>\n<script lang=\"ts\" setup>\n  import { ref, onMounted, defineProps, defineEmits, watch, unref, reactive, computed } from 'vue';\n  import { getCustomCompOptions } from '@/utils/cache';\n  import { MsgManager } from '/@/message/MsgManager';\n\n  const selectedValue = ref<any>();\n  const props = defineProps({\n    vmode: { type: String, default: 'edit' },\n    opkey: { type: String, default: null },\n    disabled: { type: Boolean, default: false },\n    width: { type: [Number, String], default: '100%' },\n    twidth: { type: [Boolean, Number], default: true },\n    type: { type: String, default: '' },\n    treeCheckable: { type: Boolean, default: false },\n    treeDefaultExpandAll: { type: Boolean, default: true },\n    value: { type: [String, Array], default: null },\n    data: { type: Array, default: [] },\n    multiple: { type: [String, Boolean], default: false },\n    treeLine: { type: [Boolean, Object], default: true && { showLeafIcon: true } },\n    tfields: {\n      type: Object,\n      default: {\n        children: 'children',\n        label: 'label',\n        value: 'value',\n      },\n    },\n    loadData: { type: Function, default: null },\n    callback: { type: Function, default: null },\n    filterName: { type: String, default: 'label' },\n  });\n\n  const newTfields = ref({});\n  const tdata = ref([]);\n  const treeData = reactive([]);\n  const searchValue = ref('');\n\n  // 注入全局的disable状态\n  const appDisabled = ref(false);\n\n  // 根据disable状态计算出组件的disable状态\n  const isDisabled = computed(() => {\n    return props.disabled || appDisabled.value;\n  });\n\n  // 定义emits\n  const emit = defineEmits(['update:value', 'change', 'select', 'search', 'expand']);\n\n  const findOption = (value) => {\n    try {\n      const item = findNodeByValue(treeData, value);\n      return item ? Reflect.get(item, newTfields.value.label) : value;\n    } catch (error) {\n      return value;\n    }\n  };\n\n  const isNodeEqual = (elem, value, tfields) => {\n    try {\n      if (Reflect.has(elem, tfields.value)) {\n        return Reflect.get(elem, tfields.value) === value;\n      } else if (Reflect.has(elem, tfields.label)) {\n        return Reflect.get(elem, tfields.label) === value;\n      } else {\n        return false;\n      }\n    } catch {\n      return false;\n    }\n  };\n\n  const findNodeByValue = (tree: Array<any>, value: string): any => {\n    if (tree == null || typeof tree == 'undefined') {\n      return null;\n    }\n    try {\n      for (let i = 0; i < tree.length; i++) {\n        const element = tree[i];\n        if (isNodeEqual(element, value, newTfields.value)) {\n          return element;\n        }\n        const result = findNodeByValue(element.children, value);\n        if (result) {\n          return result;\n        }\n      }\n    } catch (error) {\n      return null;\n    }\n    return null;\n  };\n\n  const handleChange = (value, label, extra) => {\n    emit('change', value, label, extra);\n  };\n\n  const handleSelect = (value, node, extra) => {\n    emit('select', value, node, extra);\n    if (props.callback != null) {\n      props.callback(value, node, extra);\n    }\n  };\n\n  const handleSearch = (value, node, extra) => {\n    emit('search', value, node, extra);\n  };\n\n  const handleExpand = (expandedKeys) => {\n    emit('expand', expandedKeys);\n  };\n\n  const reloadData = () => {\n    try {\n      let options = null;\n      if (props.opkey != null && props.opkey != '') {\n        options = getCustomCompOptions(props.opkey);\n        newTfields.value = options?.tfields;\n        tdata.value = unref(options?.data);\n      } else {\n        newTfields.value = props?.tfields;\n        tdata.value = props?.data as never[];\n      }\n      treeData.splice(0, treeData.length);\n      treeData.push(...tdata.value);\n    } catch (error) {\n      //\n    }\n  };\n\n  watch(\n    () => props.value,\n    () => {\n      try {\n        selectedValue.value = props?.value;\n      } catch (error) {\n        //\n      }\n    },\n  );\n\n  watch(\n    () => props.data,\n    () => {\n      reloadData();\n    },\n  );\n\n  // 启动加载\n  onMounted(async () => {\n    try {\n      selectedValue.value = props?.value;\n      reloadData();\n      // MsgManager.getInstance().listen('global-disabled', (message) => { appDisabled.value = message; });\n    } catch (error) {\n      //\n    }\n  });\n</script>\n","<template>\n  <a-radio-group\n    v-if=\"props.vmode == 'edit'\"\n    v-model:value=\"radioValue\"\n    name=\"radioGroup\"\n    @change=\"change\"\n    :disabled=\"isDisabled\"\n  >\n    <template v-if=\"props.rtype != 'button'\">\n      <a-radio\n        :style=\"props.rtype == 'vertical' ? verticalStyle : ''\"\n        v-for=\"dict in options\"\n        :key=\"dict.value\"\n        :value=\"dict.value\"\n        :label=\"dict.value\"\n      >\n        {{ dict.label }}\n      </a-radio>\n    </template>\n    <template v-if=\"props.rtype == 'button'\">\n      <a-radio-button\n        :style=\"props.rtype == 'vertical' ? verticalStyle : ''\"\n        v-for=\"dict in options\"\n        :key=\"dict.value\"\n        :value=\"dict.value\"\n        :label=\"dict.value\"\n      >\n        {{ dict.label }}\n      </a-radio-button>\n    </template>\n  </a-radio-group>\n  <span v-if=\"props.vmode == 'view'\">{{ findOption(props.value) }}</span>\n</template>\n<script lang=\"ts\" setup>\n  import type { SelectProps } from 'ant-design-vue';\n  import { ref, reactive, onMounted, defineProps, defineEmits, watch, computed } from 'vue';\n  import { useDictStoreWithOut } from '@/store/modules/dict';\n  import { createLocalForage } from '@/utils/cache';\n  import { DICT_DATA__KEY } from '@/enums/cacheEnum';\n  import { MsgManager } from '/@/message/MsgManager';\n\n  const ls = createLocalForage();\n\n  const dictStore = useDictStoreWithOut();\n  const options = ref<SelectProps['options']>([]);\n  const radioValue = ref('');\n  const tDisabled = ref(false);\n\n  // 注入全局的disable状态\n  const appDisabled = ref(false);\n\n  // 根据disable状态计算出组件的disable状态\n  const isDisabled = computed(() => {\n    return tDisabled.value || appDisabled.value;\n  });\n\n  const props = defineProps({\n    vmode: { type: String, default: 'edit' },\n    mode: { type: String, default: 'group' }, // 如果mode为group模式，则统一加载数据\n    type: { type: String, default: '' },\n    value: { type: String, default: null },\n    delaytimes: { type: Number, default: 900 },\n    rtype: { type: String, default: 'radio' }, // radio vertical button\n    disabled: { type: Boolean, default: false },\n  });\n\n  const verticalStyle = reactive({\n    display: 'flex',\n    height: '30px',\n    lineHeight: '30px',\n  });\n\n  // 设置value\n  const setupValue = () => {\n    radioValue.value = props.value as string;\n  };\n\n  // 获取change事件\n  const change = () => {\n    emit('update:value', radioValue.value);\n    emit('change', radioValue.value);\n  };\n\n  const findOption = (value) => {\n    const item = options.value.find((item) => {\n      return item.value == value;\n    });\n    return item ? item?.label : '';\n  };\n\n  // 定义emits\n  const emit = defineEmits(['update:value', 'change']);\n\n  watch(\n    () => props.value,\n    () => {\n      setupValue();\n    },\n  );\n\n  watch(\n    () => props.disabled,\n    () => {\n      tDisabled.value = props.disabled;\n    },\n  );\n\n  // 启动加载\n  onMounted(async () => {\n    // 在组件挂载后，通过后端接口获取数据字段的数据\n    try {\n      const { type } = props;\n      let cache = await ls.fget(DICT_DATA__KEY + type);\n      tDisabled.value = props.disabled;\n      if (!cache) {\n        if (props.mode !== 'group') {\n          // 调用后端接口获取数据\n          const response = await dictStore.fetchBackendData('', props);\n          // 格式化后端数据，将数据转换为适用于下拉框的格式\n          options.value = response;\n          setupValue();\n        } else {\n          // 数据字典的多个组件示例，初始化时间需要通过此timestamp错开，否则会同时发送多个request请求，当初始化时间错开后，后续的request请求将通过缓存获取返回结果\n          const timestamp =\n            (props.delaytimes * (Math.random() + Math.random() + Math.random())) / 2;\n          dictStore.setDictKey(props.type);\n          setTimeout(async () => {\n            const typeList = dictStore.getDictKey.join(',');\n            cache = await ls.fget(DICT_DATA__KEY + type);\n            if (!cache) {\n              // 调用后端接口获取数据\n              const response = await dictStore.fetchBackendData(typeList, props);\n              // 格式化后端数据，将数据转换为适用于下拉框的格式\n              options.value = response;\n            } else {\n              options.value = cache;\n            }\n            setupValue();\n          }, timestamp);\n        }\n      } else {\n        options.value = cache;\n        setupValue();\n      }\n    } catch (error) {\n      console.error('Failed to fetch data:', error);\n    } finally {\n      // MsgManager.getInstance().listen('global-disabled', (message) => { appDisabled.value = message; });\n    }\n  });\n</script>\n","<template>\n  <Dialog ref=\"comboDialog\" :title=\"title\" :visible=\"modalVisible\" @update:visible=\"updateVisible\" :width=\"props.width\" :height=\"props.height\" @cancel=\"cancel\" @confirm=\"confirm\">\n    <div class=\"dialog-content dialog\" :style=\"`height: calc(${props.height}px - 90px)`\">\n      <!-- 左侧分类树 -->\n      <div class=\"category-tree\">\n        <div class=\"category-title\">\n          <span class=\"title-value\">分类</span>\n        </div>\n        <div class=\"tree-content\">\n          <div class=\"tree-value\" :style=\"`height: calc(${props.height}px - 140px);`\">\n            <!-- 基础Tree组件 -->\n            <a-tree :tree-data=\"treeData\" show-icon default-expand-all @select=\"handleSelect\">\n              <template #switcherIcon=\"{ switcherCls }\">\n                <Icon :icon=\"props.ticons.parent\" size=\"14\" :class=\"switcherCls\" />\n              </template>\n              <template #icon=\"{ key, isLeaf }\">\n                <Icon v-if=\"isLeaf && !isTopNode(key)\" :icon=\"props.ticons.leaf\" size=\"14\" />\n                <Icon v-if=\"!isLeaf && !isTopNode(key)\" :icon=\"props.ticons.middle\" size=\"14\" />\n              </template>\n            </a-tree>\n          </div>\n        </div>\n      </div>\n\n      <!-- 右侧表格 -->\n      <div class=\"category-table\">\n        <div class=\"category-title\">\n          <span class=\"title-value\">列表</span>\n        </div>\n        <div class=\"category-table-content\">\n          <div class=\"search-content\">\n            <div class=\"search-key\">\n              关键字：\n            </div>\n            <div class=\"search-input\">\n              <a-input v-model:value=\"searchText\" placeholder=\"请输入搜索关键字...\" />\n            </div>\n            <div class=\"search-button\">\n              <a-button size=\"middle\" preIcon=\"ant-design:search\" type=\"primary\" style=\"width: 80px;\" @click=\"handleSearch\">搜索</a-button>\n            </div>\n          </div>\n          <div id=\"combo-dialog-table\" class=\"table-content\">\n            <a-table size=\"small\" :columns=\"props.gcolumns\" :data-source=\"filterGdata\" :scroll=\"{ y: theight }\" :customRow=\"handleTableClick\"\n              :row-class-name=\"(_record, index) => (index % 2 === 1 ? 'table-striped' : null)\" bordered>\n            </a-table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </Dialog>\n</template>\n\n<script lang=\"ts\" setup>\n  import Dialog from '@/components/Framework/Modal/Dialog.vue';\n  import { ref, defineProps, defineEmits, onMounted, watch, unref } from 'vue';\n  import Icon from '@/components/Icon/Icon.vue';\n  import { TreeItem } from '@/components/Tree';\n\n  const modalVisible = ref(false);\n  const treeData = ref([]);\n  const theight = ref(300);\n  const filterGdata = ref<any>([]);\n  const comboDialog = ref<any>(null);\n  const searchText = ref('');\n  const selectedNode = ref(null);\n  const treeMap = ref<any>();\n  type fieldType = { key: String; title: String };\n  type tIconsType = { parent: String; leaf: String };\n\n  const props = defineProps({\n    visible: Boolean, // 是否显示弹框\n    title: String, // 弹框标题\n    width: { type: Number, default: 700 }, // 弹框宽度\n    height: { type: Number, default: 500 }, // 弹框高度\n    tdata: { type: Array }, // Tree数据\n    tfields: {\n      type: Object,\n      default: { key: 'id', title: 'title' } as fieldType,\n    }, // Tree数据的对应字段解析\n    ticons: {\n      type: Object,\n      default: {\n        parent: 'ant-design:down-outlined',\n        middle: 'mingcute:department-line',\n        leaf: 'gridicons:multiple-users',\n      } as tIconsType,\n    },\n    gdata: { type: Array, default: <any>[] }, // 表格数据\n    gcolumns: { type: Array, default: <any>[] },\n  });\n\n  const emit = defineEmits(['update:visible', 'cancel', 'confirm', 'tclick']); // 定义事件\n\n  const cancel = () => {\n    // modalVisible.value = false;\n    // emit('update:visible', false); // 关闭弹框\n    emit('cancel'); // 发送取消事件\n  };\n\n  const confirm = () => {\n    // modalVisible.value = false;\n    // emit('update:visible', false); // 关闭弹框\n    emit('confirm', unref(selectedNode)); // 发送确定事件\n  };\n\n  const updateVisible = ($event) => {\n    modalVisible.value = $event;\n    emit('update:visible', false); // 关闭弹框\n  };\n\n  // 按tfields生成转换规则\n  const reverseRule = (rule) => {\n    const reversedRule = {};\n    for (const key in rule) {\n      reversedRule[rule[key]] = key;\n    }\n    return reversedRule;\n  };\n\n  // 判断是否为顶层节点\n  const isTopNode = (key) => {\n    return !!treeMap.value.get(key);\n  };\n\n  // 按tfields的设置转换tree的数据\n  const transformData = (data, rule) => {\n    const rules = reverseRule(rule);\n    return data.map((item) => {\n      const newItem = {};\n      for (const key in item) {\n        if (key in rules) {\n          if (rules[key] == 'title') {\n            newItem[rules[key]] = item[key];\n            newItem[key] = item[key];\n          } else if (rules[key] == 'id') {\n            newItem[rules[key]] = parseInt(Math.random() * 100) + '@' + item[key];\n            newItem[key] = item[key];\n          }\n        } else {\n          newItem[key] = item[key];\n        }\n      }\n      if (item.children && item.children.length > 0) {\n        newItem.children = transformData(item.children, rule);\n      }\n      return newItem;\n    });\n  };\n\n  // 列表搜索点击事件\n  const handleSearch = () => {\n    const selectedTitle = searchText.value;\n    const dataList = props.gdata as any[];\n\n    // 使用筛选函数，根据 selectedTitle 筛选出匹配项\n    filterGdata.value = dataList.filter((item) => {\n      return JSON.stringify(item).includes(selectedTitle);\n    });\n  };\n\n  // 树节点选中事件\n  const handleSelect = (nodeKey, event) => {\n    const node = event.node;\n    const selectedTitle = node.title; // 获取选中节点的标题\n    const dataList = props.gdata as any[];\n\n    // 使用筛选函数，根据 selectedTitle 筛选出匹配项\n    filterGdata.value = dataList.filter((item) => {\n      return JSON.stringify(item).includes(selectedTitle);\n    });\n  };\n\n  // 将数据节点转换为Map\n  const transformMap = (data, rule) => {\n    const treeMap = new Map();\n    data.forEach((item) => {\n      const key = item[rule['key']];\n      treeMap.set(key, item);\n    });\n    return treeMap;\n  };\n\n  // 表格点击事件\n  const handleTableClick = (record, index) => {\n    const clickFunc = (event) => {\n      // 获取当前点击的行\n      const currentRow = event.currentTarget;\n      // 获取所有兄弟节点\n      const siblingRows = currentRow.parentElement.querySelectorAll('.ant-table-row');\n      // 移除兄弟节点中的 selected 类样式\n      siblingRows.forEach((siblingRow) => {\n        siblingRow.classList.remove('selected');\n      });\n      // 为当前行添加 selected 类样式\n      currentRow.classList.add('selected');\n      // 设置选中的节点\n      selectedNode.value = record;\n      // 触发tclick事件\n      emit('tclick', { record, index }, event);\n    };\n    return {\n      onclick: clickFunc,\n    };\n  };\n\n  watch(\n    () => props.visible,\n    (newValue) => {\n      modalVisible.value = newValue;\n    },\n  );\n\n  watch(\n    () => props.height,\n    (newValue) => {\n      theight.value = newValue - 260;\n    },\n  );\n\n  watch(\n    () => props.tdata,\n    (newValue) => {\n      const rule = props?.tfields as fieldType;\n      const data = unref(props.tdata as unknown[] as TreeItem[]);\n      treeData.value = transformData(data, rule);\n      treeMap.value = transformMap(data, rule);\n    },\n  );\n\n  onMounted(() => {\n    theight.value = props.height - 260;\n    modalVisible.value = props.visible; // 根据传入参数控制Dialog显示\n    filterGdata.value = props.gdata as unknown[];\n  });\n</script>\n<style lang=\"less\">\n  [data-theme='dark'] {\n    .theme1 {\n      .category-tree {\n        div.category-content {\n          div.category-search-box {\n            .search-icon {\n              .rotate-left {\n                color: #f0f0f0 !important;\n              }\n\n              .icon-delete {\n                color: #f0f0f0 !important;\n              }\n            }\n          }\n        }\n      }\n\n      .category-tree {\n        border-right: 1px solid rgb(255 255 255 / 16%);\n\n        span.category-title {\n          border-bottom: 1px solid rgb(255 255 255 / 16%);\n        }\n\n        div.category-content div.category-search-box {\n          border-bottom: 1px solid rgb(255 255 255 / 16%);\n        }\n\n        div.category-content div.category-search-box .search-icon {\n          border: 1px solid rgb(255 255 255 / 16%);\n        }\n      }\n      .employee-table {\n        span.employee-title {\n          border-bottom: 1px solid rgb(255 255 255 / 16%);\n        }\n      }\n    }\n  }\n\n  .theme3 {\n    .category-tree {\n      border-right: 1px solid #ebebeb;\n\n      span.category-title {\n        border-bottom: 1px solid #f0f0f0;\n      }\n\n      div.category-content div.category-search-box {\n        border-bottom: 1px solid #f0f0f0;\n      }\n\n      div.category-content div.category-search-box .search-icon {\n        border: 1px solid rgb(240 240 240);\n      }\n    }\n    .employee-table {\n      span.employee-title {\n        border-bottom: 1px solid rgb(240 240 240);\n      }\n    }\n  }\n</style>\n<style lang=\"less\" scoped>\n  .dialog-content {\n    display: flex;\n\n    /* 使用 flex 布局 */\n    align-items: stretch;\n\n    /* 垂直方向拉伸填充 */\n    justify-content: flex-start;\n\n    /* 左对齐，左侧占据1/4 */\n  }\n\n  .category-tree {\n    flex: 3;\n    padding: 10px;\n\n    /* 右侧加上分割线 */\n    text-align: left;\n\n    div.category-title {\n      display: block;\n      position: inherit;\n      width: calc(100% + 30px);\n      margin-bottom: 0;\n      margin-left: -20px;\n      padding-bottom: 5px;\n\n      span.title-value {\n        margin: 0 0 0 20px;\n      }\n    }\n\n    div.tree-content {\n      .tree-value {\n        margin: 10px 0 0;\n        overflow-y: scroll;\n      }\n    }\n  }\n\n  .category-table {\n    flex: 7;\n    padding: 10px;\n    text-align: left;\n\n    div.category-title {\n      width: calc(100% + 20px);\n      margin-bottom: 0;\n      margin-left: -10px;\n      padding-bottom: 5px;\n\n      span.title-value {\n        margin: 0 0 0 15px;\n      }\n    }\n\n    div.category-table-content {\n      width: 100%;\n      height: 100%;\n\n      div.search-content {\n        display: flex;\n\n        /* 使用 flex 布局 */\n        align-items: stretch;\n\n        /* 垂直方向拉伸填充 */\n        justify-content: flex-start;\n\n        /* 左对齐，左侧占据1/4 */\n        height: 50px;\n\n        div.search-key {\n          flex: 2;\n          margin: 15px 15px 0 0;\n          text-align: right;\n        }\n\n        div.search-input {\n          flex: 6;\n          margin: 10px 0 0;\n          text-align: left;\n\n          .app-iconify.anticon {\n            margin-left: -3px;\n          }\n        }\n\n        div.search-button {\n          flex: 5;\n          margin: 10px 10px 0;\n        }\n      }\n\n      div.table-content {\n        :deep(.ant-table-pagination.ant-pagination) {\n          margin: 10px 0 0;\n        }\n\n        :deep(.ant-table-body) {\n          height: 100vh;\n        }\n      }\n    }\n  }\n</style>\n","import type { Component } from 'vue';\nimport type { ComponentType } from './types/index';\n\nimport {\n  Input,\n  Select,\n  Radio,\n  Checkbox,\n  AutoComplete,\n  Cascader,\n  DatePicker,\n  InputNumber,\n  Switch,\n  TimePicker,\n  TreeSelect,\n  Slider,\n  Rate,\n  Divider,\n} from 'ant-design-vue';\n\nimport ApiRadioGroup from './components/ApiRadioGroup.vue';\nimport RadioButtonGroup from './components/RadioButtonGroup.vue';\nimport ApiSelect from './components/ApiSelect.vue';\nimport ApiTree from './components/ApiTree.vue';\nimport ApiTreeSelect from './components/ApiTreeSelect.vue';\nimport ApiCascader from './components/ApiCascader.vue';\nimport ApiTransfer from './components/ApiTransfer.vue';\nimport { BasicUpload } from '/@/components/Upload';\nimport { StrengthMeter } from '/@/components/StrengthMeter';\nimport { IconPicker } from '/@/components/Icon';\nimport { CountdownInput } from '/@/components/CountDown';\n\nimport SearchBox from '@/components/Framework/Combox/SearchBox.vue';\nimport UploadBox from '@/components/Framework/Combox/UploadBox.vue';\nimport TreeBox from '@/components/Framework/Combox/TreeBox.vue';\nimport SelectBox from '@/components/Framework/Combox/SelectBox.vue';\nimport CascaderBox from '@/components/Framework/Combox/CascaderBox.vue';\nimport TreeSelectBox from '@/components/Framework/Combox/TreeSelectBox.vue';\nimport DictSelectBox from '@/components/Framework/Combox/DictSelectBox.vue';\nimport DictRadioGroup from '@/components/Framework/Radio/DictRadioGroup.vue';\nimport CategoryDialog from '/@/components/Framework/Modal/CategoryDialog.vue';\nimport OrganDialog from '@/components/Framework/Modal/OrganDialog.vue';\n\nconst componentMap = new Map<ComponentType, Component>();\n\ncomponentMap.set('Input', Input);\ncomponentMap.set('InputGroup', Input.Group);\ncomponentMap.set('InputPassword', Input.Password);\ncomponentMap.set('InputSearch', Input.Search);\ncomponentMap.set('InputTextArea', Input.TextArea);\ncomponentMap.set('InputNumber', InputNumber);\ncomponentMap.set('AutoComplete', AutoComplete);\n\ncomponentMap.set('Select', Select);\ncomponentMap.set('ApiSelect', ApiSelect);\ncomponentMap.set('ApiTree', ApiTree);\ncomponentMap.set('TreeSelect', TreeSelect);\ncomponentMap.set('ApiTreeSelect', ApiTreeSelect);\ncomponentMap.set('ApiRadioGroup', ApiRadioGroup);\ncomponentMap.set('Switch', Switch);\ncomponentMap.set('RadioButtonGroup', RadioButtonGroup);\ncomponentMap.set('RadioGroup', Radio.Group);\ncomponentMap.set('Checkbox', Checkbox);\ncomponentMap.set('CheckboxGroup', Checkbox.Group);\ncomponentMap.set('ApiCascader', ApiCascader);\ncomponentMap.set('Cascader', Cascader);\ncomponentMap.set('Slider', Slider);\ncomponentMap.set('Rate', Rate);\ncomponentMap.set('ApiTransfer', ApiTransfer);\n\ncomponentMap.set('DatePicker', DatePicker);\ncomponentMap.set('MonthPicker', DatePicker.MonthPicker);\ncomponentMap.set('RangePicker', DatePicker.RangePicker);\ncomponentMap.set('WeekPicker', DatePicker.WeekPicker);\ncomponentMap.set('YearPicker', DatePicker.YearPicker);\ncomponentMap.set('TimePicker', TimePicker);\ncomponentMap.set('TimeRangePicker', TimePicker.TimeRangePicker);\ncomponentMap.set('StrengthMeter', StrengthMeter);\ncomponentMap.set('IconPicker', IconPicker);\ncomponentMap.set('InputCountDown', CountdownInput);\n\ncomponentMap.set('Upload', BasicUpload);\ncomponentMap.set('Divider', Divider);\n\ncomponentMap.set('SearchBox', SearchBox);\ncomponentMap.set('UploadBox', UploadBox);\ncomponentMap.set('TreeBox', TreeBox);\ncomponentMap.set('SelectBox', SelectBox);\ncomponentMap.set('CascaderBox', CascaderBox);\ncomponentMap.set('TreeSelectBox', TreeSelectBox);\ncomponentMap.set('DictSelectBox', DictSelectBox);\ncomponentMap.set('DictRadioGroup', DictRadioGroup);\ncomponentMap.set('CategoryDialog', CategoryDialog);\ncomponentMap.set('OrganDialog', OrganDialog);\n\nexport function add(compName: ComponentType, component: Component) {\n  componentMap.set(compName, component);\n}\n\nexport function del(compName: ComponentType) {\n  componentMap.delete(compName);\n}\n\nexport { componentMap };\n","import type { ValidationRule } from 'ant-design-vue/lib/form/Form';\nimport type { ComponentType } from './types/index';\nimport { useI18n } from '/@/hooks/web/useI18n';\nimport { dateUtil } from '/@/utils/dateUtil';\nimport { isNumber, isObject } from '/@/utils/is';\n\nconst { t } = useI18n();\n\n/**\n * @description: 生成placeholder\n */\nexport function createPlaceholderMessage(component: ComponentType) {\n  if (component.includes('Input') || component.includes('Complete')) {\n    return t('common.inputText');\n  }\n  if (component.includes('Picker')) {\n    return t('common.chooseText');\n  }\n  if (\n    component.includes('Select') ||\n    component.includes('Cascader') ||\n    component.includes('Checkbox') ||\n    component.includes('Radio') ||\n    component.includes('TreeBox') ||\n    component.includes('SelectBox') ||\n    component.includes('CascaderBox') ||\n    component.includes('TreeSelectBox') ||\n    component.includes('SearchBox') ||\n    component.includes('UploadBox') ||\n    component.includes('Switch')\n  ) {\n    return t('common.chooseText');\n  }\n  return '';\n}\n\nconst DATE_TYPE = ['DatePicker', 'MonthPicker', 'WeekPicker', 'YearPicker', 'TimePicker'];\n\nfunction genType() {\n  return [...DATE_TYPE, 'RangePicker'];\n}\n\nexport function setComponentRuleType(\n  rule: ValidationRule,\n  component: ComponentType,\n  valueFormat: string,\n) {\n  if (['DatePicker', 'MonthPicker', 'WeekPicker', 'YearPicker', 'TimePicker'].includes(component)) {\n    rule.type = valueFormat ? 'string' : 'object';\n  } else if (['RangePicker', 'Upload', 'CheckboxGroup', 'TimePicker'].includes(component)) {\n    rule.type = 'array';\n  } else if (['InputNumber'].includes(component)) {\n    rule.type = 'number';\n  }\n}\n\nexport function processDateValue(attr: Recordable, component: string) {\n  const { valueFormat, value } = attr;\n  if (valueFormat) {\n    attr.value = isObject(value) ? dateUtil(value).format(valueFormat) : value;\n  } else if (DATE_TYPE.includes(component) && value) {\n    attr.value = dateUtil(attr.value);\n  }\n}\n\nexport function handleInputNumberValue(component?: ComponentType, val?: any) {\n  if (!component) return val;\n  if (['Input', 'InputPassword', 'InputSearch', 'InputTextArea'].includes(component)) {\n    return val && isNumber(val) ? `${val}` : val;\n  }\n  return val;\n}\n\n/**\n * 时间字段\n */\nexport const dateItemType = genType();\n\nexport const defaultValueComponents = ['Input', 'InputPassword', 'InputSearch', 'InputTextArea'];\n\n// 自定义组件封装会出现验证问题，因此这里目前改成手动触发验证\nexport const NO_AUTO_LINK_COMPONENTS: ComponentType[] = [\n  'Upload',\n  'ApiTransfer',\n  'ApiTree',\n  'ApiSelect',\n  'ApiTreeSelect',\n  'ApiRadioGroup',\n  'ApiCascader',\n  'AutoComplete',\n  'RadioButtonGroup',\n  'SearchBox',\n  'UploadBox',\n  'TreeBox',\n  'SelectBox',\n  'CascaderBox',\n  'TreeSelectBox',\n  'DictSelectBox',\n  'DictRadioGroup',\n  'CategoryDialog',\n  'OrganDialog',\n];\n","import type { InjectionKey } from 'vue';\nimport { createContext, useContext } from '/@/hooks/core/useContext';\n\nexport interface FormContextProps {\n  resetAction: () => Promise<void>;\n  submitAction: () => Promise<void>;\n}\n\nconst key: InjectionKey<FormContextProps> = Symbol();\n\nexport function createFormContext(context: FormContextProps) {\n  return createContext<FormContextProps>(context, key);\n}\n\nexport function useFormContext() {\n  return useContext<FormContextProps>(key);\n}\n","<template>\n  <a-col v-bind=\"actionColOpt\" v-if=\"showActionButtonGroup\">\n    <div style=\"width: 100%\" :style=\"{ textAlign: actionColOpt.style.textAlign }\">\n      <FormItem>\n        <slot name=\"resetBefore\"></slot>\n        <Button\n          type=\"default\"\n          class=\"mr-2\"\n          v-bind=\"getResetBtnOptions\"\n          @click=\"resetAction\"\n          v-if=\"showResetButton\"\n        >\n          {{ getResetBtnOptions.text }}\n        </Button>\n        <slot name=\"submitBefore\"></slot>\n\n        <Button\n          type=\"primary\"\n          class=\"mr-2\"\n          v-bind=\"getSubmitBtnOptions\"\n          @click=\"submitAction\"\n          v-if=\"showSubmitButton\"\n        >\n          {{ getSubmitBtnOptions.text }}\n        </Button>\n\n        <slot name=\"advanceBefore\"></slot>\n        <Button type=\"link\" size=\"small\" @click=\"toggleAdvanced\" v-show=\"showExpandText\">\n          {{ isAdvanced ? t('component.form.putAway') : t('component.form.unfold') }}\n          <BasicArrow class=\"ml-1\" :expand=\"!isAdvanced\" up />\n        </Button>\n        <slot name=\"advanceAfter\"></slot>\n      </FormItem>\n    </div>\n  </a-col>\n</template>\n<script lang=\"ts\">\n  import type { ColEx } from '../types/index';\n  //import type { ButtonProps } from 'ant-design-vue/es/button/buttonTypes';\n  import { defineComponent, computed, PropType } from 'vue';\n  import { Form, Col } from 'ant-design-vue';\n  import { Button, ButtonProps } from '/@/components/Button';\n  import { BasicArrow } from '/@/components/Basic';\n  import { useFormContext } from '../hooks/useFormContext';\n  import type { FormSchema } from '../types/form';\n  import { useI18n } from '/@/hooks/web/useI18n';\n  import { propTypes } from '/@/utils/propTypes';\n\n  type ButtonOptions = Partial<ButtonProps> & { text: string };\n\n  export default defineComponent({\n    name: 'BasicFormAction',\n    components: {\n      FormItem: Form.Item,\n      Button,\n      BasicArrow,\n      [Col.name]: Col,\n    },\n    props: {\n      showActionButtonGroup: propTypes.bool.def(true),\n      showResetButton: propTypes.bool.def(true),\n      showSubmitButton: propTypes.bool.def(true),\n      showAdvancedButton: propTypes.bool.def(true),\n      resetButtonOptions: {\n        type: Object as PropType<ButtonOptions>,\n        default: () => ({}),\n      },\n      submitButtonOptions: {\n        type: Object as PropType<ButtonOptions>,\n        default: () => ({}),\n      },\n      actionColOptions: {\n        type: Object as PropType<Partial<ColEx>>,\n        default: () => ({}),\n      },\n      actionSpan: propTypes.number.def(6),\n      isAdvanced: propTypes.bool,\n      noHideBtnFlag: propTypes.bool.def(false),\n      hideAdvanceBtn: propTypes.bool,\n      // 表单配置规则\n      schemas: {\n        type: Array as PropType<FormSchema[]>,\n        default: () => [],\n      },\n    },\n    emits: ['toggle-advanced'],\n    setup(props, { emit }) {\n      const { t } = useI18n();\n\n      const actionColOpt = computed(() => {\n        const { showAdvancedButton, actionSpan: span, actionColOptions } = props;\n        const actionSpan = 24 - span;\n        const advancedSpanObj = showAdvancedButton\n          ? { span: actionSpan < 6 ? 24 : actionSpan }\n          : {};\n        const actionColOpt: Partial<ColEx> = {\n          style: { textAlign: 'right' },\n          span: showAdvancedButton ? 6 : 4,\n          ...advancedSpanObj,\n          ...actionColOptions,\n        };\n        return actionColOpt;\n      });\n\n      const getResetBtnOptions = computed((): ButtonOptions => {\n        return Object.assign(\n          {\n            text: t('common.resetText'),\n          },\n          props.resetButtonOptions,\n        );\n      });\n\n      const getSubmitBtnOptions = computed(() => {\n        return Object.assign(\n          {\n            text: t('common.queryText'),\n          },\n          props.submitButtonOptions,\n        );\n      });\n\n      // 计算schemas数组中每个查询字段\n      const calcColPropsSpan = (acc, curr) => {\n        if (curr?.colProps?.span) {\n          return acc + curr?.colProps?.span;\n        } else {\n          return acc;\n        }\n      };\n\n      // 计算是否显示展开折叠Text按钮\n      const showExpandText = computed(() => {\n        const { showAdvancedButton, hideAdvanceBtn, noHideBtnFlag, schemas } = props;\n        const totalSpan = schemas.reduce(calcColPropsSpan, 0);\n        let result = null;\n        if (noHideBtnFlag || totalSpan <= 20) {\n          result = showAdvancedButton && !hideAdvanceBtn;\n        } else {\n          result = showAdvancedButton;\n        }\n        return result;\n      });\n\n      function toggleAdvanced() {\n        emit('toggle-advanced');\n      }\n\n      return {\n        t,\n        actionColOpt,\n        getResetBtnOptions,\n        getSubmitBtnOptions,\n        toggleAdvanced,\n        showExpandText,\n        ...useFormContext(),\n      };\n    },\n  });\n</script>\n","import type { FieldMapToTime, FormSchema } from './types/form';\nimport type { CSSProperties, PropType } from 'vue';\nimport type { ColEx } from './types';\nimport type { TableActionType } from '/@/components/Table';\nimport type { ButtonProps } from 'ant-design-vue/es/button/buttonTypes';\nimport type { RowProps } from 'ant-design-vue/lib/grid/Row';\nimport { propTypes } from '/@/utils/propTypes';\n\nexport const basicProps = {\n  model: {\n    type: Object as PropType<Recordable>,\n    default: () => ({}),\n  },\n  // 标签宽度  固定宽度\n  labelWidth: {\n    type: [Number, String] as PropType<number | string>,\n    default: 0,\n  },\n  fieldMapToTime: {\n    type: Array as PropType<FieldMapToTime>,\n    default: () => [],\n  },\n  compact: propTypes.bool,\n  // 表单配置规则\n  schemas: {\n    type: Array as PropType<FormSchema[]>,\n    default: () => [],\n  },\n  mergeDynamicData: {\n    type: Object as PropType<Recordable>,\n    default: null,\n  },\n  baseRowStyle: {\n    type: Object as PropType<CSSProperties>,\n  },\n  baseColProps: {\n    type: Object as PropType<Partial<ColEx>>,\n  },\n  autoSetPlaceHolder: propTypes.bool.def(true),\n  // 在INPUT组件上单击回车时，是否自动提交\n  autoSubmitOnEnter: propTypes.bool.def(false),\n  noHideBtnFlag: propTypes.bool.def(false),\n  submitOnReset: propTypes.bool,\n  submitOnChange: propTypes.bool,\n  size: propTypes.oneOf(['default', 'small', 'large']).def('default'),\n  // 禁用表单\n  disabled: propTypes.bool,\n  emptySpan: {\n    type: [Number, Object] as PropType<number | Recordable>,\n    default: 0,\n  },\n  // 是否显示收起展开按钮\n  showAdvancedButton: propTypes.bool,\n  // 转化时间\n  transformDateFunc: {\n    type: Function as PropType<Fn>,\n    default: (date: any) => {\n      return date?.format?.('YYYY-MM-DD HH:mm:ss') ?? date;\n    },\n  },\n  rulesMessageJoinLabel: propTypes.bool.def(true),\n  // 超过3行自动折叠\n  autoAdvancedLine: propTypes.number.def(3),\n  // 不受折叠影响的行数\n  alwaysShowLines: propTypes.number.def(1),\n\n  // 是否显示操作按钮\n  showActionButtonGroup: propTypes.bool.def(true),\n  // 操作列Col配置\n  actionColOptions: Object as PropType<Partial<ColEx>>,\n  // 显示重置按钮\n  showResetButton: propTypes.bool.def(true),\n  // 是否聚焦第一个输入框，只在第一个表单项为input的时候作用\n  autoFocusFirstItem: propTypes.bool,\n  // 重置按钮配置\n  resetButtonOptions: Object as PropType<Partial<ButtonProps>>,\n\n  // 显示确认按钮\n  showSubmitButton: propTypes.bool.def(true),\n  // 确认按钮配置\n  submitButtonOptions: Object as PropType<Partial<ButtonProps>>,\n\n  // 自定义重置函数\n  resetFunc: Function as PropType<() => Promise<void>>,\n  submitFunc: Function as PropType<() => Promise<void>>,\n\n  // 以下为默认props\n  hideRequiredMark: propTypes.bool,\n\n  labelCol: Object as PropType<Partial<ColEx>>,\n\n  layout: propTypes.oneOf(['horizontal', 'vertical', 'inline']).def('horizontal'),\n  tableAction: {\n    type: Object as PropType<TableActionType>,\n  },\n\n  wrapperCol: Object as PropType<Partial<ColEx>>,\n\n  colon: propTypes.bool,\n\n  labelAlign: propTypes.string,\n\n  rowProps: Object as PropType<RowProps>,\n};\n"],"names":["_sfc_main$j","defineComponent","Radio","propTypes","props","emit","options","ref","loading","isFirstLoad","emitData","attrs","useAttrs","t","useI18n","state","useRuleFormItem","getOptions","computed","labelField","valueField","numberToString","unref","prev","next","value","__spreadValues","omit","watchEffect","fetch","watch","__async","api","isFunction","res","emitChange","get","error","handleClick","args","_component_RadioGroup","_resolveComponent","_mergeProps","_ctx","_cache","$event","_openBlock","_createElementBlock","_Fragment","_renderList","item","_createBlock","_component_RadioButton","_component_Radio","_sfc_main$i","isString","_sfc_main$h","Select","LoadingOutlined","data","__spreadProps","v","handleFetch","visible","handleChange","_","_component_Select","_createSlots","_withCtx","_createElementVNode","_createVNode","_component_LoadingOutlined","_sfc_main$g","Tree","treeData","isFirstLoaded","getAttrs","onMounted","afterFetch","result","e","isArray","_sfc_main$f","TreeSelect","fieldNames","_component_a_tree_select","_sfc_main$e","Cascader","apiData","opts","generatorOptions","childrenField","isLeaf","children","initialFetch","loadData","selectedOptions","targetOption","keys","handleRenderDisplay","labels","_component_a_cascader","_sfc_main$d","Transfer","_dataSource","_targetKeys","getdataSource","getTargetKeys","direction","moveKeys","_component_Transfer","basicProps","uploadContainerProps","previewProps","fileListProps","useUploadType","acceptRef","helpTextRef","maxNumberRef","maxSizeRef","getAccept","accept","getStringAccept","getHelpText","helpText","helpTexts","maxSize","maxNumber","UploadResultStatus","checkImgType","file","isImgTypeByName","name","getBase64WithFile","resolve","reject","reader","key","createTableContext","instance","provide","useTableContext","inject","usePermission","userStore","useUserStore","appStore","useAppStore","permissionStore","usePermissionStore","closeAll","useTabs","router","togglePermissionMode","_a","PermissionModeEnum","resume","useMultipleTabStore","resetRouter","route","hasPermission","def","permMode","projectSetting","intersection","allCodeList","changeRole","roles","refreshMenu","table","componentSetting","pageSizeOptions","defaultPageSize","fetchSetting","defaultSize","defaultSortFn","defaultFilterFn","showQuickJumper","showSizeChanger","ROW_KEY","PAGE_SIZE_OPTIONS","PAGE_SIZE","FETCH_SETTING","DEFAULT_SIZE","DEFAULT_QUICK_JUMPER","DEFAULT_SIZE_CHANGER","DEFAULT_SORT_FN","DEFAULT_FILTER_FN","DEFAULT_ALIGN","INDEX_COLUMN_FLAG","ACTION_COLUMN_FLAG","_sfc_main$c","Icon","PopConfirmButton","Divider","Dropdown","MoreOutlined","Tooltip","prefixCls","useDesign","isIfShow","action","ifShow","isBoolean","getActions","toRaw","popConfirm","getDropdownList","list","index","label","getAlign","actionColumn","_b","getTooltip","onCellClick","ele","_normalizeClass","_component_Tooltip","_component_PopConfirmButton","_normalizeProps","_guardReactiveProps","_component_Icon","_createCommentVNode","_component_Divider","_component_Dropdown","_renderSlot","_component_a_button","_sfc_main$b","Image","_component_Image","_hoisted_1","createTableColumns","dataIndex","title","width","customRender","record","thumbUrl","ThumbUrl","align","text","percent","status","uploadStatus","ERROR","UPLOADING","SUCCESS","Progress","toFixed","Tag","default","createActionColumn","handleRemove","fixed","actions","color","onClick","bind","TableAction","createPreviewColumns","url","createPreviewActionColumn","handleDownload","setup","modalFn","useModalContext","dataSource","nextTick","redoModalHeight","columns","columnList","map","style","minWidth","render","_sfc_main$9","BasicModal","Upload","Alert","FileList","reactive","isUploadingRef","fileListRef","toRefs","register","closeModal","useModalInner","createMessage","useMessage","getIsSelectFile","getOkButtonProps","someSuccess","getUploadBtnText","someError","beforeUpload","size","commonItem","buildUUID","uploadApiByItem","warn","ret","progressEvent","complete","handleStartUpload","uploadFileList","errorList","handleOk","fileList","responseData","handleCloseFunc","_component_BasicModal","_component_Alert","_component_Upload","_component_FileList","_sfc_main$8","removed","downloadByUrl","_sfc_main$7","UploadModal","Space","UploadPreviewModal","registerUploadModal","openUploadModal","useModal","registerPreviewModal","openPreviewModal","showPreview","emptyHidePreview","bindValue","urls","handlePreviewChange","handleDelete","handlePreviewDelete","_component_Space","_createTextVNode","_toDisplayString","_component_UploadModal","_component_UploadPreviewModal","BasicUpload","withInstall","basicUpload","showDropdown","searchRealText","searchLabelText","search","treeBox","treeMap","treeEntry","treeEntryMap","selectedValue","selectedRealKeys","checkedKeys","reloadKey","multipleTree","singleTree","reloadTreeFlag","newTfields","tdata","appDisabled","isDisabled","searchData","rule","resultData","findNodes","tempList","transformData","handleLoadKeys","handleVisibleChange","handleLabelChange","event","toggleDropdown","clearData","clearInput","selector","handlePreventEvent","reverseRule","reversedRule","rules","newItem","recursiveSearch","node","searchValue","temp","child","isTopNode","transformMap","handleSelect","element","reload","getCustomCompOptions","handleCheck","entry","handleMultipleCheck","valueArr","checkedKeyArr","newValue","onUnmounted","__expose","selectData","modeValue","filterOption","input","option","findOption","findNodeByValue","isNodeEqual","elem","tfields","dataList","i","reloadData","cascaderData","handleSearch","filter","inputValue","path","tree","extra","handleExpand","expandedKeys","ls","createLocalForage","dictStore","useDictStoreWithOut","radioValue","tDisabled","verticalStyle","setupValue","change","type","cache","DICT_DATA__KEY","response","timestamp","typeList","modalVisible","theight","filterGdata","comboDialog","searchText","selectedNode","cancel","confirm","updateVisible","selectedTitle","nodeKey","handleTableClick","currentRow","siblingRow","componentMap","Input","InputNumber","AutoComplete","ApiSelect","ApiTree","ApiTreeSelect","ApiRadioGroup","Switch","RadioButtonGroup","Checkbox","ApiCascader","Slider","Rate","ApiTransfer","DatePicker","TimePicker","StrengthMeter","IconPicker","CountdownInput","SearchBox","UploadBox","TreeBox","SelectBox","CascaderBox","TreeSelectBox","DictSelectBox","DictRadioGroup","CategoryDialog","OrganDialog","createPlaceholderMessage","component","DATE_TYPE","genType","setComponentRuleType","valueFormat","handleInputNumberValue","val","isNumber","dateItemType","defaultValueComponents","NO_AUTO_LINK_COMPONENTS","createFormContext","context","createContext","useFormContext","useContext","_sfc_main","Form","Button","BasicArrow","Col","actionColOpt","showAdvancedButton","span","actionColOptions","actionSpan","advancedSpanObj","getResetBtnOptions","getSubmitBtnOptions","calcColPropsSpan","acc","curr","showExpandText","hideAdvanceBtn","noHideBtnFlag","schemas","totalSpan","toggleAdvanced","date"],"mappings":"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"}