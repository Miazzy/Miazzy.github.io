{"version":3,"file":"videoinfo-bb6d3270.js","sources":["../../src/views/baseset/monitor/video/videoinfo/videoinfo.ts","../../src/views/baseset/monitor/video/videoinfo/videoinfo.vue"],"sourcesContent":["import { defHttp } from '/@/utils/http/axios';\nimport { reactive } from 'vue';\n\nenum Api {\n  getTreeTypeUrl = '/baseset/common/list-orgStationTree',\n  listIdexUrl = '/baseset/videoInfo/page',\n  getIndexUrl = '/baseset/videoInfo/get',\n  createIndexUrl = '/baseset/videoInfo/create',\n  updateIndexUrl = '/baseset/videoInfo/update',\n  deleteIndexUrl = '/baseset/videoInfo/delete',\n}\n\n// 组织树数据\nexport const getTreeData = (params) =>\n  defHttp.post(\n    {\n      url: Api.getTreeTypeUrl,\n      params,\n    },\n    {},\n  );\n\n// 获取视频管理设置列表\nexport const getIndexList = (params) =>\n  defHttp.get(\n    {\n      url: Api.listIdexUrl,\n      params,\n    },\n    {},\n  );\n\n// 新增视频管理设置\nexport const insertIndex = (params) =>\n  defHttp.post(\n    {\n      url: Api.createIndexUrl,\n      params,\n    },\n    {},\n  );\n\n// 修改视频管理设置\nexport const updateIndex = (params) =>\n  defHttp.put(\n    {\n      url: Api.updateIndexUrl,\n      params,\n    },\n    {},\n  );\n\nexport const saveData = (params) => {\n  if (!params.id) {\n    return insertIndex(params);\n  }\n  return updateIndex(params);\n};\n\n// 删除视频管理设置\nexport const deleteIndex = (params) =>\n  defHttp.delete(\n    {\n      url: Api.deleteIndexUrl,\n      params,\n    },\n    {},\n  );\n\nexport const detailFormState = reactive({ spinning: false });\n\nexport const formIndexState = reactive({\n  id: '',\n  createTime: '',\n});\n","<template>\n  <PageWrapper dense contentFullHeight fixedHeight contentClass=\"flex\" style=\"position: relative\">\n    <!-- 视频管理树 -->\n    <CommonTree\n      ref=\"treeRef\"\n      title=\"电站组织\"\n      @select=\"handleSelect\"\n      :value=\"treeData\"\n      @refresh=\"reload\"\n      class=\"left-tree-layout\"\n      :toolbar=\"true\"\n      :canEdit=\"false\"\n      :canAdd=\"false\"\n      :canDelete=\"false\"\n      :isShowOperationBtns=\"false\"\n      :fieldNames=\"{ key: 'id', title: 'name' }\"\n    />\n    <!-- 数据表格 -->\n    <div class=\"right-table-layout\">\n      <BasicTable\n        class=\"fix-basic-table\"\n        @register=\"registerTable\"\n        :searchInfo=\"searchInfo\"\n        @resize-column=\"(w, col) => (col.width = w)\"\n      >\n        <template #toolbar>\n          <a-button type=\"primary\" :preIcon=\"IconEnum.ADD\" @click=\"handleCreateIndex\"\n            >添加</a-button\n          >\n          <a-button\n            class=\"red-btn\"\n            :disabled=\"!hasSelected\"\n            :preIcon=\"IconEnum.DELETE\"\n            @click=\"handleDeleteIndex\"\n            >删除</a-button\n          >\n        </template>\n        <template #bodyCell=\"{ column, record }\">\n          <template v-if=\"column.key === 'action'\">\n            <TableAction :actions=\"getWiringAction(record)\" />\n          </template>\n        </template>\n      </BasicTable>\n    </div>\n    <div v-if=\"loadingFlag\" class=\"dialog-mask\"></div>\n  </PageWrapper>\n</template>\n<script lang=\"ts\" setup>\n  import type { FormProps } from '/@/components/Form/src/types/form';\n  import { onMounted, reactive, ref, computed } from 'vue';\n  import {\n    BasicTable,\n    useTable,\n    TableAction,\n    EditRecordRow,\n    BasicColumn,\n    SorterResult,\n  } from '/@/components/Table';\n  import { TreeItem } from '/@/components/Tree';\n  import { PageWrapper } from '/@/components/Page';\n  import CommonTree from '@/components/Framework/Tree/CommonTree.vue';\n  import { message } from 'ant-design-vue';\n  import { IconEnum } from '@/enums/appEnum';\n  import { getTreeData, getIndexList, deleteIndex, saveData } from './videoinfo';\n  import { useI18n } from '@/hooks/web/useI18n';\n  import { useMessage } from '@/hooks/web/useMessage';\n  import { setCustomCompOptions } from '@/utils/cache';\n  import { useUserStore } from '/@/store/modules/user';\n\n  const currentEditNodeRef = ref();\n  const currentEditKeyRef = ref('');\n  const deviceParam = ref({});\n  const saveItem = ref<boolean>(false);\n  const { t } = useI18n();\n  const { createConfirm } = useMessage();\n  const formState = reactive({});\n  // 查询信息\n  const searchInfo = reactive<any>({ folderId: 'test' });\n  // 左侧树数据\n  const treeData = ref<TreeItem[]>([]);\n  // 被选择的树节点\n  const searchBoxColumns1 = [\n    {\n      title: '厂商类型',\n      dataIndex: 'firmTypeText',\n      key: 'firmTypeText',\n      fixed: 'left',\n      minWidth: 100,\n    },\n    { title: '接入名称', dataIndex: 'name', key: 'name', fixed: 'left', minWidth: 100 },\n  ];\n\n  const options2 = {\n    columns: searchBoxColumns1,\n    pagination: true, // false 关闭分页   true 开启分页\n    tfields: { key: 'name' },\n    vfield: 'name',\n  };\n  const hasSelected = computed(() => checkedKeys.value.length > 0);\n  const loadingFlag = ref<boolean>(false);\n  const checkedKeys = ref<Array<string | number>>([]);\n  const indexColumn: BasicColumn[] = [\n    {\n      title: '所属公司',\n      resizable: true,\n      sorter: true,\n      dataIndex: 'orgName',\n      width: 100,\n      ifShow: useUserStore().isMultiOrganization,\n      headAlign: 'center',\n      align: 'left',\n    },\n    {\n      title: '电站',\n      resizable: true,\n      sorter: true,\n      dataIndex: 'stationName',\n      width: 100,\n      headAlign: 'center',\n      align: 'left',\n    },\n    {\n      title: '接入名称',\n      dataIndex: 'videoFirmName',\n      width: 100,\n      editRow: true,\n      resizable: true,\n      sorter: true,\n      editComponent: 'SearchBox',\n      headAlign: 'center',\n      align: 'left',\n      editComponentProps: {\n        opkey: 'SearchBox123',\n        twidth: '600px',\n        api: '/baseset/videoFirm/page?name={name}&pageNo={current}&pageSize={pageSize}',\n        apiParamFunc: () => {\n          return { searchId: deviceParam.value.stationId, nodeKindId: 'station' };\n        },\n        multiple: false,\n        callback: (options) => {\n          currentEditNodeRef.value.videoFirmId = options.record.key;\n          currentEditNodeRef.value.videoFirmName = options.record.name;\n        },\n      },\n    },\n    {\n      title: '设备序列号',\n      dataIndex: 'deviceSerial',\n      width: 100,\n      editRow: true,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'left',\n      editRule: async (text, record) => {\n        if (!text) {\n          return '不能为空';\n        }\n      },\n      editComponent: 'Input',\n    },\n    {\n      title: '通道号',\n      dataIndex: 'channelNo',\n      width: 100,\n      editRow: true,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'center',\n      editRule: async (text, record) => {\n        if (!text) {\n          return '不能为空';\n        }\n      },\n      editComponent: 'InputNumber',\n    },\n    {\n      title: '直播地址',\n      dataIndex: 'url',\n      width: 200,\n      editRow: true,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'left',\n      editComponent: 'Input',\n    },\n    {\n      title: '摄像头类型',\n      dataIndex: 'cameraType',\n      width: 100,\n      editRow: true,\n      resizable: true,\n      sorter: true,\n      editComponent: 'DictSelectBox',\n      editComponentProps: {\n        type: 'cameraType',\n      },\n      editRule: async (text, record) => {\n        if (!text) {\n          return '不能为空';\n        }\n      },\n    },\n    {\n      title: '摄像头名称',\n      dataIndex: 'cameraName',\n      width: 80,\n      editRow: true,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'left',\n      editRule: async (text, record) => {\n        if (!text) {\n          return '不能为空';\n        }\n      },\n      editComponent: 'Input',\n    },\n    {\n      title: '备注',\n      dataIndex: 'remark',\n      width: 80,\n      editRow: true,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'left',\n      editComponent: 'Input',\n    },\n    {\n      title: '显示顺序',\n      dataIndex: 'sort',\n      width: 80,\n      editRow: true,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'right',\n      editRule: async (text, record) => {\n        if (!text) {\n          return '不能为空';\n        }\n      },\n      editComponent: 'Input',\n    },\n  ];\n\n  const treeRef = ref();\n\n  const indexList = ref<Array<any>>([]);\n  const getIndexListByParam = async () => {\n    currentEditKeyRef.value = '';\n    currentEditNodeRef.value = null;\n    let list = await getIndexList(searchInfo);\n    indexList.value = list.result;\n    return indexList.value;\n  };\n\n  const searchForm: FormProps = {\n    baseColProps: { span: 8 },\n    labelWidth: 120,\n    showAdvancedButton: true,\n    autoAdvancedLine: 1,\n    schemas: [\n      {\n        label: '接入名称',\n        field: 'videoFirmName',\n        component: 'Input',\n      },\n      {\n        label: '直播地址',\n        field: 'url',\n        component: 'Input',\n      },\n      {\n        label: '摄像头类型',\n        field: 'cameraType',\n        component: 'DictSelectBox',\n        componentProps: {\n          type: 'cameraType',\n        },\n      },\n      {\n        label: '摄像头名称',\n        field: 'cameraName',\n        component: 'Input',\n      },\n    ],\n  };\n\n  const [registerTable, { reload, getPaginationRef, getDataSource: getItemDataSource }] = useTable({\n    title: '视频管理',\n    api: async () => {\n      const paginationRef = getPaginationRef() as any;\n      searchInfo.pageNo = paginationRef.current;\n      searchInfo.pageSize = paginationRef.pageSize;\n      let dataObj = await getIndexListByParam();\n      return dataObj;\n    },\n    columns: indexColumn,\n    useSearchForm: true,\n    showIndexColumn: false,\n    formConfig: searchForm,\n    showTableSetting: true,\n    resizeHeightOffset: 33,\n    pagination: true,\n    canResize: true,\n    bordered: true,\n    rowKey: 'id',\n    actionColumn: {\n      width: 80,\n      title: '操作',\n      dataIndex: 'action',\n    },\n    rowSelection: {\n      type: 'checkbox',\n      selectedRowKeys: checkedKeys,\n      onSelect: onSelect,\n      onSelectAll: onSelectAll,\n    },\n    handleSearchInfoFn(info) {\n      searchInfo.videoFirmName = info.videoFirmName;\n      searchInfo.url = info.url;\n      searchInfo.cameraType = info.cameraType;\n      searchInfo.cameraName = info.cameraName;\n      return info;\n    },\n    sortFn: (sortInfo: SorterResult) => {\n      if (sortInfo.order) {\n        searchInfo.sortField = sortInfo.field;\n        searchInfo.sortOrder = sortInfo.order.replace('end', '');\n      } else {\n        searchInfo.sortField = null;\n        searchInfo.sortOrder = null;\n      }\n    },\n  });\n\n  function onSelect(record, selected) {\n    if (selected) {\n      checkedKeys.value = [...checkedKeys.value, record.id];\n    } else {\n      checkedKeys.value = checkedKeys.value.filter((id) => id !== record.id);\n    }\n  }\n  function onSelectAll(selected, selectedRows, changeRows) {\n    const changeIds = changeRows.map((item) => item.id);\n    if (selected) {\n      checkedKeys.value = [...checkedKeys.value, ...changeIds];\n    } else {\n      checkedKeys.value = checkedKeys.value.filter((id) => {\n        return !changeIds.includes(id);\n      });\n    }\n  }\n  // 查询左侧树数据\n  async function queryTreeList() {\n    const typeList = await getTreeData({});\n    treeData.value = typeList.result as unknown[] as TreeItem[];\n  }\n\n  // 左侧树状菜单选中事件\n  function handleSelect(node) {\n    searchInfo.stationId = null;\n    searchInfo.stationName = null;\n    searchInfo.stationOrganId = null;\n    searchInfo.stationOrganName = null;\n    searchInfo.nodeKindId = null;\n\n    searchInfo.searchId = null;\n    if (node != null) {\n      searchInfo.stationOrganId = node.organId;\n      searchInfo.stationOrganName = node.organName;\n      formState.orgName = node.organName;\n\n      if (node.nodeKindId == 'station') {\n        searchInfo.stationId = node.powerStationId;\n        searchInfo.stationName = node.name;\n        formState.stationName = node.name;\n        formState.stationId = node.powerStationId;\n      }\n\n      searchInfo.nodeKindId = node.nodeKindId;\n      searchInfo.searchId = node.id;\n    }\n\n    // 处理数据编辑状态\n\n    if (currentEditNodeRef.value != undefined) {\n      message.error('请先完成编辑。');\n      return false;\n    } else {\n      reload();\n    }\n  }\n\n  // 添加视频管理\n  function handleCreateIndex() {\n    if (currentEditNodeRef.value != undefined) {\n      message.error('请先完成编辑。');\n      return false;\n    }\n\n    const node = treeRef.value.getSelectedTreeNode();\n    if (!node) {\n      message.error('请选择电站');\n      return;\n    }\n    if (node.nodeKindId != 'station') {\n      message.error('请选择电站');\n      return;\n    }\n    deviceParam.value.stationId = node.id;\n    setCustomCompOptions('SearchBox123', options2);\n\n    const data = getItemDataSource();\n    // data.splice(0, data.length);\n    const addRow: EditRecordRow = {\n      editable: true,\n      isNew: true,\n      key: `${Date.now()}`,\n      stationName: formState.stationName,\n      orgName: formState.orgName,\n      stationId: formState.stationId,\n    };\n    if (data.length == searchInfo.pageSize) {\n      data.splice(-1);\n    }\n    data.unshift(addRow);\n\n    currentEditKeyRef.value = handleRecordKey(addRow);\n    currentEditNodeRef.value = addRow;\n  }\n\n  function checkSelectData() {\n    if (checkedKeys.value.length == 0) {\n      message.error('请选择数据');\n      return false;\n    }\n    return true;\n  }\n\n  function getWiringAction(record: EditRecordRow) {\n    if (!record.editable) {\n      return [\n        {\n          label: '修改',\n          icon: 'clarity:bullet-list-line',\n          disabled: handleCellDisabled(record), // record里面不存在字段‘key’，导致异常,\n          onClick: handleEdit.bind(null, record),\n        },\n      ];\n    }\n    return [\n      {\n        label: '保存',\n        onClick: handleSave.bind(null, record),\n      },\n      {\n        label: '取消',\n        popConfirm: {\n          title: '是否取消修改',\n          confirm: handleUnSave.bind(null, record),\n        },\n      },\n    ];\n  }\n\n  function handleEdit(record: EditRecordRow) {\n    currentEditKeyRef.value = handleRecordKey(record);\n    currentEditNodeRef.value = record;\n    deviceParam.value.stationId = record.stationId;\n    setCustomCompOptions('SearchBox123', options2);\n    record.onEdit?.(true);\n  }\n\n  const handleRecordKey = (record) => {\n    if (Reflect.has(record, 'id')) {\n      return Reflect.get(record, 'id');\n    } else {\n      return '';\n    }\n  };\n\n  const handleCellDisabled = (record) => {\n    const result = currentEditKeyRef.value\n      ? currentEditKeyRef.value !== handleRecordKey(record)\n      : false;\n    return result;\n  };\n  // 行修改后保存\n  async function handleSave(record: EditRecordRow) {\n    saveItem.value = true;\n    const valid = await record.onValid?.();\n    if (valid) {\n      saveData(record).then(() => {\n        currentEditKeyRef.value = '';\n        currentEditNodeRef.value = null;\n        message.success('已修改');\n        reload();\n        saveItem.value = false;\n      });\n    }\n  }\n\n  // 行修改取消\n  function handleUnSave(record: EditRecordRow) {\n    currentEditKeyRef.value = '';\n    currentEditNodeRef.value = null;\n    saveItem.value = false;\n    record.onEdit?.(false, false);\n    reload();\n  }\n\n  // 删除视频管理\n  function handleDeleteIndex() {\n    if (!checkSelectData()) {\n      return;\n    }\n    createConfirm({\n      title: '提示',\n      iconType: 'warning',\n      content: '确定要删除选中记录？',\n      async onOk() {\n        deleteIndex('?ids=' + checkedKeys.value).then(() => {\n          message.success('已删除');\n          currentEditKeyRef.value = '';\n          currentEditNodeRef.value = null;\n          checkedKeys.value = [];\n          reload();\n        });\n      },\n    });\n  }\n\n  // 启动执行代码\n  onMounted(() => {\n    queryTreeList();\n  });\n</script>\n<style lang=\"less\" scoped>\n  .dialog-loading {\n    position: absolute;\n    z-index: 1000 !important;\n    top: 45%;\n    left: 45%;\n  }\n\n  .dialog-mask {\n    position: absolute;\n    z-index: 1001 !important;\n    top: -1px;\n    width: 100%;\n    height: 100%;\n    opacity: 0.3;\n    background: #ccc;\n  }\n\n  .left-tree-layout {\n    flex-shrink: 0;\n    width: 298px;\n    border-radius: 2px;\n  }\n\n  .right-table-layout {\n    width: calc(100% - 308px);\n  }\n\n  .fix-basic-table {\n    :deep(&.vben-basic-table .ant-table-wrapper) {\n      padding: 10px 16px 12px;\n    }\n\n    :deep(.table-settings) {\n      margin-right: 0;\n    }\n\n    :deep(.table-settings .anticon-setting) {\n      margin-right: 0;\n    }\n  }\n</style>\n"],"names":["getTreeData","params","defHttp","getIndexList","insertIndex","updateIndex","saveData","deleteIndex","reactive","currentEditNodeRef","ref","currentEditKeyRef","deviceParam","saveItem","useI18n","createConfirm","useMessage","formState","searchInfo","treeData","options2","hasSelected","computed","checkedKeys","loadingFlag","indexColumn","useUserStore","options","text","record","__async","treeRef","indexList","getIndexListByParam","list","searchForm","registerTable","reload","getPaginationRef","getItemDataSource","useTable","paginationRef","onSelect","onSelectAll","info","sortInfo","selected","id","selectedRows","changeRows","changeIds","item","queryTreeList","typeList","handleSelect","node","message","handleCreateIndex","setCustomCompOptions","data","addRow","handleRecordKey","checkSelectData","getWiringAction","handleSave","handleUnSave","handleCellDisabled","handleEdit","_a","handleDeleteIndex","onMounted"],"mappings":"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"}