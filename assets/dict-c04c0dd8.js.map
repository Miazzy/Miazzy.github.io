{"version":3,"file":"dict-c04c0dd8.js","sources":["../../src/utils/dict.ts"],"sourcesContent":["/**\n * 数据字典工具类\n */\nimport { useDictStoreWithOut } from '@/store/modules/dict';\nimport { createLocalStorage } from '@/utils/cache';\nimport { DICT_DATA__KEY } from '@/enums/cacheEnum';\n\nconst ls = createLocalStorage();\n\nexport type InfoType = 'success' | 'info' | 'warning' | 'danger';\n\nconst dictStore = useDictStoreWithOut();\n\nexport enum DICT_TYPE {\n\n  SYSTEM_MULTI_ORGANIZATION = \"system_multi_organization\",\n  USER_TYPE = 'user_type',\n  COMMON_STATUS = 'common_status',\n  SYSTEM_TENANT_PACKAGE_ID = 'system_tenant_package_id',\n  TERMINAL = 'terminal', // 终端\n  CERTIFICATE = 'certificate',\n\n  // ========== SYSTEM 模块 ==========\n  SYSTEM_USER_SEX = 'system_user_sex',\n  SYSTEM_MENU_TYPE = 'system_menu_type',\n  SYSTEM_ROLE_TYPE = 'system_role_type',\n  SYSTEM_DATA_SCOPE = 'system_data_scope',\n  SYSTEM_NOTICE_TYPE = 'system_notice_type',\n  SYSTEM_OPERATE_TYPE = 'system_operate_type',\n  SYSTEM_LOGIN_TYPE = 'system_login_type',\n  SYSTEM_LOGIN_RESULT = 'system_login_result',\n  SYSTEM_SMS_CHANNEL_CODE = 'system_sms_channel_code',\n  SYSTEM_SMS_TEMPLATE_TYPE = 'system_sms_template_type',\n  SYSTEM_SMS_SEND_STATUS = 'system_sms_send_status',\n  SYSTEM_SMS_RECEIVE_STATUS = 'system_sms_receive_status',\n  SYSTEM_ERROR_CODE_TYPE = 'system_error_code_type',\n  SYSTEM_OAUTH2_GRANT_TYPE = 'system_oauth2_grant_type',\n  SYSTEM_MAIL_SEND_STATUS = 'system_mail_send_status',\n  SYSTEM_NOTIFY_TEMPLATE_TYPE = 'system_notify_template_type',\n\n  // ========== INFRA 模块 ==========\n  INFRA_BOOLEAN_STRING = 'infra_boolean_string',\n  INFRA_JOB_STATUS = 'infra_job_status',\n  INFRA_JOB_LOG_STATUS = 'infra_job_log_status',\n  INFRA_API_ERROR_LOG_PROCESS_STATUS = 'infra_api_error_log_process_status',\n  INFRA_CONFIG_TYPE = 'infra_config_type',\n  INFRA_CODEGEN_TEMPLATE_TYPE = 'infra_codegen_template_type',\n  INFRA_CODEGEN_FRONT_TYPE = 'infra_codegen_front_type',\n  INFRA_CODEGEN_SCENE = 'infra_codegen_scene',\n  INFRA_FILE_STORAGE = 'infra_file_storage',\n\n  // ========== BPM 模块 ==========\n  BPM_MODEL_CATEGORY = 'bpm_model_category',\n  BPM_MODEL_FORM_TYPE = 'bpm_model_form_type',\n  BPM_TASK_ASSIGN_RULE_TYPE = 'bpm_task_assign_rule_type',\n  BPM_PROCESS_INSTANCE_STATUS = 'bpm_process_instance_status',\n  BPM_PROCESS_INSTANCE_RESULT = 'bpm_process_instance_result',\n  BPM_TASK_ASSIGN_SCRIPT = 'bpm_task_assign_script',\n  BPM_OA_LEAVE_TYPE = 'bpm_oa_leave_type',\n\n  // ========== PAY 模块 ==========\n  PAY_CHANNEL_CODE = 'pay_channel_code', // 支付渠道编码类型\n  PAY_ORDER_STATUS = 'pay_order_status', // 商户支付订单状态\n  PAY_REFUND_STATUS = 'pay_refund_status', // 退款订单状态\n  PAY_NOTIFY_STATUS = 'pay_notify_status', // 商户支付回调状态\n  PAY_NOTIFY_TYPE = 'pay_notify_type', // 商户支付回调状态\n\n  // ========== MP 模块 ==========\n  MP_AUTO_REPLY_REQUEST_MATCH = 'mp_auto_reply_request_match', // 自动回复请求匹配类型\n  MP_MESSAGE_TYPE = 'mp_message_type', // 消息类型\n\n  // ========== MALL - 会员模块 ==========\n  MEMBER_POINT_BIZ_TYPE = 'member_point_biz_type', // 积分的业务类型\n  MEMBER_EXPERIENCE_BIZ_TYPE = 'member_experience_biz_type', // 会员经验业务类型\n\n  // ========== MALL - 商品模块 ==========\n  PRODUCT_UNIT = 'product_unit', // 商品单位\n  PRODUCT_SPU_STATUS = 'product_spu_status', //商品状态\n\n  // ========== MALL - 交易模块 ==========\n  EXPRESS_CHARGE_MODE = 'trade_delivery_express_charge_mode', //快递的计费方式\n  TRADE_AFTER_SALE_STATUS = 'trade_after_sale_status', // 售后 - 状态\n  TRADE_AFTER_SALE_WAY = 'trade_after_sale_way', // 售后 - 方式\n  TRADE_AFTER_SALE_TYPE = 'trade_after_sale_type', // 售后 - 类型\n  TRADE_ORDER_TYPE = 'trade_order_type', // 订单 - 类型\n  TRADE_ORDER_STATUS = 'trade_order_status', // 订单 - 状态\n  TRADE_ORDER_ITEM_AFTER_SALE_STATUS = 'trade_order_item_after_sale_status', // 订单项 - 售后状态\n  TRADE_DELIVERY_TYPE = 'trade_delivery_type', // 配送方式\n  BROKERAGE_ENABLED_CONDITION = 'brokerage_enabled_condition', // 分佣模式\n  BROKERAGE_BIND_MODE = 'brokerage_bind_mode', // 分销关系绑定模式\n  BROKERAGE_BANK_NAME = 'brokerage_bank_name', // 佣金提现银行\n  BROKERAGE_WITHDRAW_TYPE = 'brokerage_withdraw_type', // 佣金冻结时间\n  BROKERAGE_RECORD_BIZ_TYPE = 'brokerage_record_biz_type', // 佣金业务类型\n  BROKERAGE_RECORD_STATUS = 'brokerage_record_status', // 佣金状态\n  BROKERAGE_WITHDRAW_STATUS = 'brokerage_withdraw_status', // 佣金提现状态\n\n  // ========== MALL - 营销模块 ==========\n  PROMOTION_DISCOUNT_TYPE = 'promotion_discount_type', // 优惠类型\n  PROMOTION_PRODUCT_SCOPE = 'promotion_product_scope', // 营销的商品范围\n  PROMOTION_COUPON_TEMPLATE_VALIDITY_TYPE = 'promotion_coupon_template_validity_type', // 优惠劵模板的有限期类型\n  PROMOTION_COUPON_STATUS = 'promotion_coupon_status', // 优惠劵的状态\n  PROMOTION_COUPON_TAKE_TYPE = 'promotion_coupon_take_type', // 优惠劵的领取方式\n  PROMOTION_ACTIVITY_STATUS = 'promotion_activity_status', // 优惠活动的状态\n  PROMOTION_CONDITION_TYPE = 'promotion_condition_type', // 营销的条件类型枚举\n}\n\nexport interface DictDataType {\n  dictType: string;\n  label: string;\n  value: string | number | boolean;\n  colorType: InfoType | '';\n  cssClass: string;\n}\n\nexport function getDictDatas(dictType: string) {\n  return dictStore.getDictMap[dictType] || [];\n}\n\nexport function getDictOpts(dictType: string) {\n  return getDictDatas(dictType);\n}\n\nexport async function initDictMapInfo(dictList: []) {\n  const key = dictList.join(',');\n  const map = await dictStore.fetchBackendData(key, { type: '' });\n  Object.keys(map).forEach((key) => {\n    const value = map[key];\n    ls.set(DICT_DATA__KEY + key, value, 60 * 60 * 24 * 7);\n  });\n}\n\nexport function getDictOptions(dictType: string, valueType?: 'string' | 'number' | 'boolean') {\n  const dictOption: DictDataType[] = [];\n  const dictOptions: DictDataType[] = getDictDatas(dictType);\n  if (dictOptions && dictOptions.length > 0) {\n    dictOptions.forEach((dict: DictDataType) => {\n      dictOption.push({\n        ...dict,\n        key: dict.value,\n        value:\n          valueType === 'string'\n            ? `${dict.value}`\n            : valueType === 'boolean'\n            ? `${dict.value}` === 'true'\n            : Number.parseInt(`${dict.value}`),\n      });\n    });\n  }\n  return dictOption;\n}\n\nexport function getDictObj(dictType: string, value: any) {\n  const dictOptions: DictDataType[] = getDictDatas(dictType);\n  if (dictOptions) {\n    dictOptions.forEach((dict: DictDataType) => {\n      if (dict.value === value.toString()) return dict;\n    });\n  } else {\n    return null;\n  }\n}\n\n// 获取流程分类数据字典\nexport const getDictTypeWflow = () => {\n  const type = JSON.parse(\n    `[{\"value\":1,\"label\":\"默认\",\"colorType\":\"primary\",\"cssClass\":\"\"},{\"value\":2,\"label\":\"OA\",\"colorType\":\"success\",\"cssClass\":\"\"}]`,\n  );\n  return type;\n};\n\n// 获取表单类型数据字典\nexport const getBpmModelFormType = () => {\n  const type = JSON.parse(\n    `[{\"dictType\": \"bpm_model_form_type\",\"value\": 10,\"label\": \"流程表单\",\"colorType\": \"\",\"cssClass\": \"\"},{\"dictType\": \"bpm_model_form_type\",\"value\": 20,\"label\": \"业务表单\",\"colorType\": \"\",\"cssClass\": \"\"}]`,\n  );\n  return type;\n};\n\n// 获取字段选项\nexport const getIntDictOptions = (key: any) => {\n  if (key === 'bpm_task_assign_script') {\n    const type = JSON.parse(\n      `[{\"value\":10,\"label\":\"流程发起人\",\"colorType\":\"\",\"cssClass\":\"\"},{\"value\":20,\"label\":\"流程发起人的一级领导\",\"colorType\":\"\",\"cssClass\":\"\"},{\"value\":21,\"label\":\"流程发起人的二级领导\",\"colorType\":\"\",\"cssClass\":\"\"}]`,\n    );\n    return type;\n  } else if (key === 'bpm_task_assign_rule_type') {\n    const type = JSON.parse(\n      `[{\"value\":10,\"label\":\"角色\",\"colorType\":\"info\",\"cssClass\":\"\"},{\"value\":20,\"label\":\"部门的成员\",\"colorType\":\"primary\",\"cssClass\":\"\"},{\"value\":21,\"label\":\"部门的负责人\",\"colorType\":\"primary\",\"cssClass\":\"\"},{\"value\":22,\"label\":\"岗位\",\"colorType\":\"success\",\"cssClass\":\"\"},{\"value\":30,\"label\":\"用户\",\"colorType\":\"info\",\"cssClass\":\"\"}]`, // ,{\"value\":40,\"label\":\"用户组\",\"colorType\":\"warning\",\"cssClass\":\"\"},{\"value\":50,\"label\":\"自定义脚本\",\"colorType\":\"danger\",\"cssClass\":\"\"}\n    );\n    return type;\n  } else if (key === 'bpm_model_category') {\n    return null;\n  }\n  return null;\n};\n"],"names":["createLocalStorage","dictStore","useDictStoreWithOut","DICT_TYPE","getDictDatas","dictType","getDictOpts","getBpmModelFormType","getIntDictOptions","key"],"mappings":"wCAOWA,EAAmB,EAI9B,MAAMC,EAAYC,EAAoB,EAE1B,IAAAC,GAAAA,IAEVA,EAAA,0BAA4B,4BAC5BA,EAAA,UAAY,YACZA,EAAA,cAAgB,gBAChBA,EAAA,yBAA2B,2BAC3BA,EAAA,SAAW,WACXA,EAAA,YAAc,cAGdA,EAAA,gBAAkB,kBAClBA,EAAA,iBAAmB,mBACnBA,EAAA,iBAAmB,mBACnBA,EAAA,kBAAoB,oBACpBA,EAAA,mBAAqB,qBACrBA,EAAA,oBAAsB,sBACtBA,EAAA,kBAAoB,oBACpBA,EAAA,oBAAsB,sBACtBA,EAAA,wBAA0B,0BAC1BA,EAAA,yBAA2B,2BAC3BA,EAAA,uBAAyB,yBACzBA,EAAA,0BAA4B,4BAC5BA,EAAA,uBAAyB,yBACzBA,EAAA,yBAA2B,2BAC3BA,EAAA,wBAA0B,0BAC1BA,EAAA,4BAA8B,8BAG9BA,EAAA,qBAAuB,uBACvBA,EAAA,iBAAmB,mBACnBA,EAAA,qBAAuB,uBACvBA,EAAA,mCAAqC,qCACrCA,EAAA,kBAAoB,oBACpBA,EAAA,4BAA8B,8BAC9BA,EAAA,yBAA2B,2BAC3BA,EAAA,oBAAsB,sBACtBA,EAAA,mBAAqB,qBAGrBA,EAAA,mBAAqB,qBACrBA,EAAA,oBAAsB,sBACtBA,EAAA,0BAA4B,4BAC5BA,EAAA,4BAA8B,8BAC9BA,EAAA,4BAA8B,8BAC9BA,EAAA,uBAAyB,yBACzBA,EAAA,kBAAoB,oBAGpBA,EAAA,iBAAmB,mBACnBA,EAAA,iBAAmB,mBACnBA,EAAA,kBAAoB,oBACpBA,EAAA,kBAAoB,oBACpBA,EAAA,gBAAkB,kBAGlBA,EAAA,4BAA8B,8BAC9BA,EAAA,gBAAkB,kBAGlBA,EAAA,sBAAwB,wBACxBA,EAAA,2BAA6B,6BAG7BA,EAAA,aAAe,eACfA,EAAA,mBAAqB,qBAGrBA,EAAA,oBAAsB,qCACtBA,EAAA,wBAA0B,0BAC1BA,EAAA,qBAAuB,uBACvBA,EAAA,sBAAwB,wBACxBA,EAAA,iBAAmB,mBACnBA,EAAA,mBAAqB,qBACrBA,EAAA,mCAAqC,qCACrCA,EAAA,oBAAsB,sBACtBA,EAAA,4BAA8B,8BAC9BA,EAAA,oBAAsB,sBACtBA,EAAA,oBAAsB,sBACtBA,EAAA,wBAA0B,0BAC1BA,EAAA,0BAA4B,4BAC5BA,EAAA,wBAA0B,0BAC1BA,EAAA,0BAA4B,4BAG5BA,EAAA,wBAA0B,0BAC1BA,EAAA,wBAA0B,0BAC1BA,EAAA,wCAA0C,0CAC1CA,EAAA,wBAA0B,0BAC1BA,EAAA,2BAA6B,6BAC7BA,EAAA,0BAA4B,4BAC5BA,EAAA,yBAA2B,2BA1FjBA,IAAAA,GAAA,CAAA,CAAA,EAqGL,SAASC,EAAaC,EAAkB,CAC7C,OAAOJ,EAAU,WAAWI,CAAQ,GAAK,CAAA,CAC3C,CAEO,SAASC,EAAYD,EAAkB,CAC5C,OAAOD,EAAaC,CAAQ,CAC9B,CAmDO,MAAME,EAAsB,IACpB,KAAK,MAChB,iMAAA,EAMSC,EAAqBC,GAC5BA,IAAQ,yBACG,KAAK,MAChB,2LAAA,EAGOA,IAAQ,4BACJ,KAAK,MAChB,0TAAA,EAIK"}