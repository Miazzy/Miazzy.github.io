var g=(e,p,i)=>new Promise((r,a)=>{var _=s=>{try{l(i.next(s))}catch(d){a(d)}},f=s=>{try{l(i.throw(s))}catch(d){a(d)}},l=s=>s.done?r(s.value):Promise.resolve(s.value).then(_,f);l((i=i.apply(e,p)).next())});import{B as I}from"./BasicTable-0434a334.js";import"./BasicForm.vue_vue_type_style_index_0_lang-1ba7be9e.js";import"./index-085d06c7.js";import{u as x}from"./useTable-109483b3.js";import"./antd-15ac76ed.js";import{a5 as u,_ as H}from"./index.js";import{d as k,k as h,al as y,Z as R,_ as D,$ as o,f as m,aa as M,E as S,u as w,aG as C,aH as V}from"./vue-71d1abb3.js";const ee=e=>u.get({url:"/monitor/driving-recorder-gps/list",params:e},{isOnlyResult:!0}),te=e=>u.get({url:"/monitor/ele-work-card-gps/list",params:e},{isOnlyResult:!0}),se=e=>u.get({url:"/monitor/inspection-instrument-gps/list",params:e},{isOnlyResult:!0}),O=e=>u.get({url:"/monitor/inspection-instrument-file/page",params:e},{isOnlyResult:!0}),B=[{title:"录制时间",dataIndex:"fileCreateTime",width:140},{title:"文件类型",dataIndex:"fileType",width:70,customRender:({record:e})=>e.fileTypeText},{title:"文件大小",dataIndex:"formatFileLength",width:100}],T=e=>(C("data-v-7a8d39fe"),e=e(),V(),e),G={class:"info-content-box"},L={class:"device-info-box"},P={class:"info-row"},z=T(()=>o("span",{class:"label",style:{width:"5em"}},"开始时间：",-1)),E={class:"info-row"},F=T(()=>o("span",{class:"label",style:{width:"5em"}},"结束时间：",-1)),N={class:"info-row search-btn"},j={class:"info-row"},U=k({__name:"historyVideo",props:{inspectionInstrumentId:String},emits:["row-click"],setup(e,{emit:p}){const i=e,r=h(),a=h(),_=()=>g(this,null,function*(){const t={startTime:r.value,endTime:a.value,inspectionInstrumentId:i.inspectionInstrumentId,fileType:"video,image"};return t.startTime&&(t.startTime=t.startTime+":00"),t.endTime&&(t.endTime=t.endTime+":59"),yield O(t)}),[f,{reload:l}]=x({api:_,columns:B,useSearchForm:!1,showTableSetting:!1,bordered:!0,rowKey:"id",resizeHeightOffset:10}),s=()=>{l()},d=t=>{p("row-click",t)};return(t,n)=>{const v=y("a-date-picker"),b=y("a-button");return R(),D("div",G,[o("div",L,[o("div",P,[z,m(v,{value:r.value,"onUpdate:value":n[0]||(n[0]=c=>r.value=c),format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm","show-time":"",style:{width:"100%"}},null,8,["value"])]),o("div",E,[F,m(v,{value:a.value,"onUpdate:value":n[1]||(n[1]=c=>a.value=c),format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm","show-time":"",style:{width:"100%"}},null,8,["value"])]),o("div",N,[m(b,{class:"operation-btn",type:"primary",onClick:s},{default:M(()=>[S("查询")]),_:1})]),o("div",j,[m(w(I),{onRegister:w(f),onResizeColumn:n[2]||(n[2]=(c,Y)=>Y.width=c),onRowClick:d},null,8,["onRegister"])])])])}}});const K=H(U,[["__scopeId","data-v-7a8d39fe"]]),oe=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"}));export{K as H,ee as a,se as b,te as g,oe as h};
//# sourceMappingURL=historyVideo-b6cdcc7b.js.map
