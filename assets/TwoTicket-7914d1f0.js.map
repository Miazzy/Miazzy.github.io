{"version":3,"file":"TwoTicket-7914d1f0.js","sources":["../../src/views/da/stationOperation/operation/TwoTicket.vue"],"sourcesContent":["<template>\n  <div class=\"two-ticket\">\n    <SmallModule title=\"两票统计\">\n      <!-- <template #titleRight>\n        <div class=\"right-title-layout\">\n          <div class=\"detail-text\"\n            ><span class=\"text\" @click=\"handPenetrate\">详情</span\n            ><span class=\"arrow\">&gt;</span></div\n          >\n        </div>\n      </template> -->\n      <template #content>\n        <div class=\"content-layout\">\n          <div class=\"data-layout\">\n            <DataIndicator label=\"处理中\" :value=\"indexData.total\" />\n            <DataIndicator label=\"今日新增\" :value=\"indexData.dayCreate\" />\n            <DataIndicator label=\"今日完成\" :value=\"indexData.dayComp\" />\n          </div>\n          <div class=\"chart-layout\">\n            <!-- <DonutChart\n              class=\"chart\"\n              :data=\"donutData\"\n              width=\"300\"\n              height=\"100%\"\n              radius=\"100\"\n              :showTotal=\"false\"\n            /> -->\n            <EchartPieChart\n              id=\"two-ticket-pie\"\n              :width=\"`21.4vw`\"\n              :height=\"tabStatus === 'on' ? `24.08vh` : `23.53vh`\"\n              :data=\"donutData\"\n              :roseType=\"false\"\n              :radius=\"['30%', '50%']\"\n              showLegend\n              :pieCenter=\"['45%', '35%']\"\n              showLabel\n              :legendOptions=\"{ top: '70%', bottom: 'auto', left: 'center' }\"\n            />\n          </div>\n        </div>\n      </template>\n    </SmallModule>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import SmallModule from '/@/components/Framework/OperationScreen/SmallModule.vue';\n  import DataIndicator from '/@/components/Framework/OperationScreen/DataIndicator.vue';\n  import DonutChart from '/@/components/Framework/Chart/DonutChart.vue';\n  import EchartPieChart from '/@/components/Framework/Chart/EchartPieChart.vue';\n  import { reactive, UnwrapRef, ref, onMounted } from 'vue';\n  import { assign } from 'lodash-es';\n  import { getTicketcData } from './data';\n  import { addTabPage } from '/@/utils/route';\n\n  function handPenetrate() {\n    addTabPage('/bi/maintenance/ticket');\n  }\n\n  const indexData: UnwrapRef<any> = reactive({});\n\n  //搜索参数\n  const searchInfo: UnwrapRef<any> = reactive({});\n  interface Props {\n    operationSearchInfo?: {};\n  }\n  const props = withDefaults(defineProps<Props>(), {});\n\n  onMounted(() => {\n    assign(searchInfo, props.operationSearchInfo);\n    queryTicketcData();\n  });\n\n  const donutData = ref([]);\n\n  const queryTicketcData = async () => {\n    let data = await getTicketcData(searchInfo);\n    if (data.result) {\n      assign(indexData, data.result);\n      donutData.value = data.result.pieData;\n    }\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .content-layout {\n    height: 100%;\n\n    .data-layout {\n      display: flex;\n      align-items: flex-end;\n      justify-content: space-between;\n      height: 23.95%;\n      margin-top: -0.15rem;\n      padding: 0 0.87rem;\n    }\n\n    .chart-layout {\n      width: 100%;\n      height: 76.05%;\n      padding-left: 0.52rem;\n\n      :deep(.indicator-group) {\n        flex-direction: column;\n      }\n    }\n  }\n</style>\n"],"names":["indexData","reactive","searchInfo","onMounted","assign","props","queryTicketcData","donutData","ref","__async","data","getTicketcData"],"mappings":"m3BA4DQA,EAA4BC,EAAS,CAAA,CAAE,EAGvCC,EAA6BD,EAAS,CAAA,CAAE,EAM9CE,EAAU,IAAM,CACPC,EAAAF,EAAYG,EAAM,mBAAmB,EAC3BC,GAAA,CAClB,EAEK,MAAAC,EAAYC,EAAI,CAAA,CAAE,EAElBF,EAAmB,IAAYG,EAAA,sBAC/B,IAAAC,EAAO,MAAMC,EAAeT,CAAU,EACtCQ,EAAK,SACAN,EAAAJ,EAAWU,EAAK,MAAM,EACnBH,EAAA,MAAQG,EAAK,OAAO,QAChC"}