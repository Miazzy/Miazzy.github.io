var g=(v,u,a)=>new Promise((d,n)=>{var p=t=>{try{e(a.next(t))}catch(s){n(s)}},k=t=>{try{e(a.throw(t))}catch(s){n(s)}},e=t=>t.done?d(t.value):Promise.resolve(t.value).then(p,k);e((a=a.apply(v,u)).next())});import{S as x}from"./SmallModule-04781cfc.js";import{D as _}from"./DataIndicator-9c21ed00.js";import{c as C,w as S}from"./data-c58638ca.js";import{ax as D,_ as I}from"./index.js";import{a as b}from"./assign-37f1c13d.js";import{d as O,r as h,o as M,k as W,al as F,Z as l,_ as i,f as c,aa as w,$ as y,u as $,ad as m,F as B,ac as f}from"./vue-71d1abb3.js";import"./antd-15ac76ed.js";const N={class:"work-order"},V={class:"content-layout"},P={class:"data-layout"},U={class:"table-layout",style:{"margin-top":"-1vh"}},Y={key:0,class:"blue-text"},q={key:0,class:"blue-text"},z={key:1,class:"green-text"},A={key:2,class:"white-text"},E=O({__name:"WorkOrder",props:{operationSearchInfo:{}},setup(v){const u=v,a=h({}),d=h({});function n(e){let t={stationId:u.operationSearchInfo.stationUUId};if(e==="processing")t.status="0,1";else if(e==="dayCreate"){let s=new Date;t.startMonth=s.getFullYear().toString()+"-"+(s.getMonth()+1).toString(),t.endMonth=s.getFullYear().toString()+"-"+(s.getMonth()+1).toString()}D("/po/workorder/index","工单管理",t)}M(()=>{b(d,u.operationSearchInfo),k()});const p=W([]),k=()=>g(this,null,function*(){let e=yield C(d);e.result&&(b(a,e.result),p.value=e.result.barData)});return(e,t)=>{const s=F("a-table");return l(),i("div",N,[c(x,{title:"工单统计",position:"left"},{content:w(()=>[y("div",V,[y("div",P,[c(_,{label:"未处理",value:a.not_allocation,onClick:t[0]||(t[0]=r=>n("notAllocation"))},null,8,["value"]),c(_,{label:"处理中",value:a.processing,onClick:t[1]||(t[1]=r=>n("processing"))},null,8,["value"]),c(_,{label:"今日新增",value:a.day_create,onClick:t[2]||(t[2]=r=>n("dayCreate"))},null,8,["value"]),c(_,{label:"今日解决",value:a.day_result},null,8,["value"])]),y("div",U,[c(s,{class:"operation-screen-table",columns:$(S),"data-source":p.value,size:"small",pagination:!1,scroll:{y:"calc(23.5vh - 0.68rem)"},"row-class-name":(r,o)=>o%2===0?"table-striped":null},{bodyCell:w(({column:r,record:o})=>[r.key==="responsible"?(l(),i("span",Y,m(o.responsible),1)):r.key==="status"?(l(),i(B,{key:1},[o.status==="处理中"?(l(),i("span",q,m(o.status),1)):f("",!0),o.status==="已完成"?(l(),i("span",z,m(o.status),1)):f("",!0),o.status==="未处理"?(l(),i("span",A,m(o.status),1)):f("",!0)],64)):f("",!0)]),_:1},8,["columns","data-source","scroll","row-class-name"])])])]),_:1})])}}});const Q=I(E,[["__scopeId","data-v-cf7cf044"]]);export{Q as default};
//# sourceMappingURL=WorkOrder-ee069aed.js.map
