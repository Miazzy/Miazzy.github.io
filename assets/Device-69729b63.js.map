{"version":3,"file":"Device-69729b63.js","sources":["../../src/views/da/groupOperation/device/Device.vue"],"sourcesContent":["<template>\n  <div v-if=\"isShow\" class=\"left-content\" :key=\"instanceKey\">\n    <div class=\"left-bg-box\">\n      <div class=\"tab-box\">\n        <div\n          class=\"tab-item\"\n          :class=\"{ active: curTabIndex === item.tabIndex }\"\n          v-for=\"(item, index) in tabList\"\n          :key=\"index\"\n          @click=\"handleTabClick(item)\"\n          >{{ item.tabLabel }}</div\n        >\n      </div>\n      <div class=\"tab-content-box\">\n        <VideoMonitor v-if=\"curTabIndex === '1'\" @select=\"handleSelect\" />\n        <RealStatus\n          :tabIndex=\"curTabIndex\"\n          v-if=\"curTabIndex === '2' || curTabIndex === '3' || curTabIndex === '4'\"\n        />\n      </div>\n    </div>\n  </div>\n  <!-- 视频 -->\n  <div\n    v-if=\"curTabIndex === '1'\"\n    class=\"right-content\"\n    style=\"opacity: 1; background-color: #04284c\"\n  >\n    <div class=\"right-bg-box\">\n      <div id=\"gridView\" class=\"video-list-layout\">\n        <div\n          class=\"monitor-video-item-layout grid-item\"\n          v-for=\"(video, index) in mainGridVideos\"\n          :key=\"index\"\n          :id=\"'videoDiv' + index\"\n        >\n          <div\n            class=\"monitor-video-item\"\n            style=\"width: 100%; height: 100%; background-color: black\"\n          >\n            <div\n              :id=\"mainGridVideos[index].id\"\n              class=\"video-box\"\n              width=\"100%\"\n              height=\"100%\"\n              @click=\"selectVideo(video, index)\"\n              @dblclick=\"dbClickVideo(mainGridVideos[index], index)\"\n            >\n              视频\n            </div>\n            <div class=\"title-box\">\n              <span\n                >{{ mainGridVideos[index].stationName }} -\n                {{ mainGridVideos[index].cameraName }}</span\n              >\n              <Icon\n                icon=\"fluent-mdl2:scale-volume\"\n                style=\"font-size: 0.14rem\"\n                @click=\"fullScreen(video)\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div id=\"fullView\" class=\"monitor-video-item hidden\">\n        <div class=\"video-box\">\n          <div\n            id=\"fullVideo\"\n            style=\"width: 100%; height: 76vh; min-height: 650px; background-color: black\"\n          ></div>\n          <div class=\"title-box\">\n            <span>{{ fullVideo.stationName }} - {{ fullVideo.cameraName }}</span>\n            <Icon class=\"full\" :icon=\"'uil:compress-arrows'\" size=\"20\" @click=\"exitFullScreen()\" />\n          </div>\n\n          <Icon class=\"background-image\" :icon=\"'tabler:direction-arrows'\" size=\"80\" />\n          <div style=\"position: absolute; right: 20px; bottom: 97px\">\n            <div style=\"display: flex; flex-direction: column; align-items: center\">\n              <a-button class=\"arrowButton\" @click=\"control(fullVideo, 0)\">上</a-button>\n            </div>\n            <div style=\"height: 20px\">\n              <a-button class=\"arrowButton\" @click=\"control(fullVideo, 2)\">左</a-button>\n              <a-button class=\"arrowButton\" @click=\"control(fullVideo, 3)\">右</a-button>\n            </div>\n            <div style=\"display: flex; flex-direction: column; align-items: center\">\n              <a-button class=\"arrowButton\" @click=\"control(fullVideo, 1)\">下</a-button>\n            </div>\n            <div\n              style=\"display: flex; flex-direction: column; align-items: center; margin-top: 20px\"\n            >\n              <Icon\n                class=\"controlButton\"\n                :icon=\"'material-symbols:add'\"\n                size=\"30\"\n                style=\"display: inline-block\"\n                @click=\"control(fullVideo, 8)\"\n            /></div>\n            <div style=\"flex-direction: column; margin-top: 10px; text-align: center\"\n              ><Icon\n                class=\"controlButton\"\n                :icon=\"'ant-design:line-outlined'\"\n                size=\"30\"\n                style=\"display: inline-block\"\n                @click=\"control(fullVideo, 9)\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- 智能设备弹框 -->\n  <RealStatusModal v-if=\"showModal\" :closeModal=\"closeModal\" :infoData=\"infoData\" />\n</template>\n\n<script lang=\"ts\" setup>\n  import { ref, onMounted, reactive, onUnmounted } from 'vue';\n  import VideoMonitor from './VideoMonitor.vue';\n  import RealStatus from './RealStatus.vue';\n  import RealStatusModal from './RealStatusModal.vue';\n  import { assign } from 'lodash-es';\n  import { defHttp } from '/@/utils/http/axios';\n  import Icon from '@/components/Icon/Icon.vue';\n  import { getPlayer, EzuiktProto, destoryPlayer, checkIsFlvUrl } from '/@/utils/flvtools';\n  import { MsgManager } from '/@/message/MsgManager';\n  import { sleep } from '@/utils/http/axios/axiosRetry';\n  import { buildUUID } from '@/utils/uuid';\n\n  const instanceKey = ref(buildUUID());\n  const curTabIndex = ref('1');\n  const tabList = ref([\n    {\n      tabIndex: '1',\n      tabLabel: '视频监控',\n    },\n    {\n      tabIndex: '2',\n      tabLabel: '电子工牌',\n    },\n    {\n      tabIndex: '3',\n      tabLabel: '巡检终端',\n    },\n    {\n      tabIndex: '4',\n      tabLabel: '行车记录仪',\n    },\n  ]);\n\n  // 智能设备（电子工牌、巡检仪、行车记录仪） 开始\n  const showModal = ref<boolean>(false);\n  const infoData = ref({}) as any;\n\n  const initModalInfo = ({ type, record }) => {\n    infoData.value = record;\n    infoData.value.bizType = type;\n    showModal.value = true;\n  };\n  const timer = ref(null);\n  const initModalInfo2 = ({ type, record }) => {\n    infoData.value = record;\n    infoData.value.bizType = type;\n    timer.value = setTimeout(() => {\n      showModal.value = true;\n    }, 3000);\n  };\n\n  const closeModal = () => {\n    showModal.value = false;\n  };\n\n  const listenSmartDeviceModal = () => {\n    // 监听智能设备弹窗信息\n    MsgManager.getInstance().listen('smart-device-modal-info', initModalInfo);\n    MsgManager.getInstance().listen('smart-device-point-mark', initModalInfo2);\n    // 监听智能设备弹窗打开关闭\n    MsgManager.getInstance().listen('smart-device-modal', (value) => {\n      showModal.value = value;\n    });\n  };\n  // 智能设备（电子工牌、巡检仪、行车记录仪） 结束\n\n  let selectIndex = 0;\n  //video 开始\n  const videos = ref([]);\n  const selectVideoPanel = reactive<any>({});\n  const fullVideo = reactive<any>({});\n  const fullVideoView = ref(false);\n  const fullFlvPlayer = ref(null);\n  const flvPlayerList = ref([]);\n  const searchInfo = reactive<any>({}); // 查询信息\n  const isShow = ref(true);\n\n  const createVideo = async () => {\n    await sleep(10);\n    for (let i = 0; i < mainGridVideos.value.length; i++) {\n      const flvPlayer = ref<any>();\n      const item = mainGridVideos.value[i];\n      if (checkIsFlvUrl(item.url) && i < 9) {\n        const argments = [item.id, item.url, item.accessToken, true, EzuiktProto.HTTP];\n        flvPlayer.value = getPlayer(...argments);\n        flvPlayerList.value.push(flvPlayer.value);\n      } else {\n        flvPlayerList.value.push(null);\n      }\n    }\n  };\n\n  const selectVideo = (item, index) => {\n    assign(selectVideoPanel, item);\n    selectIndex = index;\n  };\n\n  const dbClickVideo = async (item, index) => {\n    destoryPlayer(flvPlayerList.value[index]);\n    await sleep(10);\n    const argments = [item.id, item.url, item.accessToken, true, EzuiktProto.HTTP];\n    flvPlayerList.value[index] = getPlayer(...argments) as never;\n  };\n\n  async function handleSelect(node) {\n    if (node != null) {\n      if (node.nodeKindId != 'videoUrl') {\n        searchInfo.nodeKindId = node.nodeKindId;\n        searchInfo.searchId = node.id;\n      } else {\n        await sleep(10);\n        const id = selectVideoPanel.id;\n        if (id != null && id != '') {\n          if (node.url != null && node.url != '') {\n            mainGridVideos.value[selectIndex].cameraName = node.name;\n            mainGridVideos.value[selectIndex].stationName = node.powerStationName;\n            mainGridVideos.value[selectIndex].url = node.url;\n            mainGridVideos.value[selectIndex].accessToken = node.accessToken;\n            mainGridVideos.value[selectIndex].deviceSerial = node.deviceSerial;\n            mainGridVideos.value[selectIndex].channelNo = node.channelNo;\n            mainGridVideos.value[selectIndex].id = node.id + new Date();\n\n            destoryPlayer(flvPlayerList.value[selectIndex]);\n            await sleep(10);\n            const argments = [id, node.url, node.accessToken, true, EzuiktProto.HTTP];\n            flvPlayerList.value[selectIndex] = getPlayer(...argments) as never;\n            assign(selectVideoPanel, mainGridVideos.value[selectIndex]);\n          }\n        }\n      }\n    }\n    if (node == null || (node != null && node.nodeKindId != 'videoUrl')) {\n      videos.value = await getDataListParam();\n      mainGridVideos.value = videos.value.slice(0, 9);\n      destoryAllPlayer();\n      sleep(100);\n      await createVideo();\n      document.querySelectorAll('.grid-item').forEach((item) => {\n        gridItemClick(item);\n      });\n    }\n  }\n\n  const getDataListParam = async () => {\n    let dataObj = await getVideoPageDataApi(searchInfo);\n    return dataObj;\n  };\n\n  function fullScreen(item) {\n    assign(fullVideo, item);\n    var div = document.getElementById('fullView');\n    div.classList.remove('hidden'); // 显示div\n    var div2 = document.getElementById('gridView');\n    div2.classList.add('hidden'); // 显示div\n    div2.classList.remove('video-list-layout'); // 显示div\n\n    fullVideoView.value = true;\n    destoryPlayer(fullFlvPlayer.value);\n\n    document.querySelectorAll('.arrowButton').forEach(function (item) {\n      item.classList.remove('ant-btn');\n    });\n\n    if (fullVideo.url != null && fullVideo.url != '') {\n      const argments = ['fullVideo', item.url, item.accessToken, true, EzuiktProto.HTTP];\n      fullFlvPlayer.value = getPlayer(...argments);\n    }\n  }\n\n  function exitFullScreen() {\n    var div = document.getElementById('fullView');\n    div.classList.add('hidden'); // 显示div\n    var div2 = document.getElementById('gridView');\n    div2.classList.remove('hidden'); // 显示div\n    div2.classList.add('video-list-layout'); // 显示div\n    destoryPlayer(fullFlvPlayer.value);\n    fullVideoView.value = false;\n  }\n\n  function control(item, direction) {\n    item.direction = direction;\n    videoControl(item);\n  }\n  const videoControl = (params) =>\n    defHttp.get(\n      {\n        url: '/baseset/videoInfo/videoControl',\n        params,\n      },\n      {},\n    );\n  const mainGridVideos = ref();\n\n  const getVideoPageDataApi = (params) =>\n    defHttp.get(\n      {\n        url: '/baseset/videoInfo/list',\n        params,\n      },\n      { isOnlyResult: true },\n    );\n  //video 结束\n\n  // 点击左侧菜单切换函数\n  const handleTabClick = async (item) => {\n    curTabIndex.value = item.tabIndex;\n    showModal.value = false;\n    MsgManager.getInstance().sendMsg('smart-device-clear-overlays', null);\n    if (item.tabIndex == 1) {\n      destoryAllPlayer();\n      sleep(100);\n      await createVideo();\n      document.querySelectorAll('.grid-item').forEach((item) => {\n        gridItemClick(item);\n      });\n    }\n  };\n\n  // 视频元素点击处理函数\n  const gridItemClick = (item) => {\n    item.addEventListener('click', () => {\n      document\n        .querySelectorAll('.grid-item.selected')\n        .forEach((selectedItem) => selectedItem.classList.remove('selected')); // 移除其他项的选中状态\n      item.classList.add('selected'); // 添加当前点击项的选中状态\n    });\n  };\n\n  // 播放器统一销毁函数\n  const destoryAllPlayer = () => {\n    try {\n      const list = flvPlayerList.value;\n      for (let i = 0; i < list.length; i++) {\n        destoryPlayer(list[i]);\n        list[i] = null;\n      }\n      destoryPlayer(fullFlvPlayer.value);\n      fullFlvPlayer.value = null;\n      flvPlayerList.value = [];\n    } catch (error) {\n      console.error('destory all player error: ', error);\n    }\n  };\n\n  // 销毁函数\n  const destory = () => {\n    destoryAllPlayer();\n    isShow.value = false;\n  };\n\n  // 更新组件函数\n  const handleUpdate = () => {\n    instanceKey.value = buildUUID();\n  };\n\n  // 暴露函数\n  defineExpose({\n    handleUpdate,\n    destory,\n  });\n\n  onMounted(async () => {\n    listenSmartDeviceModal();\n    videos.value = await getVideoPageDataApi({});\n    mainGridVideos.value = videos.value.slice(0, 9);\n    destoryAllPlayer();\n    sleep(100);\n    await createVideo();\n    document.querySelectorAll('.grid-item').forEach((item) => {\n      gridItemClick(item);\n    });\n  });\n\n   onUnmounted(()=>{\n    if(timer.value) {\n      clearTimeout(timer.value);\n    }\n  });\n</script>\n\n<style lang=\"less\" scoped>\n  .left-content {\n    position: absolute;\n    z-index: 11;\n    top: 0.9rem;\n    left: 0;\n    width: 25vw;\n    height: calc(100vh - 0.9rem);\n    padding: 0 0.57vw 1.68vh 0.68vw;\n\n    .left-bg-box {\n      width: 100%;\n      height: 100%;\n      background: url('../../../../assets/images/operationScreen/large-left-module-bg.png')\n        no-repeat top/100% auto;\n    }\n\n    .tab-box {\n      display: flex;\n      justify-content: flex-start;\n      height: 0.5rem;\n      padding: 0 0.18rem;\n\n      .tab-item {\n        padding: 0.22rem 0 0.1rem;\n        border-bottom: 0.02rem solid transparent;\n        color: #fefefe;\n        font-size: 0.16rem;\n        font-weight: 600;\n        line-height: 1;\n        cursor: pointer;\n\n        &.active {\n          border-bottom-color: #1890ff;\n          color: #1890ff;\n        }\n\n        & + .tab-item {\n          margin-left: 0.32rem;\n        }\n      }\n    }\n  }\n\n  .right-content {\n    position: absolute;\n    z-index: 11;\n    top: 0.9rem;\n    right: 0;\n    width: 75vw;\n    height: calc(98.5vh - 1.8rem);\n    padding-right: 0.68vw;\n\n    .right-bg-box {\n      width: 100%;\n      height: 100%;\n      padding: 0.22rem 0.16rem 0.16rem;\n      background: url('../../../../assets/images/operationScreen/large-module-bg.png') no-repeat\n        center/100% 100%;\n    }\n\n    .video-list-layout {\n      display: grid;\n      grid-template-columns: repeat(3, 33.33%);\n      grid-template-rows: repeat(3, 33.33%);\n      width: 100%;\n      height: 100%;\n      place-items: center;\n\n      .monitor-video-item-layout {\n        width: 100%;\n        height: 100%;\n        padding: 0.04rem;\n      }\n    }\n  }\n\n  .grid-item {\n    padding: 0; /* 内边距 */\n    // border: 1px solid #000; /* 边框 */\n    text-align: center; /* 文字居中 */\n    cursor: pointer; /* 鼠标指针变为点击状态 */\n  }\n\n  .grid-item.selected {\n    border: 2px solid #05fd43; /* 2px边框  */\n    // background-color: #0509fa; /* 选中项的背景色 */\n  }\n\n  .main-grid-1 {\n    display: grid;\n    grid-column: 1;\n    grid-gap: 10px;\n    grid-row: 1;\n  }\n\n  .station-name {\n    position: absolute;\n    right: 2px;\n    bottom: 0;\n    left: 2px;\n    width: 99%;\n    height: 30px;\n    padding: 5px;\n    padding-left: 15px;\n    opacity: 0.5;\n    background-color: rgb(2 1 1);\n    color: #fff;\n    text-align: left;\n  }\n\n  .monitor-video-item {\n    position: relative;\n    background-color: rgb(8 95 148 / 30%);\n\n    .video-box {\n      width: 100%;\n      height: 100%;\n      padding: 3px;\n    }\n\n    .title-box {\n      display: flex;\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      align-items: center;\n      justify-content: space-between;\n      width: 100%;\n      height: 0.32rem;\n      padding: 0 0.14rem;\n      background-color: rgb(0 0 0 / 50%);\n      color: #fff;\n      font-size: 0.14rem;\n      line-height: 0.32rem;\n    }\n  }\n\n  .background-image {\n    position: absolute;\n    right: 20px;\n    bottom: 180px;\n    border-radius: 50px;\n    opacity: 0.5;\n    background-color: rgb(2 1 1);\n    color: #fff;\n\n    &:hover {\n      background: #fefefe;\n      color: #000;\n    }\n  }\n\n  .arrowButton {\n    width: 40px;\n    height: 20px;\n    margin: 0;\n    padding: 0;\n    border: none;\n    outline: none;\n    background: transparent;\n    box-shadow: none;\n    color: transparent;\n\n    &:hover {\n      background: transparent;\n      color: transparent;\n    }\n  }\n\n  .controlButton {\n    display: inline-block;\n    width: 40px;\n    height: 30px;\n    opacity: 0.5;\n    background-color: rgb(2 1 1);\n    color: #fff;\n    text-align: center;\n\n    &:hover {\n      background: #fefefe;\n      color: #000;\n    }\n  }\n</style>\n"],"names":["instanceKey","ref","buildUUID","curTabIndex","tabList","showModal","infoData","initModalInfo","type","record","timer","initModalInfo2","closeModal","listenSmartDeviceModal","MsgManager","value","selectIndex","videos","selectVideoPanel","reactive","fullVideo","fullVideoView","fullFlvPlayer","flvPlayerList","searchInfo","isShow","createVideo","__async","sleep","i","mainGridVideos","flvPlayer","item","checkIsFlvUrl","argments","EzuiktProto","getPlayer","selectVideo","index","assign","dbClickVideo","destoryPlayer","handleSelect","node","id","getDataListParam","destoryAllPlayer","gridItemClick","getVideoPageDataApi","fullScreen","div","div2","exitFullScreen","control","direction","videoControl","params","defHttp","handleTabClick","selectedItem","list","error","__expose","onMounted","onUnmounted"],"mappings":"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"}