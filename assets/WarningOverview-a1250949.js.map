{"version":3,"file":"WarningOverview-a1250949.js","sources":["../../src/views/da/groupOperation/monitor/WarningOverview.vue"],"sourcesContent":["<template>\n  <div class=\"warning-overview\">\n    <SmallModule title=\"告警总览\">\n      <!-- <template #titleRight>\n        <div class=\"detail-text\"\n          ><span class=\"text\" @click=\"toBiReport\">详情</span><span class=\"arrow\">&gt;</span></div\n        >\n      </template> -->\n      <template #content>\n        <div class=\"content-layout\">\n          <div class=\"data-layout\">\n            <DataIndicator label=\"实时告警\" :value=\"alarmData.realTimeAlarmNum\" color=\"#F7C824\" />\n            <DataIndicator label=\"通讯中断\" :value=\"alarmData.greyErrorNum\" color=\"#FF4F38\" />\n          </div>\n          <div class=\"device-layout\">\n            <DeviceNumberStatistics\n              class=\"device-item\"\n              icon=\"zuchuannibianqi\"\n              deviceName=\"逆变器\"\n              :value=\"alarmData.inverterErrorNum\"\n              unit=\"台\"\n            />\n            <DeviceNumberStatistics\n              class=\"device-item\"\n              icon=\"huiliuxiang\"\n              deviceName=\"汇流箱\"\n              :value=\"alarmData.combinderErrorNum\"\n              unit=\"台\"\n            />\n            <DeviceNumberStatistics\n              class=\"device-item\"\n              icon=\"xiangbian\"\n              deviceName=\"箱变\"\n              :value=\"alarmData.transFormerErrorNum\"\n              unit=\"台\"\n            />\n            <DeviceNumberStatistics\n              class=\"device-item\"\n              icon=\"BMS\"\n              deviceName=\"BMS\"\n              :value=\"alarmData.bmsErrorNum\"\n              unit=\"台\"\n            />\n            <DeviceNumberStatistics\n              class=\"device-item\"\n              icon=\"cekong\"\n              deviceName=\"测控\"\n              :value=\"alarmData.measureControlErrorNum\"\n              unit=\"台\"\n            />\n            <DeviceNumberStatistics\n              class=\"device-item\"\n              icon=\"zuchuan\"\n              deviceName=\"组串\"\n              :value=\"alarmData.seriesRedErrorNum\"\n              unit=\"台\"\n            />\n          </div>\n        </div>\n      </template>\n    </SmallModule>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import SmallModule from '/@/components/Framework/OperationScreen/SmallModule.vue';\n  import DataIndicator from '/@/components/Framework/OperationScreen/DataIndicator.vue';\n  import DeviceNumberStatistics from '/@/components/Framework/OperationScreen/DeviceNumberStatistics.vue';\n  import { getWarningInfoData } from './data';\n  import { reactive, UnwrapRef, onMounted } from 'vue';\n  import { assign } from 'lodash-es';\n  // import { addTabPage } from '@/utils/route';\n\n  const searchInfo: UnwrapRef<any> = reactive({});\n  const alarmData = reactive<any>({});\n\n  onMounted(() => {\n    queryAlarmData();\n  });\n\n  const queryAlarmData = async () => {\n    let data = await getWarningInfoData(searchInfo);\n    if (data.result) {\n      assign(alarmData, data.result);\n    }\n  };\n\n  // // 穿透方法\n  // const toBiReport = async (record: any) => {\n  //   // 参数处理\n  //   let url = '/monitor/faultWarning';\n  //   let param = {};\n  //   addTabPage(url, '', param);\n  // };\n</script>\n\n<style lang=\"less\" scoped>\n  .detail-text {\n    padding: 0.2rem 0.16rem 0 0;\n    color: #fff;\n    font-size: 0.12rem;\n    line-height: 1;\n    cursor: pointer;\n\n    .text {\n      margin-right: 0.04rem;\n    }\n\n    .arrow {\n      opacity: 0.6;\n    }\n  }\n\n  .content-layout {\n    height: 100%;\n    margin-top: -0.2rem;\n    padding: 0 0.14rem;\n\n    .data-layout {\n      display: flex;\n      align-items: flex-end;\n      justify-content: space-between;\n      height: 25.18%;\n      padding: 0 1.3rem;\n    }\n\n    .device-layout {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-between;\n      padding: 0.08rem 0.08rem 0;\n\n      .device-item {\n        margin-bottom: 0.08rem;\n      }\n    }\n  }\n</style>\n"],"names":["searchInfo","reactive","alarmData","onMounted","queryAlarmData","__async","data","getWarningInfoData","assign"],"mappings":"6tBAyEQ,MAAAA,EAA6BC,EAAS,CAAA,CAAE,EACxCC,EAAYD,EAAc,CAAA,CAAE,EAElCE,EAAU,IAAM,CACCC,GAAA,CAChB,EAED,MAAMA,EAAiB,IAAYC,EAAA,sBAC7B,IAAAC,EAAO,MAAMC,EAAmBP,CAAU,EAC1CM,EAAK,QACAE,EAAAN,EAAWI,EAAK,MAAM,CAC/B"}