import{d as T,r as x,k as Y,al as m,Z as y,_ as O,f as e,aa as a,v as i,A as o,$ as B,ad as K,a9 as I,ac as H,F as j}from"./vue-71d1abb3.js";import{_ as v}from"./DictSelectBox.vue_vue_type_script_setup_true_lang-e03e9fe8.js";import E from"./TicketTable-81dd11bc.js";import{ax as F}from"./index.js";const V={id:"more-tab-content",class:"tab-table-div"},W=T({__name:"HiddenWorkOrder",props:{formState:{type:Object,required:!0,default:function(){return{hidden:{}}}},disabledInput:Boolean,showProcess:Boolean,disabledProcessInput:Boolean,stationPersonOptions:Object},setup(n,{expose:k}){const C=n,t=x(C.formState),c=Y("1"),D=Y();function M(b,l){t.hidden.findById=l.lable}function N(b,l){t.planHandleById=l.lable}function q(b,l){t.planConfirmById=l.lable}function U(b,l){t.handleById=l.lable}function P(){F("/po/danger/create","",{id:C.formState.sourceId})}return k({childFormState:t,getTicketList:function(){return t.isInvoicing==="0"?[]:D.value.getTicketDataSource()}}),(b,l)=>{const g=m("a-input"),s=m("a-form-item"),u=m("a-col"),r=m("a-row"),f=m("a-date-picker"),p=m("a-select"),h=m("a-textarea"),_=m("a-card"),w=m("a-tab-pane"),S=m("a-tabs");return y(),O(j,null,[e(_,{title:"基本信息",bordered:!1},{default:a(()=>[e(r,{gutter:32},{default:a(()=>[i(e(u,{span:12},{default:a(()=>[e(s,{name:"stationName",label:"电站名称",labelCol:{class:"detail-label-8"}},{default:a(()=>[e(g,{value:t.stationName,"onUpdate:value":l[0]||(l[0]=d=>t.stationName=d),disabled:""},null,8,["value"])]),_:1})]),_:1},512),[[o,!0]])]),_:1}),e(r,{gutter:32},{default:a(()=>[i(e(u,{span:12},{default:a(()=>[e(s,{name:["hidden","hiddenDangerType"],label:"隐患类型",labelCol:{class:"detail-label-8"},rules:[{required:!1,message:"请选择隐患类型"}]},{default:a(()=>[e(v,{value:t.hidden.hiddenDangerType,"onUpdate:value":l[1]||(l[1]=d=>t.hidden.hiddenDangerType=d),type:"hidden_danger_type",disabled:""},null,8,["value"])]),_:1})]),_:1},512),[[o,!0]]),i(e(u,{span:12},{default:a(()=>[e(s,{name:"sourceCode",label:"来源任务",labelCol:{class:"detail-label-8"},rules:[{required:!1}]},{default:a(()=>[B("a",{onClick:P},K(t.sourceCode),1)]),_:1})]),_:1},512),[[o,!0]])]),_:1}),e(r,{gutter:32},{default:a(()=>[i(e(u,{span:12},{default:a(()=>[e(s,{name:["hidden","findDate"],label:"发现时间",labelCol:{class:"detail-label-8"},rules:[{required:!1,message:"请输入发现时间"}]},{default:a(()=>[e(f,{value:t.hidden.findDate,"onUpdate:value":l[2]||(l[2]=d=>t.hidden.findDate=d),"show-time":"",format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm",style:"width: 100%",disabled:""},null,8,["value"])]),_:1})]),_:1},512),[[o,!0]]),i(e(u,{span:12},{default:a(()=>[e(s,{name:["hidden","findByName"],label:"发现人",labelCol:{class:"detail-label-8"},rules:[{required:!1,message:"请选择发现人"}]},{default:a(()=>[e(p,{value:t.hidden.findByName,"onUpdate:value":l[3]||(l[3]=d=>t.hidden.findByName=d),"show-search":"","allow-clear":"",style:{width:"100%"},options:n.stationPersonOptions,onChange:M,disabled:""},null,8,["value","options"])]),_:1})]),_:1},512),[[o,!0]])]),_:1}),e(r,{gutter:32},{default:a(()=>[i(e(u,{span:24},{default:a(()=>[e(s,{name:["hidden","checkContent"],label:"检查内容",labelCol:{class:"detail-label-8"},rules:[{required:!1,message:"请输入检查内容"}]},{default:a(()=>[e(h,{value:t.hidden.checkContent,"onUpdate:value":l[4]||(l[4]=d=>t.hidden.checkContent=d),"show-count":"",rows:4,maxlength:1e3,disabled:""},null,8,["value"])]),_:1})]),_:1},512),[[o,!0]])]),_:1}),e(r,{gutter:32},{default:a(()=>[i(e(u,{span:24},{default:a(()=>[e(s,{name:["hidden","result"],label:"检查情况",labelCol:{class:"detail-label-8"},rules:[{required:!1,message:"请输入检查情况"}]},{default:a(()=>[e(g,{value:t.hidden.result,"onUpdate:value":l[5]||(l[5]=d=>t.hidden.result=d),maxlength:200,disabled:""},null,8,["value"])]),_:1})]),_:1},512),[[o,!0]])]),_:1}),e(r,{gutter:32},{default:a(()=>[i(e(u,{span:24},{default:a(()=>[e(s,{name:["hidden","planMeasure"],label:"计划整改措施",labelCol:{class:"detail-label-8"},rules:[{required:!0,message:"请输入计划整改措施"}]},{default:a(()=>[e(h,{value:t.hidden.planMeasure,"onUpdate:value":l[6]||(l[6]=d=>t.hidden.planMeasure=d),"show-count":"",rows:4,maxlength:1e3,disabled:n.disabledInput},null,8,["value","disabled"])]),_:1})]),_:1},512),[[o,!0]])]),_:1}),e(r,{gutter:32},{default:a(()=>[i(e(u,{span:24},{default:a(()=>[e(s,{name:"subject",label:"工单主题",labelCol:{class:"detail-label-8"},rules:[{required:!0,message:"请输入工单主题"}]},{default:a(()=>[e(g,{value:t.subject,"onUpdate:value":l[7]||(l[7]=d=>t.subject=d),maxlength:100,disabled:n.disabledInput},null,8,["value","disabled"])]),_:1})]),_:1},512),[[o,!0]])]),_:1}),e(r,{gutter:32},{default:a(()=>[i(e(u,{span:12},{default:a(()=>[e(s,{name:"planStartDate",label:"计划开始时间",labelCol:{class:"detail-label-8"},rules:[{required:!0,message:"请输入计划开始时间"}]},{default:a(()=>[e(f,{value:t.planStartDate,"onUpdate:value":l[8]||(l[8]=d=>t.planStartDate=d),"show-time":"",format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm",style:"width: 100%",disabled:n.disabledInput},null,8,["value","disabled"])]),_:1})]),_:1},512),[[o,!0]]),i(e(u,{span:12},{default:a(()=>[e(s,{name:"planEndDate",label:"计划完成时间",labelCol:{class:"detail-label-8"},rules:[{required:!0,message:"请输入计划完成时间"}]},{default:a(()=>[e(f,{value:t.planEndDate,"onUpdate:value":l[9]||(l[9]=d=>t.planEndDate=d),"show-time":"",format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm",style:"width: 100%",disabled:n.disabledInput},null,8,["value","disabled"])]),_:1})]),_:1},512),[[o,!0]])]),_:1}),e(r,{gutter:32},{default:a(()=>[i(e(u,{span:12},{default:a(()=>[e(s,{name:"grade",label:"工单级别",labelCol:{class:"detail-label-8"},rules:[{required:!0,message:"请选择工单级别"}]},{default:a(()=>[e(v,{value:t.grade,"onUpdate:value":l[10]||(l[10]=d=>t.grade=d),type:"work_order_grade",disabled:n.disabledInput},null,8,["value","disabled"])]),_:1})]),_:1},512),[[o,!0]]),i(e(u,{span:12},{default:a(()=>[e(s,{name:"planHandleByName",label:"计划处理人",labelCol:{class:"detail-label-8"},rules:[{required:!0,message:"请选择计划处理人"}]},{default:a(()=>[e(p,{value:t.planHandleByName,"onUpdate:value":l[11]||(l[11]=d=>t.planHandleByName=d),"show-search":"","allow-clear":"",style:{width:"100%"},options:n.stationPersonOptions,onChange:N,disabled:n.disabledInput},null,8,["value","options","disabled"])]),_:1})]),_:1},512),[[o,!0]])]),_:1}),e(r,{gutter:32},{default:a(()=>[i(e(u,{span:12},{default:a(()=>[e(s,{name:"planConfirmByName",label:"计划确认人",labelCol:{class:"detail-label-8"},rules:[{required:!0,message:"请选择计划确认人"}]},{default:a(()=>[e(p,{value:t.planConfirmByName,"onUpdate:value":l[12]||(l[12]=d=>t.planConfirmByName=d),"show-search":"","allow-clear":"",style:{width:"100%"},options:n.stationPersonOptions,onChange:q,disabled:n.disabledInput},null,8,["value","options","disabled"])]),_:1})]),_:1},512),[[o,!0]]),i(e(u,{span:12},{default:a(()=>[e(s,{name:"isInvoicing",label:"开具两票",labelCol:{class:"detail-label-8"},rules:[{required:!0,message:"请选择开具两票"}]},{default:a(()=>[e(v,{value:t.isInvoicing,"onUpdate:value":l[13]||(l[13]=d=>t.isInvoicing=d),type:"yes_or_no",disabled:n.disabledInput},null,8,["value","disabled"])]),_:1})]),_:1},512),[[o,!0]])]),_:1})]),_:1}),n.showProcess?(y(),I(_,{key:0,title:"处理过程",bordered:!1},{default:a(()=>[B("div",V,[e(S,{activeKey:c.value,"onUpdate:activeKey":l[18]||(l[18]=d=>c.value=d)},{default:a(()=>[e(w,{class:"tab-pane-form",key:"1",tab:"处理过程"},{default:a(()=>[e(r,{gutter:32},{default:a(()=>[i(e(u,{span:12},{default:a(()=>[e(s,{name:["hidden","confirmType"],label:"隐患类型确认",labelCol:{class:"detail-label-8"},rules:[{required:!0,message:"请选择隐患类型确认"}]},{default:a(()=>[e(v,{value:t.hidden.confirmType,"onUpdate:value":l[14]||(l[14]=d=>t.hidden.confirmType=d),type:"hidden_danger_type",disabled:n.disabledProcessInput},null,8,["value","disabled"])]),_:1})]),_:1},512),[[o,!0]])]),_:1}),e(r,{gutter:32},{default:a(()=>[i(e(u,{span:24},{default:a(()=>[e(s,{name:["hidden","handleMeasure"],label:"整改措施与处理",labelCol:{class:"detail-label-8"},rules:[{required:!0,message:"请输入整改措施与处理"}]},{default:a(()=>[e(h,{value:t.hidden.handleMeasure,"onUpdate:value":l[15]||(l[15]=d=>t.hidden.handleMeasure=d),"show-count":"",rows:4,maxlength:1e3,disabled:n.disabledProcessInput},null,8,["value","disabled"])]),_:1})]),_:1},512),[[o,!0]])]),_:1}),e(r,{gutter:32},{default:a(()=>[i(e(u,{span:12},{default:a(()=>[e(s,{name:["hidden","rectificationDate"],label:"整改时间",labelCol:{class:"detail-label-8"},rules:[{required:!0,message:"请输入整改时间"}]},{default:a(()=>[e(f,{value:t.hidden.rectificationDate,"onUpdate:value":l[16]||(l[16]=d=>t.hidden.rectificationDate=d),"show-time":"",format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm",style:"width: 100%",disabled:n.disabledProcessInput},null,8,["value","disabled"])]),_:1})]),_:1},512),[[o,!0]]),i(e(u,{span:12},{default:a(()=>[e(s,{name:"handleByName",label:"处理人",labelCol:{class:"detail-label-8"},rules:[{required:!0,message:"请选择处理人"}]},{default:a(()=>[e(p,{value:t.handleByName,"onUpdate:value":l[17]||(l[17]=d=>t.handleByName=d),"show-search":"","allow-clear":"",style:{width:"100%"},options:n.stationPersonOptions,onChange:U,disabled:n.disabledProcessInput},null,8,["value","options","disabled"])]),_:1})]),_:1},512),[[o,!0]])]),_:1})]),_:1}),t.isInvoicing==="1"?(y(),I(w,{class:"tab-pane-table",key:"2",tab:"开具两票","force-render":""},{default:a(()=>[e(E,{ref_key:"ticketTableRef",ref:D,formState:n.formState,disabledProcessInput:n.disabledProcessInput,activeKey:c.value},null,8,["formState","disabledProcessInput","activeKey"])]),_:1})):H("",!0)]),_:1},8,["activeKey"])])]),_:1})):H("",!0)],64)}}});export{W as _};
//# sourceMappingURL=HiddenWorkOrder.vue_vue_type_script_setup_true_lang-f6f042af.js.map
