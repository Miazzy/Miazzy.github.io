{"version":3,"file":"firstWorkTicket-7e15c568.js","sources":["../../src/views/po/ticket/print/firstWorkTicket.vue"],"sourcesContent":["<template>\n  <div id=\"printContent\" class=\"print-box\">\n    <div class=\"print-header\">\n      <div class=\"print-title\">电气第一种工作票</div>\n      <div class=\"print-tag\">\n        <div class=\"print-item\">主</div>\n        <div class=\"print-item\">副</div>\n      </div>\n    </div>\n    <div class=\"bill-box\">\n      <div class=\"bill-unit\">单位：{{ base.stationName }}</div>\n      <div class=\"bill-code\">编号：{{ base.ticketNumber }}</div>\n    </div>\n    <div>\n      <table class=\"print-table\">\n        <colgroup>\n          <col style=\"width: 50%\" />\n          <col style=\"width: 50%\" />\n        </colgroup>\n        <tbody>\n          <tr>\n            <td class=\"unset-border-right\">1.工作负责人：{{ base.headName }}</td>\n            <td class=\"unset-border-left\">班组：{{ base.outTeams }}</td>\n          </tr>\n          <tr>\n            <td colspan=\"2\"\n              >2.工作班人员（不包括工作负责人）：{{\n                base.teamsNames ? base.teamsNames.join('、') : ' '\n              }}\n              <div class=\"right\"\n                >共{{\n                  base.teamsNames ? base.teamsNames.length : `&nbsp;&nbsp;&nbsp;&nbsp;`\n                }}人</div\n              >\n            </td>\n          </tr>\n          <tr>\n            <td colspan=\"2\">3.工作的变、配电站名称及设备双重名称：{{ base.subject }}</td>\n          </tr>\n        </tbody>\n      </table>\n      <div>4.工作任务</div>\n      <table class=\"print-table\">\n        <colgroup>\n          <col style=\"width: 10%\" />\n          <col style=\"width: 40%\" />\n          <col style=\"width: 50%\" />\n        </colgroup>\n        <thead>\n          <tr>\n            <th>序号</th>\n            <th>工作地点及设备名称</th>\n            <th>工作内容</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(item, index) in taskDetails\" :key=\"index\">\n            <td class=\"center\">{{ index + 1 }}</td>\n            <td>{{ item.title }}</td>\n            <td>{{ item.content }}</td>\n          </tr>\n        </tbody>\n      </table>\n      <div>5.计划工作时间</div>\n      <table class=\"print-table\">\n        <tbody>\n          <tr>\n            <td\n              >自 {{ dayjs(base.startTime).format('YYYY年MM月DD日HH时mm分') }} 至\n              {{ dayjs(base.endTime).format('YYYY年MM月DD日HH时mm分') }}</td\n            >\n          </tr>\n        </tbody>\n      </table>\n      <div>6.安全措施</div>\n      <table class=\"print-table\">\n        <colgroup>\n          <col style=\"width: 10%\" />\n          <col style=\"width: 25%\" />\n          <col style=\"width: 50%\" />\n          <col style=\"width: 15%\" />\n        </colgroup>\n        <thead>\n          <tr>\n            <th>序号</th>\n            <th>安全类型</th>\n            <th>安全措施</th>\n            <th>是否完成</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(item, index) in measureDetails\" :key=\"index\">\n            <td class=\"center\">{{ index + 1 }}</td>\n            <td>{{ item.sefetyTypeText }}</td>\n            <td>{{ item.measure }}</td>\n            <td class=\"center\">{{ item.status == 1 ? '✓' : '' }}</td>\n          </tr>\n        </tbody>\n      </table>\n      <div>*已执行栏目及接地线编号由工作许可人填写。</div>\n      <div>（补充）工作地点及注意事项</div>\n      <table class=\"print-table\">\n        <colgroup>\n          <col style=\"width: 10%\" />\n          <col style=\"width: 45%\" />\n          <col style=\"width: 45%\" />\n        </colgroup>\n        <thead>\n          <tr>\n            <th>序号</th>\n            <th>工作地点保留带电部分或注意事项</th>\n            <th>补充工作地点保留带电部分和安全措施</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(item, index) in matterDetails\" :key=\"index\">\n            <td class=\"center\">{{ index + 1 }}</td>\n            <td>{{ item.matter }}</td>\n            <td>{{ item.measure }}</td>\n          </tr>\n        </tbody>\n      </table>\n      <table class=\"print-table\">\n        <tbody>\n          <tr>\n            <td colspan=\"2\" class=\"unset-border-right\">工作票签发人签名：</td>\n            <td class=\"unset-border-left\">\n              签发日期：{{ `&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;` }}年{{\n                `&nbsp;&nbsp;&nbsp;&nbsp;`\n              }}月{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}日{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}时{{\n                `&nbsp;&nbsp;&nbsp;&nbsp;`\n              }}分\n            </td>\n          </tr>\n          <tr>\n            <td colspan=\"3\" class=\"unset-border-bottom\">\n              7.收到工作票时间： {{ `&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;` }}年{{\n                `&nbsp;&nbsp;&nbsp;&nbsp;`\n              }}月{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}日{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}时{{\n                `&nbsp;&nbsp;&nbsp;&nbsp;`\n              }}分\n            </td>\n          </tr>\n          <tr>\n            <td colspan=\"2\" class=\"unset-border-top unset-border-right\"\n              >&nbsp;&nbsp;运维人员签名：</td\n            >\n            <td class=\"unset-border-top unset-border-left\">工作负责人签名：</td>\n          </tr>\n          <tr>\n            <td colspan=\"3\" class=\"unset-border-bottom\">8.确认本工作票1-7项项内容：</td>\n          </tr>\n          <tr>\n            <td colspan=\"2\" class=\"unset-border-top unset-border-bottom unset-border-right\">\n              &nbsp;&nbsp;工作负责人签名：\n            </td>\n            <td class=\"unset-border-top unset-border-bottom unset-border-left\">\n              工作许可人签名：\n            </td>\n          </tr>\n          <tr>\n            <td colspan=\"3\" class=\"unset-border-top\">\n              &nbsp;&nbsp;许可开始工作时间：{{ `&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;` }}年{{\n                `&nbsp;&nbsp;&nbsp;&nbsp;`\n              }}月{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}日{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}时{{\n                `&nbsp;&nbsp;&nbsp;&nbsp;`\n              }}分\n            </td>\n          </tr>\n          <tr>\n            <td colspan=\"3\" class=\"unset-border-bottom\">\n              <div>\n                9.确认工作负责人布置的工作任务和安全措施：\n                <br />\n                <br />\n                <br />\n              </div>\n              <div>\n                &nbsp;&nbsp;工作班组人员签名：\n                <br />\n                <br />\n              </div>\n            </td>\n          </tr>\n          <tr>\n            <td colspan=\"3\">\n              <div>10.工作负责人变动情况：</div>\n              <div>\n                &nbsp;&nbsp;&nbsp;&nbsp;原工作负责人\n                <span class=\"empty-line\"></span>离去，变更<span class=\"empty-line\"></span>\n                为工作负责人。\n              </div>\n              <div class=\"print-row\">\n                <div class=\"print-col-6\">&nbsp;&nbsp;&nbsp;&nbsp;工作票签发人：</div>\n                <div class=\"print-col-6\">\n                  日期：{{ `&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;` }}年{{\n                    `&nbsp;&nbsp;&nbsp;&nbsp;`\n                  }}月{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}日{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}时{{\n                    `&nbsp;&nbsp;&nbsp;&nbsp;`\n                  }}分\n                </div>\n              </div>\n            </td>\n          </tr>\n          <tr>\n            <td colspan=\"3\">\n              <div>\n                11.作业人员变动情况（变动人员姓名、日期及时间）：\n                <br />\n                <br />\n                <br />\n              </div>\n              <div class=\"print-row\">\n                <div class=\"print-col-6\"></div>\n                <div class=\"print-col-6\">工作负责人签名： </div>\n              </div>\n            </td>\n          </tr>\n          <tr>\n            <td colspan=\"3\">\n              <div> 12.工作票延期： </div>\n              <div>\n                &nbsp;&nbsp;&nbsp;&nbsp;有效期延长到：\n                {{ `&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;` }}年{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}月{{\n                  `&nbsp;&nbsp;&nbsp;&nbsp;`\n                }}日{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}时{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}分\n              </div>\n              <div class=\"print-row\">\n                <div class=\"print-col-6\">&nbsp;&nbsp;&nbsp;&nbsp;工作负责人签名：</div>\n                <div class=\"print-col-6\">\n                  日期：{{ `&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;` }}年{{\n                    `&nbsp;&nbsp;&nbsp;&nbsp;`\n                  }}月{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}日{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}时{{\n                    `&nbsp;&nbsp;&nbsp;&nbsp;`\n                  }}分\n                </div>\n              </div>\n              <div class=\"print-row\">\n                <div class=\"print-col-6\">&nbsp;&nbsp;&nbsp;&nbsp;工作许可人签名：</div>\n                <div class=\"print-col-6\">\n                  日期：{{ `&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;` }}年{{\n                    `&nbsp;&nbsp;&nbsp;&nbsp;`\n                  }}月{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}日{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}时{{\n                    `&nbsp;&nbsp;&nbsp;&nbsp;`\n                  }}分\n                </div>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div>13.每日开工和收工时间（使用一天的工作票不必填写）</div>\n      <table class=\"print-table\">\n        <colgroup>\n          <col style=\"width: 5%\" />\n          <col style=\"width: 5%\" />\n          <col style=\"width: 5%\" />\n          <col style=\"width: 5%\" />\n          <col style=\"width: 15%\" />\n          <col style=\"width: 15%\" />\n          <col style=\"width: 5%\" />\n          <col style=\"width: 5%\" />\n          <col style=\"width: 5%\" />\n          <col style=\"width: 5%\" />\n          <col style=\"width: 15%\" />\n          <col style=\"width: 15%\" />\n        </colgroup>\n        <thead>\n          <tr>\n            <th colspan=\"4\">开工时间</th>\n            <th rowspan=\"2\">工作负责人</th>\n            <th rowspan=\"2\">工作许可人</th>\n            <th colspan=\"4\">开工时间</th>\n            <th rowspan=\"2\">工作负责人</th>\n            <th rowspan=\"2\">工作许可人</th>\n          </tr>\n          <tr>\n            <th>月</th>\n            <th>日</th>\n            <th>时</th>\n            <th>分</th>\n            <th>月</th>\n            <th>日</th>\n            <th>时</th>\n            <th>分</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(item, index) in recordDetails\" :key=\"index\">\n            <td>{{ item.startTime ? dayjs(item.startTime).format('MM') : `&nbsp;` }}</td>\n            <td>{{ item.startTime ? dayjs(item.startTime).format('DD') : `&nbsp;` }}</td>\n            <td>{{ item.startTime ? dayjs(item.startTime).format('HH') : `&nbsp;` }}</td>\n            <td>{{ item.startTime ? dayjs(item.startTime).format('mm') : `&nbsp;` }}</td>\n            <td></td>\n            <td></td>\n            <td>{{ item.startTime ? dayjs(item.endTime).format('MM') : `&nbsp;` }}</td>\n            <td>{{ item.startTime ? dayjs(item.endTime).format('DD') : `&nbsp;` }}</td>\n            <td>{{ item.startTime ? dayjs(item.endTime).format('HH') : `&nbsp;` }}</td>\n            <td>{{ item.startTime ? dayjs(item.endTime).format('mm') : `&nbsp;` }}</td>\n            <td></td>\n            <td></td>\n          </tr>\n        </tbody>\n      </table>\n      <div>14.工作终结</div>\n      <table class=\"print-table\">\n        <tbody>\n          <tr>\n            <td>\n              <div class=\"print-text\">\n                全部工作于{{ `&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;` }}年{{\n                  `&nbsp;&nbsp;&nbsp;&nbsp;`\n                }}月{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}日{{ `&nbsp;&nbsp;&nbsp;&nbsp;` }}时{{\n                  `&nbsp;&nbsp;&nbsp;&nbsp;`\n                }}分结束，设备及安全措施已恢复至开工前状态，工作人员已全部撤离，材料工具已清理完毕，工作终结。\n              </div>\n              <div class=\"print-row\">\n                <div class=\"print-col-6\">工作负责人签名：</div>\n                <div class=\"print-col-6\">工作许可人签名：</div>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div>15.工作票终结</div>\n      <table class=\"print-table\">\n        <tbody>\n          <tr>\n            <td>\n              <div class=\"print-text\">\n                临时遮拦、标示牌已拆除，常设遮拦已恢复。未拆除或未拉开的接地线编号\n                <span class=\"empty-200\"></span>\n                等共<span class=\"empty-20\"></span> 组、接地刀闸（小车）共\n                <span class=\"empty-20\"></span>\n                副（台），已汇报值班调控人员。\n              </div>\n              <div class=\"print-row\">\n                <div class=\"print-col-6\">工作负责人签名：</div>\n                <div class=\"print-col-6\">工作许可人签名：</div>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div>16.备注</div>\n      <table class=\"print-table\">\n        <tbody>\n          <tr>\n            <td>\n              <div>\n                （1）指定专责监护人\n                <span class=\"empty-line\" style=\"width: 10%\"></span>负责监护\n                <span class=\"empty-line\" style=\"width: 40%\"></span>（地点及具体工作）\n              </div>\n              <div>\n                （2）其他事项：\n                <span class=\"empty-line\" style=\"width: 75%\"></span>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\" setup>\n  import { ref } from 'vue';\n  import dayjs from 'dayjs';\n\n  const props = defineProps({\n    params: {\n      type: Object,\n      default: () => {\n        return {\n          base: {},\n          taskDetails: [],\n          measureDetails: [],\n          matterDetails: [],\n          recordDetails: [],\n        };\n      },\n    },\n  });\n  const base = ref(props.params.base);\n  const taskDetails = ref(props.params.taskDetails);\n  const measureDetails = ref(props.params.measureDetails);\n  const matterDetails = ref(props.params.matterDetails);\n  const recordDetails = ref(props.params.recordDetails);\n  if (!matterDetails.value.length) {\n    matterDetails.value = [{}, {}, {}, {}];\n  }\n  if (!recordDetails.value.length) {\n    recordDetails.value = [{}, {}, {}, {}];\n  }\n</script>\n<style scoped>\n  @import url('../components/customPrint.css');\n</style>\n"],"names":["base","ref","props","taskDetails","measureDetails","matterDetails","recordDetails"],"mappings":"0kOA+XQA,EAAOC,EAAIC,EAAM,OAAO,IAAI,EAC5BC,EAAcF,EAAIC,EAAM,OAAO,WAAW,EAC1CE,EAAiBH,EAAIC,EAAM,OAAO,cAAc,EAChDG,EAAgBJ,EAAIC,EAAM,OAAO,aAAa,EAC9CI,EAAgBL,EAAIC,EAAM,OAAO,aAAa,EAChD,OAACG,EAAc,MAAM,SACTA,EAAA,MAAQ,CAAC,CAAA,EAAI,CAAA,EAAI,CAAA,EAAI,CAAA,CAAE,GAElCC,EAAc,MAAM,SACTA,EAAA,MAAQ,CAAC,CAAA,EAAI,CAAA,EAAI,CAAA,EAAI,CAAA,CAAE"}