{"version":3,"file":"Loss-71666bdb.js","sources":["../../src/views/da/groupOperation/operation/Loss.vue"],"sourcesContent":["<template>\n  <div class=\"loss\">\n    <SmallModule title=\"损失电量趋势\">\n      <!-- <template #titleRight>\n        <div class=\"right-title-layout\">\n          <div class=\"detail-text\"\n            ><span class=\"text\">详情</span><span class=\"arrow\">&gt;</span></div\n          >\n        </div>\n      </template> -->\n      <template #content>\n        <div class=\"content-layout\">\n          <div style=\"transform: scale(0.85); transform-origin: 0 0\">\n            <EchartStackBarChart\n              :data=\"lossElecChartData\"\n              :colors=\"lossElecChartData.colors\"\n              :width=\"`26.14vw`\"\n              :height=\"`28.06vh`\"\n              :dataZoomDisabled=\"false\"\n              :dataZoomMaxValueSpan=\"lossElecChartData.categories.length\"\n              :dataZoomDefaultValueRange=\"[0, 6]\"\n            />\n          </div>\n        </div>\n      </template>\n    </SmallModule>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import SmallModule from '/@/components/Framework/OperationScreen/SmallModule.vue';\n  import EchartStackBarChart from '/@/components/Framework/Chart/EchartStackBarChart.vue';\n  import { ref, onMounted } from 'vue';\n  import { getLossElecData } from './data';\n\n  onMounted(() => {\n    queryLossElecData();\n  });\n\n  const lossElecChartData = ref({\n    categories: [],\n    barData: [[], [], [], []],\n    units: ['(万Kw.h)', '(%)', '(%)'],\n    colors: [\n      ['#488FF6', '#60D1F3', '#8FD0F4', '#68E4B8'],\n      ['#E59837', '#FAE895'],\n    ],\n    lineData: [],\n    barNames: ['电网及限电', '生产损失', '自然灾害', '其他'],\n    lineNames: ['电量'],\n  });\n\n  const queryLossElecData = async () => {\n    let data = await getLossElecData();\n    if (data.result) {\n      lossElecChartData.value.categories = data.result.categories;\n      lossElecChartData.value.barData = data.result.barData;\n      lossElecChartData.value.lineData = data.result.lineData;\n    }\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .right-title-layout {\n    display: flex;\n    align-items: center;\n    padding: 0.2rem 0.16rem 0 0;\n\n    .detail-text {\n      margin-left: 0.14rem;\n      color: #fff;\n      font-size: 0.12rem;\n      line-height: 1;\n      cursor: pointer;\n\n      .text {\n        margin-right: 0.04rem;\n      }\n\n      .arrow {\n        opacity: 0.6;\n      }\n    }\n  }\n\n  .content-layout {\n    height: 100%;\n    padding: 0 0.14rem;\n  }\n</style>\n"],"names":["onMounted","queryLossElecData","lossElecChartData","ref","__async","data","getLossElecData"],"mappings":"4uBAmCEA,EAAU,IAAM,CACIC,GAAA,CACnB,EAED,MAAMC,EAAoBC,EAAI,CAC5B,WAAY,CAAC,EACb,QAAS,CAAC,CAAC,EAAG,GAAI,CAAA,EAAI,CAAA,CAAE,EACxB,MAAO,CAAC,UAAW,MAAO,KAAK,EAC/B,OAAQ,CACN,CAAC,UAAW,UAAW,UAAW,SAAS,EAC3C,CAAC,UAAW,SAAS,CACvB,EACA,SAAU,CAAC,EACX,SAAU,CAAC,QAAS,OAAQ,OAAQ,IAAI,EACxC,UAAW,CAAC,IAAI,CAAA,CACjB,EAEKF,EAAoB,IAAYG,EAAA,sBAChC,IAAAC,EAAO,MAAMC,IACbD,EAAK,SACWH,EAAA,MAAM,WAAaG,EAAK,OAAO,WAC/BH,EAAA,MAAM,QAAUG,EAAK,OAAO,QAC5BH,EAAA,MAAM,SAAWG,EAAK,OAAO,SACjD"}