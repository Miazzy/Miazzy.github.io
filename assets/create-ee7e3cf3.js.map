{"version":3,"file":"create-ee7e3cf3.js","sources":["../../src/views/po/inspection/inspectionexecution/create.ts","../../src/views/po/inspection/inspectionexecution/create.vue"],"sourcesContent":["import { BasicColumn } from '@/components/Table';\nimport { defHttp } from '@/utils/http/axios';\n\nenum Api {\n  addExecutionData = '/po/inspection-execution/create',\n  getExecutionData = '/po/inspection-execution/get',\n  getExecutionDtlData = '/po/inspection-execution/dtl/list',\n  getPlanDtl = '/po/inspection-plan/dtl/list',\n  getInspectionAreaType = '/po/inspection-plan/selectInspectionAreaType',\n  getStationPerson = '/baseset/common/list-stationPerson?stationId=',\n  //设备名称\n  getEquipmentPage = '/po/equipment/page',\n}\n\nexport const getEquipmentUrl = Api.getEquipmentPage;\n\n//明细\nexport function getExecutionDtlData(params) {\n  return defHttp.get({ url: Api.getExecutionDtlData, params });\n}\n//查询\nexport function getExecutionData(params) {\n  return defHttp.get({ url: Api.getExecutionData, params });\n}\n\n// 新增\nexport function createExecution(params) {\n  return defHttp.post({ url: Api.addExecutionData, params });\n}\n//模板明细\nexport function getPlanDtl(params) {\n  return defHttp.get({ url: Api.getPlanDtl, params });\n}\n//模板\nexport function getInspectionAreaType(params) {\n  return defHttp.get({ url: Api.getInspectionAreaType, params });\n}\n//电站人员\nexport function getStationPerson(stationId) {\n  return defHttp.post({ url: Api.getStationPerson + stationId });\n}\n\nexport const dtlColumns: BasicColumn[] = [\n  { title: '项目', dataIndex: 'indexItem',align: 'left',headAlign:'center', width: 80 },\n  { title: '巡检内容及标准', dataIndex: 'indexContent',align: 'left',headAlign:'center', width: 260 },\n  { slots: { title: 'result' },  dataIndex: 'result', width: 160, align: 'left' },\n  { slots: { title: 'needRectification' },align: 'left',headAlign:'center', dataIndex: 'needRectification', width: 100 },\n  { title: '计划整改措施', dataIndex: 'rectificationMeasures', width: 160 },\n  { title: '计划完成日期', dataIndex: 'finishedRectificationDate', width: 120 },\n  { title: '隐患类别', dataIndex: 'hiddenDangerType', width: 160 },\n  { title: '检查附件', dataIndex: 'bizFileId', width: 160 },\n];\n","<template>\n  <PageWrapper dense contentFullHeight fixedHeight  contentClass=\"flex\" style=\"position: relative\">\n  <div class=\"load\">\n    <a-spin :spinning=\"formState.spinning\" tip=\"Loading...\">\n      <div class=\"process-box\">\n        <div class=\"header-box\">\n          <BillTitle :options=\"billTitle\" />\n          <WfApproveBox\n            :processInstanceId=\"processInstanceId\"\n            @agree=\"flowOption.handleAgree\"\n            @save=\"flowOption.handleSave\"\n            @submit=\"flowOption.handleSubmit\"\n            :processStatus=\"formState.status\"\n            :listenMessage=\"`inspection-execution`\"\n          />\n          <!-- <PrintButton style=\"margin-left: 10px\" v-if=\"formState.status === 2\" /> -->\n        </div>\n        <div class=\"content\">\n          <a-form\n            :model=\"formState\"\n            name=\"basic\"\n            ref=\"formRef\"\n            autocomplete=\"off\"\n            @finish=\"onFinish\"\n          >\n            <a-card title=\"基本信息\" :bordered=\"false\">\n              <a-row :gutter=\"32\">\n                <a-col :span=\"12\">\n                  <a-form-item\n                    label=\"电站名称\"\n                    name=\"formState.stationName\"\n                    :labelCol=\"{ style: { width: '124px'} }\" \n                    :rules=\"[{ required: false }]\"\n                  >\n                    <a-input v-model:value=\"formState.stationName\" disabled=\"true\" />\n                  </a-form-item>\n                </a-col>\n                <a-col :span=\"12\">\n                  <a-form-item\n                    label=\"巡检时间\"\n                    name=\"inspectionData\"\n                    :labelCol=\"{ style: { width: '124px'} }\" \n                    :rules=\"[{ required: true, message: '巡检时间不能为空。' }]\"\n                  >\n                    <a-date-picker\n                      :disabled=\"disabledInput\"\n                      show-time\n                      v-model:value=\"formState.inspectionData\"\n                      format=\"YYYY-MM-DD HH:mm\"\n                      valueFormat=\"YYYY-MM-DD HH:mm\"\n                      style=\"width: 100%\"\n                      @change=\"changeInspectionDate\"\n                    />\n                  </a-form-item>\n                </a-col>\n                <a-col :span=\"12\">\n                  <a-form-item\n                    label=\"巡检区域\"\n                    name=\"inspectionAreaType\"\n                    :labelCol=\"{ style: { width: '124px'} }\" \n                    :rules=\"[{ required: true, message: '巡检区域不能为空。' }]\"\n                  >\n                    <a-select\n                      v-model:value=\"formState.inspectionAreaType\"\n                      allow-clear\n                      :options=\"inspectionAreData\"\n                      :disabled=\"disabledInput\"\n                      @change=\"changeInspectionArea\"\n                      @click=\"clickInspectionAreaType\"\n                    />\n                  </a-form-item>\n                </a-col>\n                <a-col :span=\"12\">\n                  <a-form-item\n                    label=\"巡检设备\"\n                    name=\"deviceId\"\n                    :labelCol=\"{ style: { width: '124px'} }\" \n                    :rules=\"[{ required: requireDevice, message: '巡检设备不能为空。' }]\"\n                  >\n                    <SearchBox\n                      v-model:searchText=\"equipmentName\"\n                      v-model:value=\"formState.deviceName\"\n                      :columns=\"searchBoxColumns\"\n                      :disabled=\"disabledInput\"\n                      :api=\"getEquipmentUrl\"\n                      :apiParamFunc=\"getParamFunc\"\n                      :pagination=\"true\"\n                      style=\"width: 100%\"\n                      @change=\"setSelectData\"\n                    />\n                  </a-form-item>\n                </a-col>\n                <a-col :span=\"12\">\n                  <a-form-item\n                    label=\"天气情况\"\n                    name=\"weather\"\n                    :labelCol=\"{ style: { width: '124px'} }\" \n                    :rules=\"[{ required: true, message: '天气情况不能为空' }]\"\n                  >\n                    <a-input\n                      v-model:value=\"formState.weather\"\n                      :disabled=\"disabledInput\"\n                      maxlength=\"32\"\n                    />\n                  </a-form-item>\n                </a-col>\n                <a-col :span=\"12\">\n                  <a-form-item\n                    label=\"气温(℃)\"\n                    name=\"temperature\"\n                    :labelCol=\"{ style: { width: '124px'} }\" \n                    :rules=\"[{ required: true, message: '气温(℃)不能为空' }]\"\n                  >\n                    <a-input-number\n                      v-model:value=\"formState.temperature\"\n                      min=\"-50\"\n                      max=\"100\"\n                      :disabled=\"disabledInput\"\n                    />\n                  </a-form-item>\n                </a-col>\n                <a-col :span=\"12\">\n                  <a-form-item\n                    label=\"巡查人\"\n                    name=\"inspectorId\"\n                    :labelCol=\"{ style: { width: '124px'} }\" \n                    :rules=\"[{ required: true, message: '巡查人不能为空' }]\"\n                  >\n                    <a-select\n                      v-model:value=\"formState.inspectorId\"\n                      allowClear\n                      :options=\"inspectorData\"\n                      :disabled=\"disabledInput\"\n                      @change=\"\n                        (id, item) => {\n                          formState.inspectorId = id;\n                          formState.inspectorName = item.label;\n                        }\n                      \"\n                    />\n                  </a-form-item>\n                </a-col>\n                <a-col :span=\"12\">\n                  <a-form-item\n                    label=\"巡检频率\"\n                    name=\"inspectionPeriod\"\n                    :labelCol=\"{ style: { width: '124px'} }\" \n                    :rules=\"[{ required: false }]\"\n                  >\n                    <a-input-number v-model:value=\"formState.inspectionPeriod\" disabled=\"true\" />\n                  </a-form-item>\n                </a-col>\n\n                <a-col :span=\"24\">\n                  <a-form-item\n                    label=\"异常情况\"\n                    name=\"description\"\n                    :labelCol=\"{ style: { width: '124px'} }\" \n                    :rules=\"[{ required: false, message: '异常情况不能为空' }]\"\n                  >\n                    <a-textarea\n                      v-model:value=\"formState.description\"\n                      placeholder=\"无异常，请勿填写“异常情况”\"\n                      row=\"3\"\n                      maxlength=\"512\"\n                      :disabled=\"disabledInput\"\n                    />\n                  </a-form-item>\n                </a-col>\n              </a-row>\n            </a-card>\n            <a-card  :bordered=\"false\">\n              <BasicTable title=\"巡检清单\" @register=\"table\" >\n                  <template #result> <div class=\"customer_require\">巡检结果</div> </template>\n                  <template #needRectification> <div class=\"customer_require\">是否整改</div> </template>\n                  <template #bodyCell=\"{ column, record }\">\n                    <template v-if=\"column.dataIndex === 'result'\">\n                      <a-input\n                        v-model:value=\"record[column.dataIndex]\"\n                        maxlength=\"128\"\n                        :disabled=\"disabledInput\"\n                        style=\"width: 100%\"\n                      />\n                    </template>\n                    <template v-if=\"column.dataIndex === 'needRectification'\">\n                      <a-select\n                        v-model:value=\"record[column.dataIndex]\"\n                        allow-clear\n                        style=\"width: 100%\"\n                        :disabled=\"disabledInput\"\n                      >\n                        <a-select-option :value=\"0\">否</a-select-option>\n                        <a-select-option :value=\"1\">是</a-select-option>\n                      </a-select>\n                    </template>\n                    <template v-if=\"column.dataIndex === 'finishedRectificationDate'\">\n                      <a-date-picker\n                        v-model:value=\"record[column.dataIndex]\"\n                        :disabled=\"disabledInput\"\n                        valueFormat=\"YYYY-MM-DD\"\n                        style=\"width: 100%\"\n                      />\n                    </template>\n                    <template v-if=\"column.dataIndex === 'rectificationMeasures'\">\n                      <a-input\n                        v-model:value=\"record[column.dataIndex]\"\n                        :disabled=\"disabledInput\"\n                        maxlength=\"512\"\n                        style=\"width: 100%\"\n                      />\n                    </template>\n                    <template v-if=\"column.dataIndex === 'hiddenDangerType'\">\n                      <DictSelectBox\n                        :type=\"`hidden_danger_type`\"\n                        :subtype=\"`inspection`\"\n                        v-model:value=\"record[column.dataIndex]\"\n                        :disabled=\"disabledInput\"\n                        style=\"width: 100%\"\n                      />\n                    </template>\n                    <template v-if=\"column.dataIndex === 'bizFileId'\">\n                      <UploadBox\n                        :width=\"800\"\n                        :height=\"550\"\n                        :maxCount=\"20\"\n                        :maxSize=\"100 * 1024 * 1024\"\n                        :application=\"`po`\"\n                        :module=\"`inspectionexecutiondtl`\"\n                        :vmode=\"formState.status == 0 ? `box` : `view`\"\n                        :bizId=\"record[column.dataIndex]\"\n                      />\n                    </template>\n                  </template>\n                  <template #toolbar v-if=\"formState.status == 0 && !disabledInput\">\n                    <a-button @click=\"checkResult\" :preIcon=\"IconEnum.EDIT\"> 巡检结果 </a-button>\n                  </template>\n                </BasicTable>\n            </a-card>\n            <a-card title=\"附件上传\" :bordered=\"false\">\n              <UploadBox\n                :width=\"800\"\n                :height=\"550\"\n                :maxCount=\"20\"\n                :maxSize=\"100 * 1024 * 1024\"\n                :application=\"`po`\"\n                :module=\"`inspectionexecution`\"\n                :vmode=\"formState.status == 0 ? `box` : `view`\"\n                :bizId=\"formState.bizFileId\"\n              />\n            </a-card>\n          </a-form>\n\n        </div>\n        <!--modal-->\n\n        <Dialog\n          v-model:visible=\"open\"\n          title=\"批量修改巡检结果\"\n          :maskClosable=\"false\"\n          @ok=\"handleOk\"\n          :width=\"350\"\n          :height=\"255\"\n          v-if=\"formState.status == 0\"\n        >\n          <div style=\"padding: 0 10px\">\n            <a-textarea v-model:value=\"result\" :rows=\"4\" maxlength=\"500\" />\n          </div>\n        </Dialog>\n      </div>\n    </a-spin>\n  </div>\n</PageWrapper>\n</template>\n<script lang=\"ts\" setup>\n  //form\n  import { PageWrapper } from '/@/components/Page';\n  import { reactive, ref, onMounted,toRaw,computed } from 'vue';\n  import { urlToPath } from '/@/utils/route';\n  import { FormInstance } from 'ant-design-vue';\n  // import PrintButton from '/@/components/Framework/Button/PrintButton.vue';\n  import { BasicTable, useTable } from '@/components/Table';\n  import BillTitle from '/@/components/Framework/BillTitle/BillTitle.vue';\n  import WfApproveBox from '/@/components/Framework/WorkFlow/WfApproveBox.vue';\n  import { IconEnum } from '@/enums/appEnum';\n  import DictSelectBox from '@/components/Framework/Combox/DictSelectBox.vue';\n  import Dialog from '@/components/Framework/Modal/Dialog.vue';\n  import * as ProcessInstanceApi from '@/api/bpm/processInstance';\n  import SearchBox from '@/components/Framework/Combox/SearchBox.vue';\n  import UploadBox from '@/components/Framework/Combox/UploadBox.vue';\n  import { buildShortUUID } from '@/utils/uuid';\n  import { SysMessage } from '/@/hooks/web/useMessage';\n  import { MsgManager } from '/@/message/MsgManager';\n  import { closeCurrentTab } from '@/utils/route';\n  import {\n    getExecutionDtlData,\n    getExecutionData,\n    createExecution,\n    getPlanDtl,\n    dtlColumns,\n    getStationPerson,\n    getInspectionAreaType,\n    getEquipmentUrl,\n  } from './create';\n  import { useUserStore } from '/@/store/modules/user';\n\n\n  const userStore = useUserStore();\n  const userInfo = toRaw(userStore.getUserInfo);\n  const disabledInput=computed(()=>{\n    return formState.status!=0 || (formState.status==0 && \n          formState.personMemberId !='' && \n          formState.personMemberId.substring(0,32) != userInfo.userId);\n  })\n  const requireDevice = ref(false);\n  const reloadFromPlan = ref(false);\n  const equipmentName = ref('');\n\n  const processInstanceId = ref('');\n  const result = ref('');\n  const formRef = ref<FormInstance>();\n  const inspectionAreData: any = ref([]);\n  const inspectorData: any = ref([]);\n  let {params:query} = urlToPath() as any;\n  const formState:any = reactive({\n    id: query.id || '',\n    subject: '',\n    stationName: query.stationName || '',\n    stationId: query.stationId || '',\n    stationOrganName: query.stationOrganName || '',\n    stationOrganId: query.stationOrganId || '',\n    powerStationType: query.stationType,\n    status: 0,\n    billCode: '',\n    fillinDate: '',\n    personMemberId: '',\n    spinning:false,\n    planId: '',\n    planName: '',\n    inspectionData: '',\n    inspectionAreaType: '',\n    deviceId: '',\n    deviceName: '',\n    weather: '',\n    temperature: '',\n    inspectorId: '',\n    inspectorName: '',\n    description: '',\n    inspectionPeriod: '',\n    dtl: {},\n    bizFileId: '',\n  });\n\n  const billTitle = reactive<any>({subject : '巡检执行'});\n \n  const clickInspectionAreaType=()=>{\n    if(inspectionAreData.value.length==0){\n      if(formState.inspectionData){\n        SysMessage.getInstance().error('该巡检时间下没有巡检区域.')        \n      } else {\n        SysMessage.getInstance().error('请先选择巡检时间.')        \n      }\n      \n    }\n    \n  }\n\n  const changeInspectionDate=(e)=>{\n    formState.inspectionAreaType='';\n    formState.inspectionPeriod='';\n    inspectionAreData.value=[];\n    setTableData([]);\n    if(!e){\n      return;\n    }\n    getInspectionAreaType({ stationId: formState.stationId,inspectionDate:e }).then(\n          (resp) => {\n            resp.result.forEach((e) => {\n              inspectionAreData.value.push({\n                value: e.inspectionAreaType,\n                label: e.inspectionAreaTypeText,\n                planName: e.subject,\n                planId: e.planId,\n                planStationId: e.planStationId,\n                inspectionPeriodText: e.inspectionPeriodText,\n                acount: e.acount,\n              });\n            });\n          },\n        );\n  }\n\n  const onFinish = () => {\n    formState.dtl = getDataSource();\n    formState.spinning=true;\n    createExecution(formState)\n      .then((rsp) => {\n        if (rsp.result != '') {\n          reloadFromPlan.value = false;\n          formState.id = rsp.result;\n          SysMessage.getInstance().success(formState.status == 1 ? '提交成功' : '保存成功.');\n          if (formState.status == 1) {\n            setTimeout(() => {\n              closeCurrentTab();\n              MsgManager.getInstance().sendMsg('inspection-execution', {});\n            }, 100);\n          } else {\n            reload();\n          }\n        } else {\n         \n          formState.status = 0;\n          SysMessage.getInstance().error('保存失败.');\n        }\n        formState.spinning=false;\n      })\n      .catch((e) => {\n        formState.status = 0;\n        formState.spinning=false;\n        console.log(e);\n      });\n  };\n\n  const checkResult = () => {\n    open.value = true;\n  };\n  const handleOk = () => {\n    let rows = getDataSource();\n    let i = 0;\n    rows.forEach(() => {\n      updateTableData(i, 'result', result.value);\n      i++;\n    });\n    open.value = false;\n  };\n\n  const getParamFunc = () => {\n    return { stationId: formState.stationId,status:1 };\n  };\n\n  const searchBoxColumns = [\n    { title: '设备名称', dataIndex: 'name', width: 120 },\n    { title: '物料', dataIndex: 'materialName', width: 120 },\n    { title: '生产厂家', dataIndex: 'factoryName', width: 120 },\n    { title: '区域', dataIndex: 'areaName', width: 120 },\n  ];\n\n  const setSelectData = (value, selectRow) => {\n    let row = selectRow.record;\n    formState.deviceId = row.key;\n    formState.deviceName = row.name;\n  };\n\n  const getExeDtlData = async () => {\n    if (reloadFromPlan.value || !formState.id) {\n      let data: any = [];\n      let dataObj = await getPlanDtl({ inspectionPlanId: formState.planId });\n      dataObj.result.forEach((e) => {\n        data.push({\n          planDetailId: e.id,\n          indexId: e.indexId,\n          needRectification: 0,\n          indexItem: e.indexItem,\n          indexContent: e.indexContent,\n          bizFileId: buildShortUUID(),\n        });\n      });\n      return data;\n    } else {\n      let dataObj = await getExecutionDtlData({ inspectionExecutionId: formState.id });\n      return dataObj.result;\n    }\n  };\n\n  const changeInspectionArea = (id, item) => {\n    formState.inspectionAreaType = id;\n    formState.planId = item.planId;\n    formState.planName = item.planName;\n    formState.planStationId=item.planStationId;\n    reloadFromPlan.value = true;\n    formState.inspectionPeriod = item.inspectionPeriodText + item.acount + '次';\n    requireDevice.value = id === 'PvAreaDev';\n    if (id !== 'PvAreaDev') {\n      formState.deviceName = '';\n      formState.deviceId = '';\n    }\n    reload();\n  };\n  const [table, { reload, getDataSource, updateTableData,setTableData }] = useTable({\n    api: getExeDtlData,\n    columns: dtlColumns,\n    bordered: true,\n    useSearchForm: false,\n    showTableSetting: false,\n    pagination: false,\n  });\n  const open = ref(false);\n\n  const flowOption = {\n    handleAgree: (flowData) => {\n      console.log('同意', flowData);\n    },\n\n    handleSave: (flowData) => {\n      console.log('保存', flowData);\n      formState.status = 0;\n      onFinish();\n    },\n\n    handleSubmit: (flowData) => {\n      console.log('提交', flowData);\n      formState.status = 1;\n      const value = formRef.value;\n      if (!value) {\n        return;\n      }\n      value\n        .validateFields()\n        .then(() => {\n          if (getDataSource().length === 0) {\n            SysMessage.getInstance().info('巡检清单不能为空');\n            return;\n          }\n          onFinish();\n        })\n        .catch((e) => {\n          console.log(e);\n          formState.status = 0;\n        });\n    },\n  };\n\n  // global\n  onMounted(async () => {\n    processInstanceId.value = query.processInstanceId as string;\n    if (!formState.id && query.processInstanceId) {\n      const processInstance = await ProcessInstanceApi.getProcessInstance(\n        query.processInstanceId as string,\n      );\n\n      formState.id = processInstance.businessKey;\n    }\n    getExecutionData({ id: formState.id })\n      .then((rsp) => {\n        let rs = rsp.result;\n        if (formState.id) {\n          for (let key in rs) {\n            formState[key] = rs[key];\n          }\n          formState.status = Number(formState.status);\n          requireDevice.value = formState.inspectionAreaType === 'PvAreaDev';\n          reload();\n        } else {\n          formState.billCode = rs.billCode;\n          formState.personMemberName = rs.personMemberName;\n          formState.deptName=rs.deptName;\n          formState.fillinDate = rs.fillinDate;\n          formState.bizFileId = buildShortUUID();\n        }\n        let { billCode, fillinDate, personMemberName,deptName } = rs;\n      Object.assign(billTitle, { billCode, fillinDate, personMemberName,deptName });\n      })\n      .then(() => {\n        if (formState.status == 0) {\n          getStationPerson(formState.stationId).then((rsp) => {\n            let tmp={};\n            rsp.result.forEach((e) => {\n              tmp[e.userId]=e.name;\n            });\n            for(let k in tmp){\n              inspectorData.value.push({\n                label: tmp[k],\n                value: k,\n              });\n            }\n          });\n        } else {\n          inspectorData.value.push({\n            value: formState.inspectorId,\n            label: formState.inspectorName,\n          });\n        }\n        \n      });\n  });\n</script>\n\n<style lang=\"less\" scoped>\n  .customer_require::before {\n    content: '*';\n    display: inline-block;\n    margin-right: 4px;\n    color: #ff4d4f;\n    font-family: SimSun, sans-serif;\n    font-size: 14px;\n    line-height: 1;\n  }\n</style>\n"],"names":["getEquipmentUrl","getExecutionDtlData","params","defHttp","getExecutionData","createExecution","getPlanDtl","getInspectionAreaType","getStationPerson","stationId","dtlColumns","userStore","useUserStore","userInfo","toRaw","disabledInput","computed","formState","requireDevice","ref","reloadFromPlan","equipmentName","processInstanceId","result","formRef","inspectionAreData","inspectorData","query","urlToPath","reactive","billTitle","clickInspectionAreaType","SysMessage","changeInspectionDate","e","setTableData","resp","onFinish","getDataSource","rsp","closeCurrentTab","MsgManager","reload","checkResult","open","handleOk","rows","i","updateTableData","getParamFunc","searchBoxColumns","setSelectData","value","selectRow","row","getExeDtlData","__async","data","buildShortUUID","changeInspectionArea","id","item","table","useTable","flowOption","flowData","onMounted","processInstance","ProcessInstanceApi.getProcessInstance","rs","key","billCode","fillinDate","personMemberName","deptName","tmp","k"],"mappings":"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"}