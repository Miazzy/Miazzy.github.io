{"version":3,"file":"GenerationTrend-5d775bca.js","sources":["../../src/views/da/groupOperation/monitor/GenerationTrend.vue"],"sourcesContent":["<template>\n  <div class=\"generation-trend\">\n    <SmallModule title=\"发电趋势\">\n      <template #titleRight>\n        <div class=\"right-title-layout\">\n          <a-radio-group\n            class=\"operation-screen-radio-group\"\n            v-model:value=\"searchInfo.selectTrendValue\"\n            size=\"small\"\n            @change=\"handleTrendChange\"\n          >\n            <a-radio-button value=\"today\">今日</a-radio-button>\n            <a-radio-button value=\"thirtyDays\">当月</a-radio-button>\n          </a-radio-group>\n        </div>\n      </template>\n      <template #content>\n        <div class=\"content-layout\">\n          <div style=\"transform: scale(0.85); transform-origin: 0 0\">\n            <EchartPillarChart\n              :data=\"pChartData\"\n              :colors=\"pChartData.colors\"\n              :width=\"`26.14vw`\"\n              :height=\"`28.06vh`\"\n              :name=\"pChartName\"\n              @clickItem=\"handlePowerContrastByParams\"\n              xAxisLabelInterval=\"auto\"\n              :dataZoomDisabled=\"false\"\n              :dataZoomMaxValueSpan=\"pChartData.categories.length\"\n              :dataZoomDefaultValueRange=\"[0, 6]\"\n            />\n          </div>\n        </div>\n      </template>\n    </SmallModule>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import SmallModule from '/@/components/Framework/OperationScreen/SmallModule.vue';\n  import EchartPillarChart from '/@/components/Framework/Chart/EchartPillarChart.vue';\n  import { reactive, UnwrapRef, onMounted, ref } from 'vue';\n  import { getPowerTrendData } from './data';\n  import { addTabPage } from '@/utils/route';\n\n  function handlePowerContrastByParams() {\n    addTabPage('/bi/elec/powerContrast');\n  }\n\n  const searchInfo: UnwrapRef<any> = reactive({});\n\n  onMounted(() => {\n    searchInfo.selectTrendValue = 'today';\n    queryPowerTrendData();\n  });\n\n  const handleTrendChange = (e: Event) => {\n    searchInfo.selectTrendValue = e.target.value;\n    queryPowerTrendData();\n  };\n\n  const pChartData = ref({\n    barData: [],\n    categories: [],\n    units: ['单位', '单位', '单位'],\n    colors: [['#16CFFE', '#08FFF6']],\n  });\n\n  const pChartName = ['发电量'];\n\n  const queryPowerTrendData = async () => {\n    let data = await getPowerTrendData();\n    if (data.result) {\n      if ('today' == searchInfo.selectTrendValue) {\n        pChartData.value.barData = data.result.curDate.barData;\n        pChartData.value.categories = data.result.curDate.categories;\n      } else {\n        pChartData.value.barData = data.result.month.barData;\n        pChartData.value.categories = data.result.month.categories;\n      }\n    }\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .right-title-layout {\n    padding-right: 0.16rem;\n  }\n\n  .content-layout {\n    height: 100%;\n    padding: 0 0.14rem;\n  }\n</style>\n"],"names":["handlePowerContrastByParams","addTabPage","searchInfo","reactive","onMounted","queryPowerTrendData","handleTrendChange","e","pChartData","ref","pChartName","__async","data","getPowerTrendData"],"mappings":"8xBA6CE,SAASA,GAA8B,CACrCC,EAAW,wBAAwB,CACrC,CAEM,MAAAC,EAA6BC,EAAS,CAAA,CAAE,EAE9CC,EAAU,IAAM,CACdF,EAAW,iBAAmB,QACVG,GAAA,CACrB,EAEK,MAAAC,EAAqBC,GAAa,CAC3BL,EAAA,iBAAmBK,EAAE,OAAO,MACnBF,GAAA,EAGhBG,EAAaC,EAAI,CACrB,QAAS,CAAC,EACV,WAAY,CAAC,EACb,MAAO,CAAC,KAAM,KAAM,IAAI,EACxB,OAAQ,CAAC,CAAC,UAAW,SAAS,CAAC,CAAA,CAChC,EAEKC,EAAa,CAAC,KAAK,EAEnBL,EAAsB,IAAYM,EAAA,sBAClC,IAAAC,EAAO,MAAMC,IACbD,EAAK,SACQV,EAAW,kBAAtB,SACFM,EAAW,MAAM,QAAUI,EAAK,OAAO,QAAQ,QAC/CJ,EAAW,MAAM,WAAaI,EAAK,OAAO,QAAQ,aAElDJ,EAAW,MAAM,QAAUI,EAAK,OAAO,MAAM,QAC7CJ,EAAW,MAAM,WAAaI,EAAK,OAAO,MAAM,YAEpD"}