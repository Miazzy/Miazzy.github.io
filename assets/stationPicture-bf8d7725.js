var S=(k,W,l)=>new Promise((m,f)=>{var p=u=>{try{y(l.next(u))}catch(g){f(g)}},d=u=>{try{y(l.throw(u))}catch(g){f(g)}},y=u=>u.done?m(u.value):Promise.resolve(u.value).then(p,d);y((l=l.apply(k,W)).next())});import{d as z,k as I,o as F,al as D,Z as b,_ as v,$ as a,f as e,aa as t,u as A,F as M,ae as B,a6 as G,v as c,ad as n,A as r,a9 as N}from"./vue-71d1abb3.js";import{ac as $,aa as q,ab as E,_ as V}from"./index.js";import J from"./otherWeatherItem-784c4d16.js";import{W as Q}from"./monitorApi-44e70004.js";import{w as R}from"./weatherIcon-14d6bf6f.js";import{bI as U,bJ as X,aQ as Z,aR as j}from"./antd-15ac76ed.js";const H={style:{display:"flex"}},K={class:"station-info"},Y={class:"view"},ee={class:"custom-slick-arrow",style:{"z-index":"1",left:"10px"}},te={class:"custom-slick-arrow",style:{right:"10px"}},ae={class:"carouse-image-content"},le=["index","src"],se={class:"pre-view"},ne={class:"box"},oe={class:"box-center"},ie={class:"image-content"},ce=["src","onClick"],re={class:"box"},de={class:"right-box"},ue={class:"top-box"},_e={style:{padding:"10px"}},pe={class:"weather-box"},fe={class:"weather-top"},he={class:"today-layout bg"},be={class:"weather-info"},me={class:"weather-icon"},ve={class:"weather-data"},ye={class:"temperature-text"},ge={class:"weather-text"},we={class:"weather-middle"},xe={class:"weather-foot"},Ce=z({__name:"stationPicture",props:{stationId:{type:String,default:""},bizFileId:{type:String,default:""},weatherData:[],todayWeather:{},temp:{type:String,default:""},textDay:{type:String,default:""},iconDay:{type:String,default:""}},setup(k,{expose:W}){const l=k,m=I([]),f=I(),p=I(0),d=I({connectCapacity:"",accessCapacity:"",firstGridConnectionDate:"",accessCapacity:"",serviceLife:"",altitude:""}),y=i=>S(this,null,function*(){if(i=="")return;let w=yield q({bizId:i}),x=[];w.length>0&&(w.forEach(s=>{const o=E(s.url);x.push(o)}),m.value=x),O()}),u=()=>{p.value>0&&(p.value-=1,f.value.prev())},g=()=>{p.value<m.value.length-1&&(p.value+=1,f.value.next())},T=i=>{f.value.goTo(i),p.value=i},O=()=>S(this,null,function*(){if(l.stationId=="")return;let i=yield Q({id:l.stationId});if(i){d.value=i;const w=new Date(i.firstGridConnectionDate),s=Math.abs(new Date().getTime()-w.getTime());d.value.connectDays=Math.floor(s/(1e3*60*60*24))}}),L=i=>i&&R[i]?R[i]:"tianqi-wu2";return F(()=>{}),W({queryStationImg:y}),(i,w)=>{const x=D("a-carousel"),s=D("a-form-item"),o=D("a-col"),h=D("a-row"),P=D("a-card");return b(),v("div",H,[a("div",K,[a("div",Y,[e(x,{ref_key:"carouselRef",ref:f,class:"img-carousel",arrows:""},{prevArrow:t(()=>[a("div",ee,[e(A(U))])]),nextArrow:t(()=>[a("div",te,[e(A(X))])]),default:t(()=>[(b(!0),v(M,null,B(m.value,(_,C)=>(b(),v("div",ae,[a("img",{class:"bg-img",index:C,src:_,alt:""},null,8,le)]))),256))]),_:1},512)]),a("div",se,[a("div",ne,[e(A(Z),{class:"left-right-icon",onClick:u})]),a("div",oe,[a("div",{class:"image-content-wrapper",style:G({transform:`translateX(${-p.value*100}px)`})},[(b(!0),v(M,null,B(m.value,(_,C)=>(b(),v("div",ie,[a("img",{class:"img",src:_,alt:"",onClick:De=>T(C)},null,8,ce)]))),256))],4)]),a("div",re,[e(A(j),{class:"left-right-icon",onClick:g})])])]),a("div",de,[a("div",ue,[a("div",_e,[e(P,{title:"电站简介",bordered:!1,style:{width:"100%"}},{default:t(()=>[e(h,{style:{"border-bottom":"1px solid rgb(241 241 241 / 10%)"}},{default:t(()=>[c(e(o,{span:12},{default:t(()=>[e(s,{label:"光伏装机",labelAlign:"left",labelCol:{span:12}},{default:t(()=>[a("span",null,n(d.value.connectCapacity||"")+"MW",1)]),_:1})]),_:1},512),[[r,!0]]),c(e(o,{span:12},{default:t(()=>[e(s,{label:"储能装机",labelAlign:"left",labelCol:{span:12}},{default:t(()=>[a("span",null,n(d.value.accessCapacity||"")+"MW",1)]),_:1})]),_:1},512),[[r,!0]])]),_:1}),e(h,{style:{"border-bottom":"1px solid rgb(241 241 241 / 10%)"}},{default:t(()=>[c(e(o,{span:12},{default:t(()=>[e(s,{label:"安装方式",labelAlign:"left",labelCol:{span:12}},{default:t(()=>[a("span",null,n(d.value.accessCapacity||""),1)]),_:1})]),_:1},512),[[r,!0]]),c(e(o,{span:12},{default:t(()=>[e(s,{label:"安装角度",labelAlign:"left",labelCol:{span:12}},{default:t(()=>[a("span",null,n(d.value.accessCapacity||"")+"度",1)]),_:1})]),_:1},512),[[r,!0]])]),_:1}),e(h,{style:{"border-bottom":"1px solid rgb(241 241 241 / 10%)"}},{default:t(()=>[c(e(o,{span:12},{default:t(()=>[e(s,{label:"并网日期",labelAlign:"left",labelCol:{span:12}},{default:t(()=>[a("span",null,n(d.value.firstGridConnectionDate||""),1)]),_:1})]),_:1},512),[[r,!0]]),c(e(o,{span:12},{default:t(()=>[e(s,{label:"并网天数",labelAlign:"left",labelCol:{span:12}},{default:t(()=>[a("span",null,n(d.value.connectDays||"")+"天",1)]),_:1})]),_:1},512),[[r,!0]])]),_:1}),e(h,{style:{"border-bottom":"1px solid rgb(241 241 241 / 10%)"}},{default:t(()=>[c(e(o,{span:12},{default:t(()=>[e(s,{label:"设计运行年限",labelAlign:"left",labelCol:{span:12}},{default:t(()=>[a("span",null,n(d.value.serviceLife)+"年",1)]),_:1})]),_:1},512),[[r,!0]]),c(e(o,{span:12},{default:t(()=>[e(s,{label:"平均海拔",labelAlign:"left",labelCol:{span:12}},{default:t(()=>[a("span",null,n(d.value.altitude)+"m",1)]),_:1})]),_:1},512),[[r,!0]])]),_:1})]),_:1})])]),a("div",pe,[a("div",fe,[a("div",he,[a("div",be,[a("div",me,[e(A($),{class:"iconfont",name:L(l.iconDay),style:{width:"112px",height:"112px"}},null,8,["name"])]),a("div",ve,[a("div",ye,n(l.temp),1),a("div",ge,n(l.textDay),1)])])])]),a("div",we,[e(h,{style:{"margin-bottom":"-10px"}},{default:t(()=>[c(e(o,{span:12},{default:t(()=>[e(s,{label:"温度",labelAlign:"left",labelCol:{span:8}},{default:t(()=>[a("span",null,n(l.todayWeather.tempMin)+"/"+n(l.todayWeather.tempMax)+"℃",1)]),_:1})]),_:1},512),[[r,!0]]),c(e(o,{span:12},{default:t(()=>[e(s,{label:"空气质量",labelAlign:"left",labelCol:{span:8}},{default:t(()=>[a("span",null,n(l.todayWeather.tempMin),1)]),_:1})]),_:1},512),[[r,!0]])]),_:1}),e(h,{style:{"margin-bottom":"-10px"}},{default:t(()=>[c(e(o,{span:12},{default:t(()=>[e(s,{label:"风力",labelAlign:"left",labelCol:{span:8}},{default:t(()=>[a("span",null,n(l.todayWeather.windScale)+"级",1)]),_:1})]),_:1},512),[[r,!0]]),c(e(o,{span:12},{default:t(()=>[e(s,{label:"降水量",labelAlign:"left",labelCol:{span:8}},{default:t(()=>[a("span",null,n(l.todayWeather.precip)+"mm",1)]),_:1})]),_:1},512),[[r,!0]])]),_:1}),e(h,{style:{"margin-bottom":"-10px"}},{default:t(()=>[c(e(o,{span:12},{default:t(()=>[e(s,{label:"风向",labelAlign:"left",labelCol:{span:8}},{default:t(()=>[a("span",null,n(l.todayWeather.windDir),1)]),_:1})]),_:1},512),[[r,!0]]),c(e(o,{span:12},{default:t(()=>[e(s,{label:"相对湿度",labelAlign:"left",labelCol:{span:8}},{default:t(()=>[a("span",null,n(l.todayWeather.humidity)+"%",1)]),_:1})]),_:1},512),[[r,!0]])]),_:1})]),a("div",xe,[(b(!0),v(M,null,B(l.weatherData,(_,C)=>(b(),N(J,{key:C,style:{width:"calc(100% / 5)",margin:"0 5px"},day:_.weekDay,weatherIcon:L(_.iconDay),temperature:_.temp,description:_.textDay,type:_.type},null,8,["day","weatherIcon","temperature","description","type"]))),128))])])])])}}});const Le=V(Ce,[["__scopeId","data-v-9a219f47"]]);export{Le as default};
//# sourceMappingURL=stationPicture-bf8d7725.js.map
