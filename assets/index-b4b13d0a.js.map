{"version":3,"file":"index-b4b13d0a.js","sources":["../../src/views/system/rbac/permission/index.ts"],"sourcesContent":["import { defHttp } from '/@/utils/http/axios';\nimport { BasicColumn, FormSchema } from '/@/components/Table';\n\nenum Api {\n  treeData = '/system/permission/list-tree',\n  pageData = '/system/permission/page',\n  insertUrl = '/system/permission/create',\n  updateStatusUrl = '/system/permission/updateStatus',\n  deleteUrl = '/system/permission/delete',\n  saveSort = '/system/permission/saveSort',\n  getSort = '/system/function/getSort',\n  sourceKindList = '/system/permission/operationList',\n  roleList = '/system/permission/roleList',\n  roleOrgList = '/system/permission/roleOrgList',\n  personList = '/system/permission/personList',\n}\n\n// 获取列表列头\nexport function getColumns(): BasicColumn[] {\n  return [\n    {\n      title: '编码',\n      dataIndex: 'code',\n      sorter: true,\n      resizable: true,\n      width: 200,\n    },\n\n    {\n      title: '名称',\n      dataIndex: 'name',\n      sorter: true,\n      resizable: true,\n      width: 200,\n    },\n\n    {\n      title: '状态',\n      dataIndex: 'statusText',\n\n      resizable: true,\n      width: 150,\n      align: 'center',\n    },\n\n    {\n      title: '类型',\n      dataIndex: 'nodeKindText',\n      resizable: true,\n      width: 150,\n      align: 'center',\n    },\n    {\n      title: '全名称',\n      dataIndex: 'fullName',\n      resizable: true,\n\n      editRow: true,\n      width: 150,\n      align: 'left',\n    },\n    {\n      title: '排序号',\n      dataIndex: 'sort',\n      sorter: true,\n      resizable: true,\n\n      editRow: true,\n      width: 150,\n      align: 'left',\n      editComponent: 'InputNumber',\n      editComponentProps: {\n        min: 0.01,\n        max: 9999999.99,\n        precision: 2,\n        formatter: (value) => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','),\n        parser: (value) => value.replace(/\\$\\s?|(,*)/g, ''),\n      },\n      editRule: editRule,\n    },\n    {\n      title: '操作',\n      dataIndex: 'operation',\n      width: 150,\n      resizable: true,\n      align: 'center',\n    },\n  ];\n}\n\n// 获取授权情况角色列头\nexport function getRoleColumns(): BasicColumn[] {\n  return [\n    {\n      title: '编码',\n      dataIndex: 'code',\n      width: 200,\n    },\n    {\n      title: '名称',\n      dataIndex: 'name',\n      width: 200,\n    },\n    {\n      title: '路径',\n      dataIndex: 'fullName',\n      editRow: true,\n      width: 150,\n      align: 'left',\n    },\n  ];\n}\n// 获取授权情况组织列头\nexport function getOrgColumns(): BasicColumn[] {\n  return [\n    {\n      title: '授权类型',\n      dataIndex: 'authKindText',\n      width: 60,\n    },\n\n    {\n      title: '授权路径',\n      dataIndex: 'orgFullName',\n      width: 200,\n    },\n\n    {\n      title: '组织名称',\n      dataIndex: 'orgName',\n      width: 100,\n    },\n    {\n      title: '角色编码',\n      dataIndex: 'roleCode',\n\n      width: 150,\n      align: 'center',\n    },\n\n    {\n      title: '角色名称',\n      dataIndex: 'roleName',\n\n      width: 150,\n      align: 'center',\n    },\n    {\n      title: '角色路径',\n      dataIndex: 'roleFullName',\n\n      editRow: true,\n      width: 200,\n      align: 'left',\n    },\n  ];\n}\n// 获取授权情况组织人员列头\nexport function getPersonColumns(): BasicColumn[] {\n  return [\n    {\n      title: '姓名',\n      dataIndex: 'personName',\n      width: 100,\n    },\n    {\n      title: '授权类型',\n      dataIndex: 'authKindText',\n      width: 60,\n    },\n\n    {\n      title: '授权路径',\n      dataIndex: 'orgFullName',\n      width: 200,\n    },\n\n    {\n      title: '组织名称',\n      dataIndex: 'orgName',\n      width: 100,\n    },\n\n    {\n      title: '角色编码',\n      dataIndex: 'roleCode',\n\n      width: 150,\n      align: 'center',\n    },\n\n    {\n      title: '角色名称',\n      dataIndex: 'roleName',\n\n      width: 150,\n      align: 'center',\n    },\n    {\n      title: '角色路径',\n      dataIndex: 'roleFullName',\n\n      editRow: true,\n      width: 200,\n      align: 'left',\n    },\n  ];\n}\n\n// 非空校验\nexport const editRule = async (text) => {\n  if (!text) {\n    return '不能为空';\n  }\n  return '';\n};\n\nexport interface DeptListItem {\n  id: string;\n  orderNo: string;\n  createTime: string;\n  remark: string;\n  status: number;\n}\n\n// 树数据\nexport const getTreeData = (params) =>\n  defHttp.post(\n    {\n      url: Api.treeData,\n      params,\n    },\n    {},\n  );\n\n// 列表数据\nexport const getPageData = (params) =>\n  defHttp.get(\n    {\n      url: Api.pageData,\n      params,\n    },\n    {},\n  );\n\n// 操作列表数据\nexport const getSourceKindList = (params) =>\n  defHttp.get(\n    {\n      url: Api.sourceKindList,\n      params,\n    },\n    { isOnlyResult: true },\n  );\n// 新增\nexport const insertData = (params) =>\n  defHttp.post(\n    {\n      url: Api.insertUrl,\n      params,\n    },\n    {},\n  );\n\n// 修改状态\nexport const updateStatus = (params) =>\n  defHttp.get(\n    {\n      url: Api.updateStatusUrl,\n      params,\n    },\n    {},\n  );\n\n// 删除\nexport const deleteData = (id) =>\n  defHttp.delete(\n    {\n      url: Api.deleteUrl + '?id=' + id,\n    },\n    {},\n  );\n\n// 保存排序号\nexport const saveSort = (params) =>\n  defHttp.post(\n    {\n      url: Api.saveSort,\n      params,\n    },\n    {},\n  );\n\n// 获取最新排序号\nexport const getSort = (params) =>\n  defHttp.get(\n    {\n      url: Api.getSort,\n      params,\n    },\n    {},\n  );\nexport const searchFormSchema: FormSchema[] = [\n  {\n    field: 'code',\n    component: 'Input',\n    label: '编码',\n    required: false,\n  },\n  {\n    field: 'name',\n    component: 'Input',\n    label: '名称',\n    required: false,\n  },\n];\n\nexport const searchFormSchemaDialog: FormSchema[] = [\n  {\n    field: 'name',\n    component: 'Input',\n    label: '名称',\n    required: false,\n  },\n];\n\n// 列表数据\nexport const getRoleList = (params) =>\n  defHttp.get(\n    {\n      url: Api.roleList,\n      params,\n    },\n    {},\n  );\n\n// 列表数据\nexport const getRoleOrgList = (params) =>\n  defHttp.get(\n    {\n      url: Api.roleOrgList,\n      params,\n    },\n    {},\n  );\n// 列表数据\nexport const getPersonList = (params) =>\n  defHttp.get(\n    {\n      url: Api.personList,\n      params,\n    },\n    {},\n  );\n"],"names":["getColumns","value","editRule","getRoleColumns","getOrgColumns","getPersonColumns","text","__async","getTreeData","params","defHttp","getPageData","getSourceKindList","insertData","updateStatus","deleteData","id","saveSort","getSort","searchFormSchema","getRoleList","getRoleOrgList","getPersonList"],"mappings":"6OAkBO,SAASA,GAA4B,CACnC,MAAA,CACL,CACE,MAAO,KACP,UAAW,OACX,OAAQ,GACR,UAAW,GACX,MAAO,GACT,EAEA,CACE,MAAO,KACP,UAAW,OACX,OAAQ,GACR,UAAW,GACX,MAAO,GACT,EAEA,CACE,MAAO,KACP,UAAW,aAEX,UAAW,GACX,MAAO,IACP,MAAO,QACT,EAEA,CACE,MAAO,KACP,UAAW,eACX,UAAW,GACX,MAAO,IACP,MAAO,QACT,EACA,CACE,MAAO,MACP,UAAW,WACX,UAAW,GAEX,QAAS,GACT,MAAO,IACP,MAAO,MACT,EACA,CACE,MAAO,MACP,UAAW,OACX,OAAQ,GACR,UAAW,GAEX,QAAS,GACT,MAAO,IACP,MAAO,OACP,cAAe,cACf,mBAAoB,CAClB,IAAK,IACL,IAAK,aACL,UAAW,EACX,UAAYC,GAAU,GAAGA,CAAK,GAAG,QAAQ,wBAAyB,GAAG,EACrE,OAASA,GAAUA,EAAM,QAAQ,cAAe,EAAE,CACpD,EACA,SAAAC,CACF,EACA,CACE,MAAO,KACP,UAAW,YACX,MAAO,IACP,UAAW,GACX,MAAO,QACT,CAAA,CAEJ,CAGO,SAASC,GAAgC,CACvC,MAAA,CACL,CACE,MAAO,KACP,UAAW,OACX,MAAO,GACT,EACA,CACE,MAAO,KACP,UAAW,OACX,MAAO,GACT,EACA,CACE,MAAO,KACP,UAAW,WACX,QAAS,GACT,MAAO,IACP,MAAO,MACT,CAAA,CAEJ,CAEO,SAASC,GAA+B,CACtC,MAAA,CACL,CACE,MAAO,OACP,UAAW,eACX,MAAO,EACT,EAEA,CACE,MAAO,OACP,UAAW,cACX,MAAO,GACT,EAEA,CACE,MAAO,OACP,UAAW,UACX,MAAO,GACT,EACA,CACE,MAAO,OACP,UAAW,WAEX,MAAO,IACP,MAAO,QACT,EAEA,CACE,MAAO,OACP,UAAW,WAEX,MAAO,IACP,MAAO,QACT,EACA,CACE,MAAO,OACP,UAAW,eAEX,QAAS,GACT,MAAO,IACP,MAAO,MACT,CAAA,CAEJ,CAEO,SAASC,GAAkC,CACzC,MAAA,CACL,CACE,MAAO,KACP,UAAW,aACX,MAAO,GACT,EACA,CACE,MAAO,OACP,UAAW,eACX,MAAO,EACT,EAEA,CACE,MAAO,OACP,UAAW,cACX,MAAO,GACT,EAEA,CACE,MAAO,OACP,UAAW,UACX,MAAO,GACT,EAEA,CACE,MAAO,OACP,UAAW,WAEX,MAAO,IACP,MAAO,QACT,EAEA,CACE,MAAO,OACP,UAAW,WAEX,MAAO,IACP,MAAO,QACT,EACA,CACE,MAAO,OACP,UAAW,eAEX,QAAS,GACT,MAAO,IACP,MAAO,MACT,CAAA,CAEJ,CAGa,MAAAH,EAAkBI,GAASC,EAAA,wBACtC,OAAKD,EAGE,GAFE,MAGX,GAWaE,EAAeC,GAC1BC,EAAQ,KACN,CACE,IAAK,+BACL,OAAAD,CACF,EACA,CAAC,CACH,EAGWE,EAAeF,GAC1BC,EAAQ,IACN,CACE,IAAK,0BACL,OAAAD,CACF,EACA,CAAC,CACH,EAGWG,EAAqBH,GAChCC,EAAQ,IACN,CACE,IAAK,mCACL,OAAAD,CACF,EACA,CAAE,aAAc,EAAK,CACvB,EAEWI,EAAcJ,GACzBC,EAAQ,KACN,CACE,IAAK,4BACL,OAAAD,CACF,EACA,CAAC,CACH,EAGWK,EAAgBL,GAC3BC,EAAQ,IACN,CACE,IAAK,kCACL,OAAAD,CACF,EACA,CAAC,CACH,EAGWM,EAAcC,GACzBN,EAAQ,OACN,CACE,IAAK,gCAAyBM,CAChC,EACA,CAAC,CACH,EAGWC,EAAYR,GACvBC,EAAQ,KACN,CACE,IAAK,8BACL,OAAAD,CACF,EACA,CAAC,CACH,EAGWS,EAAWT,GACtBC,EAAQ,IACN,CACE,IAAK,2BACL,OAAAD,CACF,EACA,CAAC,CACH,EACWU,EAAiC,CAC5C,CACE,MAAO,OACP,UAAW,QACX,MAAO,KACP,SAAU,EACZ,EACA,CACE,MAAO,OACP,UAAW,QACX,MAAO,KACP,SAAU,EACZ,CACF,EAYaC,EAAeX,GAC1BC,EAAQ,IACN,CACE,IAAK,8BACL,OAAAD,CACF,EACA,CAAC,CACH,EAGWY,EAAkBZ,GAC7BC,EAAQ,IACN,CACE,IAAK,iCACL,OAAAD,CACF,EACA,CAAC,CACH,EAEWa,EAAiBb,GAC5BC,EAAQ,IACN,CACE,IAAK,gCACL,OAAAD,CACF,EACA,CAAC,CACH"}