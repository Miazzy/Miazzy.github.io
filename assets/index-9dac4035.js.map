{"version":3,"file":"index-9dac4035.js","sources":["../../src/views/bi/elec/lossPower/data.ts","../../src/views/bi/elec/lossPower/index.vue"],"sourcesContent":["import { ref } from 'vue';\nimport { defHttp } from '/@/utils/http/axios';\nimport { FormSchema } from '@/components/Form';\nimport dayjs from 'dayjs';\nimport { useUserStore } from '/@/store/modules/user';\nimport { BasicColumn } from '/@/components/Table';\n\nenum Api {\n  getOrgInfoUrl = '/bi/common/org/info',\n  getStationUrl = '/baseset/common/list-station',\n  getOrgLossPowerUrl = '/bi/elec/lossPower',\n  getOrgLossPowerStationUrl = '/bi/elec/lossPower/station',\n  getLossPowerChartUrl = '/bi/elec/lossPower/chart',\n\n  exportSumExcelUrl = '/bi/elec/export-sum-loss-power',\n  exportStationExcelUrl = '/bi/elec/export-loss-power',\n}\n\n//导出\nexport const exportStationExcel = (params) =>\n  defHttp.post(\n    { url: Api.exportStationExcelUrl, params, responseType: 'blob' },\n    { isReturnNativeResponse: true },\n  );\n\nexport const exportSumExcel = (params) =>\n  defHttp.post(\n    { url: Api.exportSumExcelUrl, params, responseType: 'blob' },\n    { isReturnNativeResponse: true },\n  );\n\nexport const getOrgInfoList = (params) =>\n  defHttp.get({ url: Api.getOrgInfoUrl, params }, { isOnlyResult: true });\n\nexport const getStationData = (params) => {\n  return defHttp.post({ url: Api.getStationUrl, params });\n};\n\nexport const getOrgLossPowerData = (params) =>\n  defHttp.get({ url: Api.getOrgLossPowerUrl, params }, {});\n\nexport const getOrgLossPowerStationData = (params) =>\n  defHttp.get({ url: Api.getOrgLossPowerStationUrl, params }, {});\n\nexport const getLossPowerChartData = (params) =>\n  defHttp.get({ url: Api.getLossPowerChartUrl, params }, {});\n\n// 配置表格表头字段\nexport const summaryColumns = ref([\n  { title: '所属公司', dataIndex: 'stationOrganName', width: 150, resizable: true },\n  { title: '生产损失', dataIndex: 'productionLosses', width: 150, resizable: true },\n  { title: '自然灾害', dataIndex: 'naturalCalamities', width: 150, resizable: true },\n  { title: '电网及限电', dataIndex: 'powerGrid', width: 150, resizable: true },\n  { title: '其他', dataIndex: 'other', width: 150, resizable: true },\n  { title: '合计', dataIndex: 'total', width: 150, resizable: true },\n  { title: '占比', dataIndex: 'rate', width: 150, resizable: true },\n]);\n\nexport const detailColumns = (params): BasicColumn[] => {\n  const dataColumns = [\n    {\n      title: '所属公司',\n      dataIndex: 'stationOrganName',\n      width: 150,\n      customCell: (record) => ({ rowSpan: record.rowOrgSpan }),\n      resizable: true,\n    },\n    {\n      title: '电站名称',\n      dataIndex: 'stationName',\n      width: 150,\n      customCell: (record) => ({ rowSpan: record.rowStationSpan }),\n      resizable: true,\n    },\n    { title: '期数', dataIndex: 'periodName', width: 150, resizable: true },\n    { title: '并网容量(MW)', dataIndex: 'connectCapacity', width: 150, resizable: true },\n    { title: '合计', dataIndex: 'total', width: 150, resizable: true },\n    {\n      title: '生产损失',\n      dataIndex: 'filed1',\n      children: [\n        { title: '工程原因', dataIndex: 'engineeringReasons', width: 150, resizable: true },\n        { title: '设备原因', dataIndex: 'equipmentReasons', width: 150, resizable: true },\n        { title: '运维管理', dataIndex: 'operation', width: 150, resizable: true },\n        { title: '计划停运', dataIndex: 'scheduledOutage', width: 150, resizable: true },\n        { title: '小计', dataIndex: 'scssTotal', width: 150, resizable: true },\n      ],\n    },\n    {\n      title: '自然灾害',\n      dataIndex: 'filed2',\n      children: [\n        { title: '台风/大风', dataIndex: 'typhoon', width: 150, resizable: true },\n        { title: '地震', dataIndex: 'earthquake', width: 150, resizable: true },\n        { title: '洪涝', dataIndex: 'flood', width: 150, resizable: true },\n        { title: '冰雹/覆冰', dataIndex: 'hail', width: 150, resizable: true },\n        { title: '雷暴', dataIndex: 'thunderstorm', width: 150, resizable: true },\n        { title: '其他灾害', dataIndex: 'otherDisasters', width: 150, resizable: true },\n        { title: '小计', dataIndex: 'zrzhTotal', width: 150, resizable: true },\n      ],\n    },\n    {\n      title: '电网及限电',\n      dataIndex: 'filed3',\n      children: [\n        { title: '电网侧', dataIndex: 'powerGrid', width: 150, resizable: true },\n        { title: '弃光限电', dataIndex: 'abandoningLight', width: 150, resizable: true },\n        { title: '小计', dataIndex: 'dwTotal', width: 150, resizable: true },\n      ],\n    },\n\n    {\n      title: '其他',\n      dataIndex: 'filed4',\n      children: [\n        { title: '其他', dataIndex: 'other', width: 150, resizable: true },\n        { title: '小计', dataIndex: 'otherTotal', width: 150, resizable: true },\n      ],\n    },\n  ];\n  if (!useUserStore().isMultiOrganization) {\n    dataColumns.shift();\n  }\n  return dataColumns;\n};\n\nexport const getFormSearchSchemas = (params): FormSchema[] => {\n  return [\n    {\n      field: `caliber`,\n      label: `统计口径`,\n      component: 'Select',\n      required: true,\n      defaultValue: 'station',\n      componentProps: {\n        options: [\n          { value: 'station', label: '电站' },\n          { value: 'period', label: '分期' },\n        ],\n      },\n    },\n    {\n      field: `dateCycle`,\n      label: `时间维度`,\n      component: 'Select',\n      required: true,\n      defaultValue: 'year',\n      componentProps: {\n        options: [\n          { value: 'year', label: '年份' },\n          { value: 'month', label: '月份' },\n          { value: 'day', label: '自然日' },\n        ],\n      },\n    },\n    {\n      field: `yearValue`,\n      label: `年份`,\n      component: 'YearPicker',\n      defaultValue: dayjs(new Date()).format('YYYY'),\n      componentProps: {\n        format: 'YYYY',\n        valueFormat: 'YYYY',\n        style: { width: '100%' },\n      },\n      show: ({ values }) => {\n        return values.dateCycle == 'year';\n      },\n      dynamicRules: ({ values }) => {\n        return values.dateCycle == 'year' ? [{ required: true, message: '年份必填' }] : [];\n      },\n    },\n    {\n      field: `[startMonth, endMonth]`,\n      label: `月份`,\n      component: 'RangePicker',\n      componentProps: {\n        picker: 'month',\n        format: 'YYYY-MM',\n        valueFormat: 'YYYY-MM',\n        style: { width: '100%' },\n        placeholder: ['开始月份', '结束月份'],\n      },\n      show: ({ values }) => {\n        return values.dateCycle == 'month';\n      },\n      dynamicRules: ({ values }) => {\n        return values.dateCycle == 'month' ? [{ required: true, message: '月份必填' }] : [];\n      },\n    },\n    {\n      field: `[startDate, endDate]`,\n      label: `时间段`,\n      component: 'RangePicker',\n      componentProps: {\n        format: 'YYYY-MM-DD',\n        valueFormat: 'YYYY-MM-DD',\n        style: { width: '100%' },\n        placeholder: ['开始时间', '结束时间'],\n      },\n      show: ({ values }) => {\n        return values.dateCycle == 'day';\n      },\n      dynamicRules: ({ values }) => {\n        return values.dateCycle == 'day' ? [{ required: true, message: '时间段必填' }] : [];\n      },\n    },\n    {\n      field: `orgId`,\n      label: `所属公司`,\n      component: 'ApiSelect',\n      componentProps: {\n        options: [],\n        api: getOrgInfoList,\n        placeholder: '请选择所属公司',\n      },\n      show: useUserStore().isMultiOrganization,\n    },\n    {\n      field: `stationId`,\n      label: `电站名称`,\n      component: 'ApiSelect',\n      componentProps: {\n        options: [],\n        api: async () => {\n          const sts = await getStationData({});\n          const map: any = [];\n          sts.result.forEach((e) => {\n            map.push({ value: e.powerStationId, label: e.powerStationName });\n          });\n\n          return map;\n        },\n        placeholder: '请输入电站名称',\n      },\n    },\n  ];\n};\n","<template>\n  <div class=\"tab-model\">\n    <div class=\"tab-button-div\">\n      <BasicForm @register=\"formRegister\" />\n    </div>\n\n    <div id=\"loss-table-tab-content\" class=\"tab-table-div\">\n      <a-tabs v-model:activeKey=\"activeKey\" @change=\"handleTabsChange\">\n        <a-tab-pane v-if=\"useUserStore().isMultiOrganization\" key=\"summary\" tab=\"统计报表\">\n          <div class=\"tab-content\">\n            <div class=\"tab-content-top\">\n              <BasicTable @register=\"registerTable\" @resize-column=\"(w, col) => (col.width = w)\">\n                <template #toolbar>\n                  <a-button class=\"yellow-btn\" :preIcon=\"IconEnum.EXPORT\" @click=\"exportReport\">{{\n                    t('common.action.export')\n                  }}</a-button>\n                </template>\n              </BasicTable>\n            </div>\n            <div class=\"tab-content-bottom\">\n              <div v-if=\"isShowChart\" class=\"chart\">\n                <div class=\"echart-stackbarchart\">\n                  <EchartStackBarChart\n                    :data=\"stackData\"\n                    :width=\"chartWidth\"\n                    :height=\"320\"\n                    axisColor=\"#33CCFF\"\n                    axisWidth=\"0.4\"\n                    legendColor=\"#33333\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </a-tab-pane>\n        <a-tab-pane key=\"detail\" tab=\"电站损失明细\">\n          <BasicTable @register=\"registerStationTable\" @resize-column=\"(w, col) => (col.width = w)\">\n            <template #toolbar>\n              <a-button class=\"yellow-btn\" :preIcon=\"IconEnum.EXPORT\" @click=\"exportReport\">{{\n                t('common.action.export')\n              }}</a-button>\n            </template>\n          </BasicTable>\n        </a-tab-pane>\n      </a-tabs>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import { ref, onMounted, unref, reactive } from 'vue';\n  import {\n    summaryColumns,\n    detailColumns,\n    getOrgLossPowerData,\n    getOrgLossPowerStationData,\n    getLossPowerChartData,\n    getFormSearchSchemas,\n    exportSumExcel,\n    exportStationExcel,\n  } from './data';\n  import EchartStackBarChart from '/@/components/Framework/Chart/EchartStackBarChart.vue';\n  import { BasicForm, useForm } from '@/components/Form';\n  import { useRouter } from 'vue-router';\n  import * as DateUtil from '/@/utils/dateUtil';\n  import { IconEnum } from '@/enums/appEnum';\n  import { useI18n } from '@/hooks/web/useI18n';\n  import { exportExcelFile } from '/@/utils/file/download';\n  import { useMessage } from '@/hooks/web/useMessage';\n  import { useUserStore } from '/@/store/modules/user';\n  import { BasicTable, useTable } from '/@/components/Table';\n\n  const { t } = useI18n();\n  const { createConfirm, createMessage } = useMessage();\n\n  const activeKey = ref('summary');\n  const isShowChart = ref(true);\n  const chartWidth = ref();\n\n  const queryParam: any = reactive({});\n\n  const handleTabsChange = (activeKey) => {\n    if (activeKey === 'summary') {\n      reload();\n      isShowChart.value = true;\n      chartWidth.value = document.body.offsetWidth - 120;\n    } else if (activeKey === 'detail') {\n      reloadStation();\n      isShowChart.value = false;\n    }\n  };\n\n  //-----------------跳转相关--------------------\n  const router = useRouter();\n  const { currentRoute } = router;\n  const route = unref(currentRoute);\n  const query = route.query;\n\n  onMounted(() => {\n    if (query) {\n      const values = getFieldsValue();\n      //针对穿透赋值\n      if (query.startDate) {\n        values.dateCycle = query.dateType;\n        values.startMonth = query.startDate;\n        values.endMonth = query.endDate;\n      }\n      if (query.orgId != null) {\n        values.orgId = query.id;\n      }\n      if (query.stationId != null) {\n        values.stationId = query.stationId;\n      }\n      setFieldsValue(values);\n      if (!useUserStore().isMultiOrganization) {\n        activeKey.value = 'detail';\n      }\n    }\n    // setTimeout(() => {\n    //   reload();\n    //   reloadStation();\n    // }, 100);\n  });\n\n  const [formRegister, { resetFields, getFieldsValue, setFieldsValue }] = useForm({\n    labelWidth: 100,\n    baseColProps: { span: 8 },\n    actionColOptions: {\n      span: 24,\n    },\n    autoAdvancedLine: 1,\n    schemas: getFormSearchSchemas({}),\n    compact: true,\n    showAdvancedButton: true,\n    resetButtonOptions: {\n      onClick: async () => {\n        await resetFields();\n        reload();\n        reloadStation();\n      },\n    },\n    submitFunc: () => {\n      reload();\n      reloadStation();\n      return Promise.resolve();\n    },\n  });\n\n  const stackData = ref({\n    categories: [],\n    barData: [[], [], [], []],\n    barNames: ['生产损失', '自然灾害', '电网及限电', '其他'],\n  });\n\n  //汇总报表\n  const [registerTable, { reload }] = useTable({\n    api: async () => {\n      const params = getFieldsValue();\n      //针对穿透赋值后存在时分秒\n      if (params.dateCycle == 'month') {\n        params.startMonth = DateUtil.formatToDate(params.startMonth, 'YYYY-MM');\n        params.endMonth = DateUtil.formatToDate(params.endMonth, 'YYYY-MM');\n        setFieldsValue(params);\n      }\n      Object.assign(queryParam, params);\n      let dataObj = await getOrgLossPowerData(queryParam);\n      let charData = await getLossPowerChartData(params);\n      if (charData.result) {\n        stackData.value.barData = charData.result.barData;\n        stackData.value.categories = charData.result.categories;\n      }\n      return dataObj.result;\n    },\n    target: '#loss-table-tab-content',\n    targetTabKey: 'summary',\n    targetTabValue: activeKey,\n    columns: summaryColumns,\n    useSearchForm: false,\n    bordered: true,\n    pagination: false,\n    showTableSetting: false,\n    tableSetting: { fullScreen: true },\n    showIndexColumn: true,\n  });\n\n  //电站明细\n  const [registerStationTable, { reload: reloadStation }] = useTable({\n    api: async () => {\n      const params = getFieldsValue();\n      //针对穿透赋值后存在时分秒\n      if (params.dateCycle == 'month') {\n        params.startMonth = DateUtil.formatToDate(params.startMonth, 'YYYY-MM');\n        params.endMonth = DateUtil.formatToDate(params.endMonth, 'YYYY-MM');\n        setFieldsValue(params);\n      }\n      Object.assign(queryParam, params);\n      let dataObj = await getOrgLossPowerStationData(queryParam);\n      return dataObj.result;\n    },\n    target: '#loss-table-tab-content',\n    targetTabKey: 'detail',\n    targetTabValue: activeKey,\n    columns: detailColumns({}),\n    useSearchForm: false,\n    bordered: true,\n    pagination: false,\n    showTableSetting: false,\n    tableSetting: { fullScreen: true },\n    showIndexColumn: true,\n    afterFetch: function (data) {\n      const count = {};\n      for (let index = 0; index < data.length; index++) {\n        const element = data[index];\n        if (count[element.stationOrganId]) {\n          count[element.stationOrganId]++;\n        }\n        if (count[element.stationId]) {\n          count[element.stationId]++;\n        }\n\n        if (!count[element.stationOrganId]) {\n          count[element.stationOrganId] = 1;\n        }\n        if (!count[element.stationId]) {\n          count[element.stationId] = 1;\n        }\n      }\n      for (let index = 0; index < data.length; index++) {\n        const element = data[index];\n        for (const key in count) {\n          if (element.stationOrganId === key) {\n            element.rowOrgSpan = count[key];\n            count[key] = 0;\n          }\n          if (element.stationId === key) {\n            element.rowStationSpan = count[key];\n            count[key] = 0;\n          }\n        }\n      }\n      return data;\n    },\n  });\n\n  // 导出\n  function exportReport() {\n    createConfirm({\n      title: '提示',\n      iconType: 'warning',\n      content: '确定要导出所有记录？',\n      async onOk() {\n        Object.assign(queryParam, getFieldsValue());\n        if (activeKey.value == 'summary') {\n          queryParam.filename = '统计报表.xls';\n          queryParam.excelList = summaryColumns;\n          await exportSumExcel(queryParam).then((res) => {\n            exportExcelFile(res?.data, queryParam.filename);\n          });\n        } else if (activeKey.value == 'detail') {\n          queryParam.filename = '电站损失明细.xls';\n          queryParam.excelList = detailColumns({});\n          await exportStationExcel(queryParam).then((res) => {\n            exportExcelFile(res?.data, queryParam.filename);\n          });\n        }\n        // queryParam.filename = null;\n        // queryParam.excelList = null;\n        createMessage.success(t('common.exportSuccessText'));\n      },\n    });\n  }\n</script>\n<style lang=\"less\" scoped>\n  @import '/@/design/biz/bizList.less';\n\n  :deep(.ant-tabs-nav) {\n    margin-bottom: 5px;\n  }\n\n  .tab-content {\n    display: flex;\n    flex-direction: column;\n    height: calc(100vh - 150px);\n\n    .tab-content-top {\n      flex: 0 0 45%;\n      overflow: auto;\n    }\n\n    .tab-content-bottom {\n      display: flex;\n      flex: 0 0 55%;\n      justify-content: space-between;\n      padding: 10px 10px 10px 20px;\n\n      .chart {\n        display: flex;\n        justify-content: space-between;\n        width: 100%;\n\n        .echart-stackbarchart {\n          width: calc(100% - 30px);\n        }\n      }\n    }\n  }\n</style>\n"],"names":["exportStationExcel","params","defHttp","exportSumExcel","getOrgInfoList","getStationData","getOrgLossPowerData","getOrgLossPowerStationData","getLossPowerChartData","summaryColumns","ref","detailColumns","dataColumns","record","useUserStore","getFormSearchSchemas","dayjs","values","__async","sts","map","e","t","useI18n","createConfirm","createMessage","useMessage","activeKey","isShowChart","chartWidth","queryParam","reactive","handleTabsChange","reload","reloadStation","router","useRouter","currentRoute","query","unref","onMounted","getFieldsValue","setFieldsValue","formRegister","resetFields","useForm","stackData","registerTable","useTable","DateUtil.formatToDate","dataObj","charData","registerStationTable","data","count","index","element","key","exportReport","res","exportExcelFile"],"mappings":"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"}