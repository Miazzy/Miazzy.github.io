{"version":3,"file":"DeviceStatistics-28b47df4.js","sources":["../../src/views/da/stationOperation/monitor/DeviceStatistics.vue"],"sourcesContent":["<template>\n  <div class=\"device-statistics\">\n    <SmallModule title=\"设备统计\">\n      <template #content>\n        <div class=\"content-layout\">\n          <div class=\"data-layout\">\n            <DataIndicator label=\"光伏区\" :value=\"topIndexData.PvAreaDev\" color=\"#1890FF\" />\n            <DataIndicator label=\"升压站\" :value=\"topIndexData.BoostDev\" color=\"#1890FF\" />\n            <DataIndicator label=\"储能\" :value=\"topIndexData.EnergyStorage\" color=\"#1890FF\" />\n          </div>\n          <div class=\"chart-layout\">\n            <!-- <DonutChart\n              class=\"chart\"\n              :data=\"donutData\"\n              width=\"300\"\n              height=\"100%\"\n              radius=\"100\"\n              :showTotal=\"false\"\n              :colors=\"colorArr\"\n            /> -->\n            <EchartPieChart\n              id=\"dev-stat-pie\"\n              :width=\"`22.1vw`\"\n              :height=\"`18.53vh`\"\n              :data=\"donutData\"\n              :roseType=\"false\"\n              :radius=\"['36%', '58%']\"\n              showLabel\n              :pieCenter=\"['50%', '50%']\"\n            />\n          </div>\n        </div>\n      </template>\n    </SmallModule>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import SmallModule from '/@/components/Framework/OperationScreen/SmallModule.vue';\n  import DataIndicator from '/@/components/Framework/OperationScreen/DataIndicator.vue';\n  import DonutChart from '/@/components/Framework/Chart/DonutChart.vue';\n  import EchartPieChart from '/@/components/Framework/Chart/EchartPieChart.vue';\n  // import NtgaleChart from '/@/components/Framework/Chart/NtgaleChart.vue';\n  import { ref, reactive, UnwrapRef, onMounted } from 'vue';\n  import { getDeviceStatData } from './data';\n  import { assign } from 'lodash-es';\n\n  //搜索参数\n  const searchInfo: UnwrapRef<any> = reactive({});\n  interface Props {\n    monitorSearchInfo?: {};\n  }\n  const props = withDefaults(defineProps<Props>(), {});\n\n  const topIndexData = reactive<any>({});\n\n  onMounted(() => {\n    assign(searchInfo, props.monitorSearchInfo);\n    queryDeviceStatData();\n  });\n\n  const donutData = ref([]);\n  const colorArr = ['#1890ff', '#60d1f3', '#8fd0f4', '#2de4a5', '#63b2ee'];\n  const queryDeviceStatData = async () => {\n    let data = await getDeviceStatData(searchInfo);\n    if (data.result) {\n      assign(topIndexData, data.result);\n      donutData.value = data.result.typeStat;\n    }\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .content-layout {\n    height: 100%;\n\n    .data-layout {\n      display: flex;\n      align-items: flex-end;\n      justify-content: space-between;\n      height: 23.95%;\n      margin-top: -0.14rem;\n      padding: 0 0.87rem;\n    }\n\n    .chart-layout {\n      width: 100%;\n      height: 76.05%;\n      padding-left: 0.2rem;\n    }\n  }\n</style>\n"],"names":["searchInfo","reactive","topIndexData","onMounted","assign","props","queryDeviceStatData","donutData","ref","__async","data","getDeviceStatData"],"mappings":"+3BAgDQA,EAA6BC,EAAS,CAAA,CAAE,EAMxCC,EAAeD,EAAc,CAAA,CAAE,EAErCE,EAAU,IAAM,CACPC,EAAAJ,EAAYK,EAAM,iBAAiB,EACtBC,GAAA,CACrB,EAEK,MAAAC,EAAYC,EAAI,CAAA,CAAE,EAElBF,EAAsB,IAAYG,EAAA,sBAClC,IAAAC,EAAO,MAAMC,EAAkBX,CAAU,EACzCU,EAAK,SACAN,EAAAF,EAAcQ,EAAK,MAAM,EACtBH,EAAA,MAAQG,EAAK,OAAO,SAChC"}