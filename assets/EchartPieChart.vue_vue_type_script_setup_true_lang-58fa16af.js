var _=Object.defineProperty;var x=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var w=(a,t,e)=>t in a?_(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,S=(a,t)=>{for(var e in t||(t={}))k.call(t,e)&&w(a,e,t[e]);if(x)for(var e of x(t))A.call(t,e)&&w(a,e,t[e]);return a};import{d as D,e as N,w as v,o as T,q as F,Z as B,_ as C,v as I,A as z,$ as E,a6 as L,f as R,ac as $}from"./vue-71d1abb3.js";import"./index-d8a2358f.js";import{N as O}from"./NoData-1ab5cc7b.js";import{g as f,i as W}from"./install-58e0bd81.js";const H={class:"pie-chart-box"},P=["id"],Z=D({__name:"EchartPieChart",props:{width:{type:[Number,String],default:600},height:{type:[Number,String],default:300},data:Array,id:{type:String},showLabel:{type:Boolean,default:!1},roseType:{type:[String,Boolean],default:"radius"},radius:{type:Array,default:[30,100]},labelFormatter:{type:[String,Function],default:"{b}：{c}"},showLegend:{type:Boolean,default:!1},legendOptions:{type:Object,default:{}},pieCenter:{type:Array,default:["50%","50%"]},colors:{type:Array,default:[{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#00ddff"},{offset:1,color:"#008efb"}],global:!1},{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#00ffa5"},{offset:1,color:"#01aa21"}],global:!1},{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#ffdd4d"},{offset:1,color:"#e18f18"}],global:!1},{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#dc6a4c"},{offset:1,color:"#b73422"}],global:!1},{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#7626b9"},{offset:1,color:"#bf55e5"}],global:!1}]},tooltipFormatter:{type:[String,Function],default:"{b}：{d}%"}},emits:["clickItem"],setup(a,{emit:t}){const e=a,h=N(()=>{var o;return!((o=e.data)!=null&&o.length)}),p=()=>{const o=document.getElementById(e.id);let r=f(o);r==null&&(r=W(o));const i={color:e.colors,legend:S({show:e.showLegend,bottom:"6%",left:"center",orient:"horizontal",icon:"circle",itemWidth:8,itemHeight:8,textStyle:{color:"rgba(255,255,255,0.6)",fontSize:10,height:10,lineHeight:10,rich:{},padding:[4,0,0,0]}},e.legendOptions),tooltip:{show:!0,textStyle:{color:"#fff"},backgroundColor:"rgb(50,175,255, 15%)",borderColor:"transparent",formatter:e.tooltipFormatter,position:function(l,y,n,V,u){var s=0,c=0,d=l[0],m=l[1],g=u.contentSize[0],b=u.contentSize[1];return g>d?s=d+10:s=d-g-10,b>m?c=5:c=m-b,[s,c]}},series:[{name:"",type:"pie",radius:e.radius,center:e.pieCenter,roseType:e.roseType,itemStyle:{borderRadius:3,borderColor:"transparent",borderWidth:5},data:e.data,label:{show:e.showLabel,formatter:e.labelFormatter,overflow:"break",textBorderType:"none",color:"#BAC3C4",distanceToLabelLine:40,padding:[2,0]},labelLine:{length:20,length2:0,lineStyle:{color:"rgba(255,255,255,0.4)",type:"dashed"},maxSurfaceAngle:80},padAngle:5,labelLayout:function(l){if(!e.showLabel)return{};const y=l.labelRect.x<r.getWidth()/2,n=l.labelLinePoints;return n[2][0]=y?l.labelRect.x:l.labelRect.x+l.labelRect.width,{labelLinePoints:n,verticalAlign:"bottom"}}}]};i&&r.setOption(i)};return v(()=>e.data,o=>{p()},{deep:!0}),v(()=>e.height,()=>{setTimeout(()=>{const o=document.getElementById(e.id);let r=f(o);r==null||r.resize()},100)}),T(()=>{p(),F(()=>{const o=document.getElementById(e.id);f(o).on("click",i=>{t("clickItem",i)})})}),(o,r)=>(B(),C("div",H,[I(E("div",{id:e.id,ref:"chart",style:L(`width: ${typeof e.width=="number"?e.width+"px":e.width}; height: ${typeof e.height=="number"?e.height+"px":e.height};`)},null,12,P),[[z,!h.value]]),h.value?(B(),C("div",{key:0,style:L(`width: ${typeof e.width=="number"?e.width+"px":e.width}; height: ${typeof e.height=="number"?e.height+"px":e.height};transform: scale(0.85);`)},[R(O)],4)):$("",!0)]))}});export{Z as _};
//# sourceMappingURL=EchartPieChart.vue_vue_type_script_setup_true_lang-58fa16af.js.map
