var f=(p,v,a)=>new Promise((l,c)=>{var r=t=>{try{n(a.next(t))}catch(_){c(_)}},d=t=>{try{n(a.throw(t))}catch(_){c(_)}},n=t=>t.done?l(t.value):Promise.resolve(t.value).then(r,d);n((a=a.apply(p,v)).next())});import{D as w}from"./DeviceStatusInfo3-c6f9bba6.js";import{a5 as U,_ as C}from"./index.js";import{a as K}from"./assign-37f1c13d.js";import{d as M,k as u,r as N,o as B,al as x,Z as h,_ as m,$ as s,f as y,u as L,aa as T,a5 as j,ad as q,ac as b}from"./vue-71d1abb3.js";import"./antd-15ac76ed.js";const z={class:"video-monitor"},E={class:"device-status-info-layout"},H={class:"content-layout"},Z={class:"data-box"},$={class:"search-box"},A={class:"list-box"},F={class:"device-tree-node"},G={key:0,class:"online-text"},J={key:1,class:"offline-text"},O=M({__name:"VideoMonitor",props:{searchStationInfo:{}},emits:["select"],setup(p,{emit:v}){const a=p;u("");const l=N({}),c=u(""),r=u([]);let d=0;const n=o=>U.post({url:"/baseset/videoInfo/listStationVideoTree",params:o},{}),t=o=>f(this,null,function*(){console.log("onDeviceSearch",o);const e=yield n({powerStationId:l.stationUUId,name:o});r.value=e.result.list,d=e.result.total});function _(o,e,k){v("select",e.node)}function I(o){return f(this,null,function*(){const e=yield n({powerStationId:o});r.value=e.result.list,d=e.result.total})}B(()=>{K(l,a.searchStationInfo),I(l.stationUUId)}),u([{title:"黑龙江绥化电站",key:"1",children:[{title:"仓库",key:"1-1",onlineStatus:1},{title:"大门",key:"1-2",onlineStatus:1},{title:"1#方阵",key:"1-3",onlineStatus:0}]}]);const S=u([]);return(o,e)=>{const k=x("a-input-search"),V=x("a-tree");return h(),m("div",z,[s("div",E,[y(w,{icon:"shipinjiankong",total:L(d),online:18,offline:3,onlineShow:!1,label:"视频监控"},null,8,["total"])]),s("div",H,[s("div",Z,[s("div",$,[y(k,{class:"operation-screen-input-search",value:c.value,"onUpdate:value":e[0]||(e[0]=i=>c.value=i),placeholder:"请输入关键词",style:{width:"100%"},onSearch:t},null,8,["value"])]),s("div",A,[y(V,{class:"operation-screen-tree",blockNode:"",selectedKeys:S.value,"onUpdate:selectedKeys":e[1]||(e[1]=i=>S.value=i),"tree-data":r.value,onSelect:_},{title:T(({onlineStatus:i,title:D,children:g})=>[s("div",F,[s("span",{class:j({"device-name":!g})},q(D),3),i===1?(h(),m("span",G,"在线")):b("",!0),i===0?(h(),m("span",J,"离线")):b("",!0)])]),_:1},8,["selectedKeys","tree-data"])])])])])}}});const ee=C(O,[["__scopeId","data-v-b72a1b31"]]);export{ee as default};
//# sourceMappingURL=VideoMonitor-7dfc3af5.js.map
