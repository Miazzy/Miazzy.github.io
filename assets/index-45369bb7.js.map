{"version":3,"file":"index-45369bb7.js","sources":["../../src/views/baseset/monitor/smartdevices/inspectioninstrument/index.ts"],"sourcesContent":["import { defHttp } from '/@/utils/http/axios';\nimport { BasicColumn } from '/@/components/Table';\nimport { useRender } from '@/components/Table';\nimport { reactive, ref } from 'vue';\nimport { useDictStoreWithOut } from '@/store/modules/dict';\n\nconst dictStore = useDictStoreWithOut();\nenum Api {\n  treeData = '/baseset/common/list-orgStationTree',\n  LIST_STATION_PERSON_URL = '/baseset/common/list-stationPerson',\n  LIST_ORG_TREE = '/system/org/list-tree',\n  areaList = '/baseset/inspectionInstrument/page',\n  insertUrl = '/baseset/inspectionInstrument/create',\n  updateUrl = '/baseset/inspectionInstrument/update',\n  deleteUrl = '/baseset/inspectionInstrument/delete',\n  getIndexUrl = '/baseset/inspectionInstrument/get',\n  exportExcel = '/baseset/inspectionInstrument/export-excel',\n  detailList = '/baseset/inspectionInstrument/detailList',\n  LIST_STATION_URL = '/baseset/common/list-station',\n  updateStatusIndexUrl = '/baseset/inspectionInstrument/updateStatus',\n}\n\nexport function getInspectionInstrumentListColumns(): BasicColumn[] {\n  return [\n    {\n      title: '电站',\n      dataIndex: 'stationName',\n      width: 160,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'left',\n    },\n    {\n      title: '资产编号',\n      dataIndex: 'assetCode',\n      width: 160,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'left',\n    },\n    {\n      title: '智能设备类型',\n      dataIndex: 'deviceType',\n      width: 160,\n      resizable: true,\n      sorter: true,\n    },\n    {\n      title: '设备编号',\n      dataIndex: 'deviceCode',\n      width: 160,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'left',\n    },\n    {\n      title: '品牌',\n      dataIndex: 'brand',\n      width: 160,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'left',\n    },\n    {\n      title: '型号',\n      dataIndex: 'model',\n      width: 160,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'left',\n    },\n    {\n      title: 'SIM卡号',\n      dataIndex: 'simNumber',\n      width: 160,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'left',\n    },\n    {\n      title: '购买日期',\n      dataIndex: 'purchaseDate',\n      width: 160,\n      customRender: ({ text }) => {\n        return useRender.renderDate(text, 'YYYY-MM-DD');\n      },\n      resizable: true,\n      sorter: true,\n    },\n    {\n      title: '启用日期',\n      dataIndex: 'startDate',\n      width: 160,\n      customRender: ({ text }) => {\n        return useRender.renderDate(text, 'YYYY-MM-DD');\n      },\n      resizable: true,\n      sorter: true,\n    },\n    {\n      title: '已启用天数',\n      dataIndex: 'useDay',\n      width: 160,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'right',\n    },\n    {\n      title: '有效期止',\n      dataIndex: 'endDate',\n      width: 160,\n      customRender: ({ text }) => {\n        return useRender.renderDate(text, 'YYYY-MM-DD');\n      },\n      resizable: true,\n      sorter: true,\n    },\n    {\n      title: '状态',\n      dataIndex: 'status',\n      width: 160,\n      resizable: true,\n      sorter: true,\n    },\n    {\n      title: '添加人',\n      dataIndex: 'creatorName',\n      width: 160,\n      resizable: true,\n      sorter: true,\n    },\n    {\n      title: '添加时间',\n      dataIndex: 'createTime',\n      width: 180,\n      customRender: ({ text }) => {\n        return useRender.renderDate(text, 'YYYY-MM-DD HH:mm');\n      },\n      resizable: true,\n      sorter: true,\n    },\n    {\n      title: '备注',\n      dataIndex: 'remark',\n      width: 160,\n      resizable: true,\n      sorter: true,\n      headAlign: 'center',\n      align: 'left',\n    },\n  ];\n}\n\n// 工作任务\nexport const detailColumns: BasicColumn[] = [\n  {\n    title: '电站',\n    dataIndex: 'stationName',\n    width: 140,\n  },\n  {\n    title: '生效日期  ',\n    dataIndex: 'startDate',\n    width: 220,\n  },\n  {\n    title: '截止日期',\n    dataIndex: 'endDate',\n    width: 220,\n  },\n  {\n    title: '创建人',\n    dataIndex: 'creatorName',\n    width: 220,\n  },\n  {\n    title: '创建时间',\n    dataIndex: 'createTime',\n    width: 220,\n    customRender: ({ text }) => {\n      return useRender.renderDate(text, 'YYYY-MM-DD HH:mm');\n    },\n  },\n];\n\nexport const detailTableProps: any = {\n  pagination: false,\n  striped: false,\n  useSearchForm: false,\n  showTableSetting: false,\n  bordered: true,\n  showIndexColumn: true,\n  canResize: false,\n};\n\n// 列表表头\n\nexport interface DeptListItem {\n  id: string;\n  orderNo: string;\n  createTime: string;\n  remark: string;\n  status: number;\n}\n\n// 启用、禁用\nexport const updateStatusIndex = (params) =>\n  defHttp.put(\n    {\n      url: Api.updateStatusIndexUrl,\n      params,\n    },\n    {},\n  );\n\n// 获取组织树\nexport const getOrgTree = (params) =>\n  defHttp.post(\n    {\n      url: Api.LIST_ORG_TREE,\n      params,\n    },\n    {},\n  );\n\n// 获取电站下的组织人员\nexport const getStationPerson = (params) =>\n  defHttp.post(\n    {\n      url: Api.LIST_STATION_PERSON_URL,\n      params,\n    },\n    {},\n  );\n// 获取\nexport const getIndex = (params) =>\n  defHttp.get(\n    {\n      url: Api.getIndexUrl,\n      params,\n    },\n    {},\n  );\n\n// 组织树数据\nexport const getTreeData = (params) =>\n  defHttp.post(\n    {\n      url: Api.treeData,\n      params,\n    },\n    {},\n  );\n//明细\nexport const getDetailList = (params) =>\n  defHttp.get(\n    {\n      url: Api.detailList,\n      params,\n    },\n    {},\n  );\n\n// 列表数据\nexport const getInspectionInstrumentList = (params) =>\n  defHttp.get(\n    {\n      url: Api.areaList,\n      params,\n    },\n    {},\n  );\n\n// 新增\nexport const insertInspectionInstrument = (params) =>\n  defHttp.post(\n    {\n      url: Api.insertUrl,\n      params,\n    },\n    { isOnlyResult: true },\n  );\n\n// 修改\nexport const updateInspectionInstrument = (params) =>\n  defHttp.put(\n    {\n      url: Api.updateUrl,\n      params,\n    },\n    {},\n  );\n\nexport const saveData = (params) => {\n  return insertInspectionInstrument(params);\n};\n\n// 删除\nexport const deleteInspectionInstrument = (params) =>\n  defHttp.delete({ url: Api.deleteUrl + '?id=' + params });\n\nexport async function getDic(type: string) {\n  const arr: any = [\n    {\n      dictType: '',\n      value: '',\n      label: '',\n      colorType: '',\n      cssClass: '',\n    },\n  ];\n  const map = await dictStore.fetchBackendData(type, {\n    type: type,\n  });\n  return arr.concat(map);\n}\n\n// 导出 Excel\nexport function exportExcel(params) {\n  return defHttp.get({ url: Api.exportExcel, params });\n}\n\n// Form表单对象\nexport const formState = reactive({\n  spinning: false,\n  id: '',\n});\n\nexport const getStation = (params) =>\n  defHttp.post(\n    {\n      url: Api.LIST_STATION_URL,\n      params,\n    },\n    {},\n  );\n"],"names":["useDictStoreWithOut","getInspectionInstrumentListColumns","text","useRender","detailColumns","detailTableProps","updateStatusIndex","params","defHttp","getIndex","getTreeData","getDetailList","getInspectionInstrumentList","insertInspectionInstrument","saveData","deleteInspectionInstrument","exportExcel","formState","reactive","getStation"],"mappings":"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"}