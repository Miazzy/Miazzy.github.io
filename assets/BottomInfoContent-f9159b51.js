var u=(o,c,s)=>new Promise((e,l)=>{var r=i=>{try{n(s.next(i))}catch(y){l(y)}},t=i=>{try{n(s.throw(i))}catch(y){l(y)}},n=i=>i.done?e(i.value):Promise.resolve(i.value).then(r,t);n((s=s.apply(o,c)).next())});import{a as b}from"./index.esm-c216ed00.js";import{d as v,Z as C,_ as h,$ as a,ad as d,a5 as I,r as m,w as $,o as x,f as p,aG as k,aH as S}from"./vue-71d1abb3.js";import{_ as g,ax as _}from"./index.js";import{o as B}from"./index-116b659b.js";import"./antd-15ac76ed.js";const V={class:"indicator"},M={class:"title"},w={class:"info"},D={class:"subtitle"},N=v({__name:"Indicator",props:{title:{type:String,default:""},value:{type:Number,default:0},subtitle:{type:String,default:""},percent:{type:[Number,String],default:""},color:{type:String,default:""}},emits:["clickValue"],setup(o,{emit:c}){const s=o,e=t=>{if(t>0)return"arrow-positive";if(t==0)return"zero";if(t<0)return"arrow-negative"},l=t=>{if(s.color)return{"text-red":s.color=="red","text-green":s.color=="green"};if(typeof t=="string"){let n=t.match(/^-?\d+(\.\d+)?/);return n!=null&&n[0]?e(n[0]):"no-data"}else if(typeof t=="number")return e(t)},r=()=>{c("clickValue")};return(t,n)=>(C(),h("div",V,[a("div",M,d(o.title),1),a("div",{class:"value",onClick:r},d(o.value),1),a("div",w,[a("span",D,d(o.subtitle),1),a("span",{class:I(["p-value",l(o.percent)])},d(o.percent),3)])]))}});const f=g(N,[["__scopeId","data-v-0f885b99"]]),R=o=>(k("data-v-380a99b6"),o=o(),S(),o),W={class:"bottom-info-content"},T={class:"element indicator-element"},z={class:"element indicator-element"},O={class:"element"},j={class:"security-box"},q={class:"value-text"},E=R(()=>a("div",{class:"title-text"},"安全运行(天)",-1)),G={class:"element indicator-element"},H={class:"element indicator-element"},P=v({__name:"BottomInfoContent",props:{searchInfoByTime:{type:Object,default:{}}},setup(o){const c=o,s=m({});$(()=>c.searchInfoByTime,t=>{b(s,t),r()});const e=m({curCapacity:0,yoyCapacity:0,hiddenCount:0,dealRate:0,runningDays:0,stationCount:0,yoy:0}),l=t=>u(this,null,function*(){t==="stationCount"?_("/bi/grid/capacity/statistics"):t==="hiddenCount"?_("/bi/hidden/index"):t==="faultWarning"&&_("/monitor/faultWarning")}),r=()=>u(this,null,function*(){const t=yield B({startMonth:s.startMonth,endMonth:s.endMonth});t&&(e.curCapacity=t.curCapacity||0,e.yoyCapacity=t.yoyCapacity||0,e.hiddenCount=t.hiddenCount||0,e.dealRate=t.dealRate||0,e.runningDays=t.runningDays||0,e.stationCount=t.stationCount||0,e.yoy=t.yoy||0)});return x(()=>u(this,null,function*(){})),(t,n)=>(C(),h("div",W,[a("div",T,[p(f,{title:"电站规模(座)",value:e.stationCount,subtitle:"同比新增(座)",percent:e.yoy,onClickValue:n[0]||(n[0]=i=>l("stationCount"))},null,8,["value","percent"])]),a("div",z,[p(f,{title:"光伏装机(MW)",value:e.curCapacity,subtitle:"同比新增(MW)",percent:e.yoyCapacity,onClickValue:n[1]||(n[1]=i=>l("stationCount"))},null,8,["value","percent"])]),a("div",O,[a("div",j,[a("div",q,d(e.runningDays),1),E])]),a("div",G,[p(f,{title:"待处理隐患(项)",value:e.hiddenCount,subtitle:"处理率",percent:`${e.dealRate}%`,color:"green",onClickValue:n[2]||(n[2]=i=>l("hiddenCount"))},null,8,["value","percent"])]),a("div",H,[p(f,{title:"故障告警(台)",value:e.alarmCount,subtitle:"相应时长(h)",percent:e.avgDuration,color:"green",onClickValue:n[3]||(n[3]=i=>l("faultWarning"))},null,8,["value","percent"])])]))}});const U=g(P,[["__scopeId","data-v-380a99b6"]]);export{U as default};
//# sourceMappingURL=BottomInfoContent-f9159b51.js.map
