{"version":3,"file":"ProcessInstanceBpmnViewer.vue_vue_type_style_index_0_lang-c6c1a54e.js","sources":["../../src/api/bpm/activity/index.ts","../../src/views/bpm/manage/processInstance/detail/ProcessInstanceBpmnViewer.vue"],"sourcesContent":["import { defHttp } from '/@/utils/http/axios';\n\n// 表单API\nexport enum BpmActivityApi {\n  ActivityList = '/bpm/activity/list',\n}\n\n// 获取Activity列表\nexport const getActivityList = async (params) => {\n  const requestParams = { url: BpmActivityApi.ActivityList, params };\n  return defHttp.post<any>(requestParams, {});\n};\n","<template>\n  <el-card v-loading=\"loading\" class=\"box-card\">\n    <template #header>\n      <span class=\"el-icon-picture-outline\">流程图</span>\n    </template>\n    <MyProcessViewer\n      key=\"designer\"\n      :activityData=\"activityList\"\n      :prefix=\"bpmnControlForm.prefix\"\n      :processInstanceData=\"processInstance\"\n      :taskData=\"tasks\"\n      :value=\"bpmnXml\"\n      v-bind=\"bpmnControlForm\"\n    />\n  </el-card>\n</template>\n<script lang=\"ts\" setup>\n  import { propTypes } from '@/utils/propTypes';\n  import { MyProcessViewer } from '@/components/Bpm/package';\n  import * as ActivityApi from '@/api/bpm/activity';\n  import { ref, onMounted } from 'vue';\n\n  defineOptions({ name: 'BpmProcessInstanceBpmnViewer' });\n\n  const props = defineProps({\n    loading: propTypes.bool, // 是否加载中\n    id: propTypes.string, // 流程实例的编号\n    processInstance: propTypes.any, // 流程实例的信息\n    tasks: propTypes.array, // 流程任务的数组\n    bpmnXml: propTypes.string, // BPMN XML\n  });\n\n  const bpmnControlForm = ref({\n    prefix: 'flowable',\n  });\n  const activityList = ref([]); // 任务列表\n\n  /** 初始化 */\n  onMounted(async () => {\n    if (props.id) {\n      activityList.value = await ActivityApi.getActivityList({\n        processInstanceId: props.id,\n      });\n    }\n  });\n</script>\n<style>\n  .box-card {\n    width: 100%;\n    margin-bottom: 20px;\n  }\n</style>\n"],"names":["getActivityList","params","__async","requestParams","defHttp","bpmnControlForm","ref","activityList","onMounted","props","ActivityApi.getActivityList"],"mappings":"6ZAQa,MAAAA,EAAyBC,GAAWC,EAAA,wBAC/C,MAAMC,EAAgB,CAAE,IAAK,qBAA6B,OAAAF,CAAO,EACjE,OAAOG,EAAQ,KAAUD,EAAe,CAAE,CAAA,CAC5C,iPCqBQE,EAAkBC,EAAI,CAC1B,OAAQ,UAAA,CACT,EACKC,EAAeD,EAAI,CAAA,CAAE,EAG3B,OAAAE,EAAU,IAAYN,EAAA,sBAChBO,EAAM,KACKF,EAAA,MAAQ,MAAMG,EAA4B,CACrD,kBAAmBD,EAAM,EAAA,CAC1B,EACH,EACD"}