var L=Object.defineProperty,V=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var B=(e,s,n)=>s in e?L(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,r=(e,s)=>{for(var n in s||(s={}))X.call(s,n)&&B(e,n,s[n]);if(v)for(var n of v(s))Z.call(s,n)&&B(e,n,s[n]);return e},x=(e,s)=>V(e,z(s));import{B as q}from"./index-316f6ffb.js";import{u as F,a_ as G,aX as J,cc as Q,i as C,bh as T,aK as U,b as Y}from"./index.js";import{bK as M,H as ee}from"./antd-15ac76ed.js";import{d as S,k as O,e as g,u as t,f as u,a7 as I,i as te,H as se,g as ne,Z as oe,a9 as re,aa as ae}from"./vue-71d1abb3.js";import{getDescSchema as ce}from"./data-5d11b497.js";function ie(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!te(e)}const le={useCollapse:{type:Boolean,default:!0},title:{type:String,default:""},size:{type:String,validator:e=>["small","default","middle",void 0].includes(e),default:"small"},bordered:{type:Boolean,default:!0},column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:{type:Object}},ue=S({name:"Description",props:le,emits:["register"],setup(e,{slots:s,emit:n}){const i=O(null),{prefixCls:y}=F("description"),p=G(),d=g(()=>r(r({},e),t(i))),h=g(()=>x(r({},t(d)),{title:void 0})),$=g(()=>!!t(d).title),k=g(()=>r({canExpand:!1},t(h).collapseOptions)),E=g(()=>r(r({},t(p)),t(h)));function R(o){i.value=r(r({},t(i)),o)}function A({label:o,labelMinWidth:f,labelStyle:a}){if(!a&&!f)return o;const c=x(r({},a),{minWidth:`${f}px `});return u("div",{style:c},[o])}function N(){const{schema:o,data:f}=t(h);return t(o).map(a=>{const{render:c,field:b,span:H,show:_,contentMinWidth:P}=a;if(_&&C(_)&&!_(f))return null;const w=()=>{var j;const l=(j=t(h))==null?void 0:j.data;if(!l)return null;const m=ee(l,b);return m&&!se(l).hasOwnProperty(b)?C(c)?c("",l):"":C(c)?c(m,l):m!=null?m:""},K=P;return u(M.Item,{label:A(a),key:b,span:H},{default:()=>{if(!P)return w();const l={minWidth:`${K}px`};return u("div",{style:l},[w()])}})}).filter(a=>!!a)}const D=()=>{let o;return u(M,I({class:`${y}`},t(E)),ie(o=N())?o:{default:()=>[o]})},W=()=>{const o=e.useCollapse?D():u("div",null,[D()]);if(!e.useCollapse)return o;const{canExpand:f,helpMessage:a}=t(k),{title:c}=t(d);return u(Q,{title:c,canExpan:f,helpMessage:a},{default:()=>o,action:()=>J(s,"action")})};return n("register",{setDescProps:R}),()=>t($)?W():D()}});function pe(e){if(!ne())throw new Error("useDescription() can only be used inside setup() or functional components!");const s=O(null),n=O(!1);function i(p){t(n)&&T()||(s.value=p,e&&p.setDescProps(e),n.value=!0)}return[i,{setDescProps:p=>{var d;(d=t(s))==null||d.setDescProps(p)}}]}const de=U(ue),_e=S({__name:"DetailModal",props:{info:{type:Object,default:null}},setup(e){const{t:s}=Y(),[n]=pe({column:2,schema:ce()});return(i,y)=>(oe(),re(t(q),I({width:800,title:t(s)("sys.errorLog.tableActionDesc")},i.$attrs),{default:ae(()=>[u(t(de),{data:e.info,onRegister:t(n)},null,8,["data","onRegister"])]),_:1},16,["title"]))}});export{_e as _};
//# sourceMappingURL=DetailModal.vue_vue_type_script_setup_true_lang-e64c9bdc.js.map
