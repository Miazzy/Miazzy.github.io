{"version":3,"file":"ThemePicker-6b6b6e9c.js","sources":["../../src/layouts/default/setting/components/ThemePicker.vue"],"sourcesContent":["<!--\n * @Description: \n * @Date: 2023-08-18 16:28:56\n * @LastEditTime: 2023-08-22 13:39:33\n * @FilePath: \\frontdemo\\src\\layouts\\default\\setting\\components\\ThemePicker.vue\n-->\n<template>\n  <div class=\"theme-picker\">\n    <template v-for=\"(item, index) in currentThemeList || []\" :key=\"index\">\n      <Tooltip :title=\"item.title\" placement=\"bottom\">\n        <div\n          @click=\"handler(item)\"\n          class=\"theme-picker-item\"\n          :class=\"{ active: currentTheme === item.themeName }\"\n          :style=\"{ backgroundColor: item.color }\"\n        ></div>\n      </Tooltip>\n    </template>\n  </div>\n</template>\n<script lang=\"ts\">\n  import { defineComponent, ref, watch, unref } from 'vue';\n  import { Tooltip } from 'ant-design-vue';\n  import { themeList } from '../enum';\n  import { useRootSetting } from '/@/hooks/setting/useRootSetting';\n  import { sendThemeMessage } from '/@/utils/theme';\n\n  export default defineComponent({\n    name: 'ThemePicker',\n    components: { Tooltip },\n    setup() {\n      const { getDarkMode } = useRootSetting();\n      let currentThemeList = ref([]);\n      currentThemeList.value = themeList.filter((item) => {\n        return item.mode === getDarkMode.value;\n      });\n      let currentThemeVal = localStorage.getItem('THEME') || currentThemeList.value[0].themeName;\n      let currentTheme = ref(currentThemeVal);\n      localStorage.setItem('THEME', unref(currentTheme));\n      sendThemeMessage('class', `${unref(currentTheme)} my-layout`);\n\n      const handler = (item: (typeof themeList)[0]) => {\n        if (item.themeName === currentTheme.value) return;\n        currentTheme.value = item.themeName;\n        localStorage.setItem('THEME', unref(currentTheme));\n        sendThemeMessage('class', `${item.themeName} my-layout`);\n      };\n\n      watch(\n        () => getDarkMode.value,\n        (v: string) => {\n          currentThemeList.value = themeList.filter((item) => {\n            return item.mode === getDarkMode.value;\n          });\n          currentTheme.value = currentThemeList.value[0].themeName;\n          sendThemeMessage('class', `${currentThemeList.value[0].themeName} my-layout`);\n          localStorage.setItem('THEME', unref(currentTheme));\n        },\n      );\n\n      return {\n        currentTheme,\n        handler,\n        currentThemeList,\n      };\n    },\n  });\n</script>\n<style lang=\"less\" scoped>\n  .theme-picker {\n    display: flex;\n\n    .theme-picker-item {\n      width: 24px;\n      height: 24px;\n      margin-right: 8px;\n      border-radius: 2px;\n\n      &.active {\n        border: 2px solid #0960bd;\n      }\n    }\n  }\n</style>\n"],"names":["_sfc_main","defineComponent","Tooltip","getDarkMode","useRootSetting","currentThemeList","ref","themeList","item","currentThemeVal","currentTheme","unref","sendThemeMessage","handler","watch","v","_component_Tooltip","_resolveComponent","_openBlock","_createElementBlock","_hoisted_1","_Fragment","_renderList","_ctx","index","_createBlock","_withCtx","_createElementVNode","$event","_normalizeClass"],"mappings":"oQA2BE,MAAAA,EAAeC,EAAgB,CAC7B,KAAM,cACN,WAAY,CAAE,QAAAC,CAAQ,EACtB,OAAQ,CACA,KAAA,CAAE,YAAAC,GAAgBC,IACpB,IAAAC,EAAmBC,EAAI,CAAA,CAAE,EAC7BD,EAAiB,MAAQE,EAAU,OAAQC,GAClCA,EAAK,OAASL,EAAY,KAClC,EACG,IAAAM,EAAkB,aAAa,QAAQ,OAAO,GAAKJ,EAAiB,MAAM,CAAC,EAAE,UAC7EK,EAAeJ,EAAIG,CAAe,EACtC,aAAa,QAAQ,QAASE,EAAMD,CAAY,CAAC,EACjDE,EAAiB,QAAS,GAAGD,EAAMD,CAAY,CAAC,YAAY,EAEtD,MAAAG,EAAWL,GAAgC,CAC3CA,EAAK,YAAcE,EAAa,QACpCA,EAAa,MAAQF,EAAK,UAC1B,aAAa,QAAQ,QAASG,EAAMD,CAAY,CAAC,EACjDE,EAAiB,QAAS,GAAGJ,EAAK,SAAS,YAAY,EAAA,EAGzD,OAAAM,EACE,IAAMX,EAAY,MACjBY,GAAc,CACbV,EAAiB,MAAQE,EAAU,OAAQC,GAClCA,EAAK,OAASL,EAAY,KAClC,EACDO,EAAa,MAAQL,EAAiB,MAAM,CAAC,EAAE,UAC/CO,EAAiB,QAAS,GAAGP,EAAiB,MAAM,CAAC,EAAE,SAAS,YAAY,EAC5E,aAAa,QAAQ,QAASM,EAAMD,CAAY,CAAC,CACnD,CAAA,EAGK,CACL,aAAAA,EACA,QAAAG,EACA,iBAAAR,CAAA,CAEJ,CACF,CAAC,uEA3DD,MAAAW,EAAAC,EAWM,SAXN,EASc,OAAAC,EAAA,EAAAC,EAAA,MAAAC,EAAA,EAAAF,EARoD,EAAK,EAAAC,EAAAE,EAAA,KAAAC,EAAAC,EAAA,kBAAA,CAAA,EAAA,CAAAf,EAAAgB,KACpDN,EAAY,EAAAO,EAAAT,EAAA,CAAE,IAAAQ,EAAA,MAAAhB,EAAA,2BAExB,QAAAkB,EAAK,IAAE,CAAAC,EACH,MAAC,CAEL,QAAKC,GAAAL,EAAA,QAAAf,CAAA,EAAA,MAAAqB,EAAA,CAAA,oBAAA,CAAA,OAAAN,EAAA,eAAAf,EAAA,SAAA,CAAA,CAAA"}