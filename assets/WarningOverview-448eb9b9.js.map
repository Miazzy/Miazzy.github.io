{"version":3,"file":"WarningOverview-448eb9b9.js","sources":["../../src/views/da/stationOperation/monitor/WarningOverview.vue"],"sourcesContent":["<template>\n  <div class=\"warning-overview\">\n    <SmallModule title=\"告警总览\">\n      <!-- <template #titleRight>\n        <div class=\"detail-text\"><span class=\"text\">详情</span><span class=\"arrow\">&gt;</span></div>\n      </template> -->\n      <template #content>\n        <div class=\"content-layout\">\n          <div class=\"data-layout\">\n            <DataIndicator label=\"实时告警\" :value=\"alarmData.ss_count\" color=\"#F7C824\" />\n            <DataIndicator label=\"通讯中断\" :value=\"alarmData.tx_count\" color=\"#FF4F38\" />\n          </div>\n          <div class=\"device-layout\">\n            <DeviceNumberStatistics\n              class=\"device-item\"\n              icon=\"zuchuannibianqi\"\n              deviceName=\"逆变器\"\n              :value=\"alarmData.invert_count\"\n              unit=\"台\"\n            />\n            <DeviceNumberStatistics\n              class=\"device-item\"\n              icon=\"huiliuxiang\"\n              deviceName=\"汇流箱\"\n              :value=\"alarmData.combinerdc_count\"\n              unit=\"台\"\n              :pValue=\"30\"\n            />\n            <DeviceNumberStatistics\n              class=\"device-item\"\n              icon=\"xiangbian\"\n              deviceName=\"箱变\"\n              :value=\"alarmData.transformer_count\"\n              unit=\"台\"\n            />\n            <DeviceNumberStatistics\n              class=\"device-item\"\n              icon=\"BMS\"\n              deviceName=\"BMS\"\n              :value=\"alarmData.pcs_count\"\n              unit=\"台\"\n            />\n            <DeviceNumberStatistics\n              class=\"device-item\"\n              icon=\"cekong\"\n              deviceName=\"测控\"\n              :value=\"alarmData.mc_count\"\n              unit=\"台\"\n            />\n            <DeviceNumberStatistics\n              class=\"device-item\"\n              icon=\"zuchuan\"\n              deviceName=\"组串\"\n              :value=\"alarmData.pv_count\"\n              unit=\"台\"\n            />\n          </div>\n        </div>\n      </template>\n    </SmallModule>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import SmallModule from '/@/components/Framework/OperationScreen/SmallModule.vue';\n  import DataIndicator from '/@/components/Framework/OperationScreen/DataIndicator.vue';\n  import DeviceNumberStatistics from '/@/components/Framework/OperationScreen/DeviceNumberStatistics.vue';\n  import { getStationAlarmData } from './data';\n  import { reactive, UnwrapRef, onMounted } from 'vue';\n  import { assign } from 'lodash-es';\n\n  //搜索参数\n  const searchInfo: UnwrapRef<any> = reactive({});\n  interface Props {\n    monitorSearchInfo?: {};\n  }\n  const props = withDefaults(defineProps<Props>(), {});\n\n  const alarmData = reactive<any>({});\n\n  onMounted(() => {\n    assign(searchInfo, props.monitorSearchInfo);\n    queryAlarmData();\n  });\n\n  const queryAlarmData = async () => {\n    let data = await getStationAlarmData(searchInfo);\n    if (data.result) {\n      assign(alarmData, data.result);\n    }\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .detail-text {\n    padding: 0.2rem 0.16rem 0 0;\n    color: #fff;\n    font-size: 0.12rem;\n    line-height: 1;\n    cursor: pointer;\n\n    .text {\n      margin-right: 0.04rem;\n    }\n\n    .arrow {\n      opacity: 0.6;\n    }\n  }\n\n  .content-layout {\n    height: 100%;\n    margin-top: -0.2rem;\n    padding: 0 0.14rem;\n\n    .data-layout {\n      display: flex;\n      align-items: flex-end;\n      justify-content: space-between;\n      height: 25.18%;\n      padding: 0 1.3rem;\n    }\n\n    .device-layout {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-between;\n      padding: 0.08rem 0.08rem 0;\n\n      .device-item {\n        margin-bottom: 0.08rem;\n      }\n    }\n  }\n</style>\n"],"names":["searchInfo","reactive","alarmData","onMounted","assign","props","queryAlarmData","__async","data","getStationAlarmData"],"mappings":"owBAwEQA,EAA6BC,EAAS,CAAA,CAAE,EAMxCC,EAAYD,EAAc,CAAA,CAAE,EAElCE,EAAU,IAAM,CACPC,EAAAJ,EAAYK,EAAM,iBAAiB,EAC3BC,GAAA,CAChB,EAED,MAAMA,EAAiB,IAAYC,EAAA,sBAC7B,IAAAC,EAAO,MAAMC,EAAoBT,CAAU,EAC3CQ,EAAK,QACAJ,EAAAF,EAAWM,EAAK,MAAM,CAC/B"}