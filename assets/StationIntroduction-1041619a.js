var f=(_,s,n)=>new Promise((p,y)=>{var v=t=>{try{h(n.next(t))}catch(r){y(r)}},m=t=>{try{h(n.throw(t))}catch(r){y(r)}},h=t=>t.done?p(t.value):Promise.resolve(t.value).then(v,m);h((n=n.apply(_,s)).next())});import{S as M}from"./SmallModule-04781cfc.js";import{ac as D,_ as W}from"./index.js";import{d as B,Z as o,_ as c,$ as e,ad as i,f as g,u as x,r as N,k as I,o as V,aa as q,F as S,ae as $,a5 as E,ac as F,a9 as R}from"./vue-71d1abb3.js";import{g as b}from"./index-8c718dee.js";import{a as T}from"./data-52a0c3e0.js";import{w as k}from"./weatherIcon-14d6bf6f.js";import{a as j}from"./assign-37f1c13d.js";import"./antd-15ac76ed.js";const z={class:"weather-item"},L={key:0,class:"today-layout bg"},P={class:"day-text"},Z={class:"weather-info"},A={class:"weather-icon"},G={class:"weather-data"},H={class:"temperature-text"},J={class:"weather-text"},K={key:1,class:"other-layout bg"},O={class:"day-text"},Q={class:"weather-icon"},U={class:"temperature-text"},X=B({__name:"WeatherItem",props:{type:{type:String,default:""},day:{type:String,default:""},weatherIcon:{type:String,default:""},temperature:{type:String,default:""},description:{type:String,default:""}},setup(_){const s=_;return(n,p)=>(o(),c("div",z,[s.type==="today"?(o(),c("div",L,[e("div",P,i(s.day),1),e("div",Z,[e("div",A,[g(x(D),{class:"iconfont",name:s.weatherIcon,style:{width:"0.5rem",height:"0.5rem"}},null,8,["name"])]),e("div",G,[e("div",H,i(s.temperature),1),e("div",J,i(s.description),1)])])])):(o(),c("div",K,[e("div",O,i(s.day),1),e("div",Q,[g(x(D),{class:"iconfont",name:s.weatherIcon,style:{width:"0.24rem",height:"0.24rem"}},null,8,["name"])]),e("div",U,i(s.temperature),1)]))]))}});const Y=W(X,[["__scopeId","data-v-e0ce6b45"]]),tt="/assets/station-intro-60a99511.jpg",et={class:"station-Introduction"},at={class:"content-layout"},st={class:"station-info-box"},ot={class:"left"},nt=["src"],ct={class:"right"},rt={class:"label-text"},it={class:"value-text-outer"},dt={class:"value-text"},lt={class:"weather-box"},_t=B({__name:"StationIntroduction",props:{overviewSearchInfo:{}},setup(_){const s=_,n=N({}),p=I([]),y=()=>f(this,null,function*(){var d;let t=yield b({lastDay:"7d"}),r=yield b({lastDay:"now"}),a=[];if(r.weather.now){let u=r.weather.now,w={weekDay:"今天",iconDay:u.icon,temp:`${u.temp}℃`,textDay:u.text,type:"today"};a.push(w)}if(((d=t.weather.daily)==null?void 0:d.length)>5){let u=t.weather.daily.splice(1,4);const w=["周日","周一","周二","周三","周四","周五","周六"];u.forEach(l=>{let C=new Date(l.fxDate);l.weekDay=w[C.getDay()],l.temp=l.tempMin+"~"+l.tempMax+"℃",a.push(l)})}p.value=a}),v=t=>t.iconDay&&k[t.iconDay]?k[t.iconDay]:"tianqi-wu2";V(()=>{j(n,s.overviewSearchInfo),h(),y()});const m=I({}),h=()=>f(this,null,function*(){let t=yield T(n);t.result&&(m.value=t.result)});return(t,r)=>(o(),c("div",et,[g(M,{title:"电站简介"},{content:q(()=>[e("div",at,[e("div",st,[e("div",ot,[e("img",{class:"pic",src:x(tt)},null,8,nt)]),e("div",ct,[(o(!0),c(S,null,$(m.value,(a,d)=>(o(),c("div",{key:d},[a.label!=="负责人"?(o(),c("div",{key:0,class:E(["info-item",{"address-text":a.label==="电站地址"}])},[e("span",rt,i(a.label)+"：",1),e("div",it,[e("span",dt,i(a.value),1)])],2)):F("",!0)]))),128))])]),e("div",lt,[(o(!0),c(S,null,$(p.value,(a,d)=>(o(),R(Y,{key:d,day:a.weekDay,weatherIcon:v(a),temperature:a.temp,description:a.textDay,type:a.type},null,8,["day","weatherIcon","temperature","description","type"]))),128))])])]),_:1})]))}});const xt=W(_t,[["__scopeId","data-v-c672afb2"]]);export{xt as default};
//# sourceMappingURL=StationIntroduction-1041619a.js.map
