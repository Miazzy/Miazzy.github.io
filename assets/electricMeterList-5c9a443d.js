var x=(d,m,t)=>new Promise((o,l)=>{var v=e=>{try{c(t.next(e))}catch(i){l(i)}},r=e=>{try{c(t.throw(e))}catch(i){l(i)}},c=e=>e.done?o(e.value):Promise.resolve(e.value).then(v,r);c((t=t.apply(d,m)).next())});import L from"./deviceItem-f8cae721.js";import{l as M}from"./monitorApi-44e70004.js";import{aD as N,aH as S}from"./antd-15ac76ed.js";import{d as w,k as p,r as g,w as B,o as O,Z as u,_ as b,$ as s,ad as f,f as T,aa as I,F as k,ae as y,a9 as C,u as D,a5 as V}from"./vue-71d1abb3.js";import{_ as F}from"./index.js";const P={class:"combiner-box-list"},j={class:"combiner-box-header"},z={class:"header-left"},E={class:"status-checkbox-group-box"},G={class:"status-label-text"},H={class:"combiner-box-content"},K={class:"combiner-box-list-box"},U=w({__name:"electricMeterList",props:{stationId:String,areaId:String},setup(d,{expose:m}){const t=d,o=p([{label:"正常",value:"normal",number:0},{label:"告警",value:"alarm",number:0},{label:"通讯中断",value:"interrupt",number:0}]),l=p(["normal","alarm","interrupt"]),v=n=>{console.log("checkedValue",n),e()},r=g({}),c=p([]),e=()=>x(this,null,function*(){let n=yield M({stationId:t.stationId,areaId:t.areaId,abnormalType:l.value,deviceType:"TransformerMeter"});Object.assign(r,n.abnormalInfo),o.value[0].number=r.normalNum,o.value[1].number=r.alarmNum,o.value[2].number=r.interruptNum,c.value=n.dataList}),i=g({deviceLabelKey:"esn"});return B(()=>t.areaId,n=>{n&&e()}),O(()=>{}),m({statusOptions:o}),(n,h)=>(u(),b("div",P,[s("div",j,[s("div",z,[s("div",null,"箱变电表："+f(r.deviceNum)+"台",1),s("div",E,[T(D(S),{value:l.value,"onUpdate:value":h[0]||(h[0]=a=>l.value=a),onChange:v},{default:I(()=>[(u(!0),b(k,null,y(o.value,(a,_)=>(u(),C(D(N),{key:_,value:a.value},{default:I(()=>[s("span",G,f(a.label),1),s("span",{class:V({"red-text":a.value!=="normal"&&a.number>0})},f(a.number),3)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])])]),s("div",H,[s("div",K,[(u(!0),b(k,null,y(c.value,(a,_)=>(u(),C(L,{class:"device-item-layout",options:i,key:_,data:a},null,8,["options","data"]))),128))])])]))}});const R=F(U,[["__scopeId","data-v-d1c12c0c"]]);export{R as default};
//# sourceMappingURL=electricMeterList-5c9a443d.js.map
