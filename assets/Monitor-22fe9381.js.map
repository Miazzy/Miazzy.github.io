{"version":3,"file":"Monitor-22fe9381.js","sources":["../../src/views/da/groupOperation/monitor/Monitor.vue"],"sourcesContent":["<template>\n  <div class=\"left-content\" :key=\"instanceLKey\">\n    <DeviceStatistics class=\"section-box top-section\" />\n    <GenerationRanking class=\"section-box middel-section\" />\n    <EnergyStorage class=\"section-box bottom-section\" />\n  </div>\n  <div class=\"middle-content\" :key=\"instanceTKey\">\n    <MiddleIndicator\n      icon=\"active-power\"\n      label=\"实时功率(MW)\"\n      :value=\"topIndexData.activePower == null ? 0 : topIndexData.activePower\"\n      vColor=\"#67C8FF\"\n    />\n    <MiddleIndicator\n      icon=\"max-active\"\n      label=\"峰值功率(MW)\"\n      :value=\"topIndexData.maxActive == null ? 0 : topIndexData.maxActive\"\n      vColor=\"#F4D038\"\n    />\n    <MiddleIndicator\n      icon=\"today-gen\"\n      label=\"今日发电量(万kWh)\"\n      :value=\"topIndexData.ppr == null ? 0 : topIndexData.ppr\"\n      vColor=\"#00BA24\"\n    />\n  </div>\n  <div class=\"right-content\" :key=\"instanceRKey\">\n    <WarningOverview class=\"section-box top-section\" />\n    <DispersionRatio class=\"section-box middel-section\" />\n    <GenerationTrend class=\"section-box bottom-section\" />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import { ref, reactive, UnwrapRef, onMounted } from 'vue';\n  import DeviceStatistics from './DeviceStatistics.vue';\n  import GenerationRanking from './GenerationRanking.vue';\n  import EnergyStorage from './EnergyStorage.vue';\n  import MiddleIndicator from '/@/components/Framework/OperationScreen/MiddleIndicator.vue';\n  import WarningOverview from './WarningOverview.vue';\n  import DispersionRatio from './DispersionRatio.vue';\n  import GenerationTrend from './GenerationTrend.vue';\n  import { getTopInfoData } from './data';\n  import { assign } from 'lodash-es';\n  import { buildUUID } from '@/utils/uuid';\n\n  const searchInfo: UnwrapRef<any> = reactive({});\n  const topIndexData = reactive<any>({});\n  const instanceLKey = ref(buildUUID());\n  const instanceTKey = ref(buildUUID());\n  const instanceRKey = ref(buildUUID());\n\n  // 更新组件函数\n  const handleUpdate = () => {\n    instanceLKey.value = buildUUID();\n    instanceTKey.value = buildUUID();\n    instanceRKey.value = buildUUID();\n  };\n\n  // 获取数据\n  const queryTopInfoData = async () => {\n    let data = await getTopInfoData(searchInfo);\n    if (data.result) {\n      assign(topIndexData, data.result);\n    }\n  };\n\n  defineExpose({\n    handleUpdate,\n  });\n\n  onMounted(() => {\n    searchInfo.statDimension = 'year';\n    searchInfo.year = '2023';\n    queryTopInfoData(); // 顶端指标\n  });\n</script>\n\n<style lang=\"less\" scoped>\n  .left-content {\n    display: flex;\n    position: absolute;\n    top: 0.9rem;\n    left: 0;\n    flex-direction: column;\n    width: 25vw;\n    height: calc(100vh - 0.9rem);\n    padding: 0 0.57vw 1.68vh 0.68vw;\n  }\n\n  .middle-content {\n    display: flex;\n    position: absolute;\n    top: 0.96rem;\n    left: 25vw;\n    justify-content: space-between;\n    width: 50vw;\n  }\n\n  .right-content {\n    display: flex;\n    position: absolute;\n    top: 0.9rem;\n    right: 0;\n    flex-direction: column;\n    width: 25vw;\n    height: calc(100vh - 0.9rem);\n    padding: 0 0.68vw 1.68vh 0.57vw;\n  }\n\n  .section-box {\n    flex: 1;\n    width: 100%;\n    height: 33.3333%;\n    overflow: hidden;\n\n    &.top-section {\n      padding-bottom: 0.62vh;\n    }\n\n    &.middel-section {\n      padding: 0.31vh 0;\n    }\n\n    &.bottom-section {\n      padding-top: 0.62vh;\n    }\n  }\n</style>\n"],"names":["searchInfo","reactive","topIndexData","instanceLKey","ref","buildUUID","instanceTKey","instanceRKey","handleUpdate","queryTopInfoData","__async","data","getTopInfoData","assign","__expose","onMounted"],"mappings":"2qCA8CQ,MAAAA,EAA6BC,EAAS,CAAA,CAAE,EACxCC,EAAeD,EAAc,CAAA,CAAE,EAC/BE,EAAeC,EAAIC,EAAA,CAAW,EAC9BC,EAAeF,EAAIC,EAAA,CAAW,EAC9BE,EAAeH,EAAIC,EAAA,CAAW,EAG9BG,EAAe,IAAM,CACzBL,EAAa,MAAQE,IACrBC,EAAa,MAAQD,IACrBE,EAAa,MAAQF,GAAU,EAI3BI,EAAmB,IAAYC,EAAA,sBAC/B,IAAAC,EAAO,MAAMC,EAAeZ,CAAU,EACtCW,EAAK,QACAE,EAAAX,EAAcS,EAAK,MAAM,CAClC,GAGW,OAAAG,EAAA,CACX,aAAAN,CAAA,CACD,EAEDO,EAAU,IAAM,CACdf,EAAW,cAAgB,OAC3BA,EAAW,KAAO,OACDS,GAAA,CAClB"}