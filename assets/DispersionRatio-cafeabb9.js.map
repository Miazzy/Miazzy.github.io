{"version":3,"file":"DispersionRatio-cafeabb9.js","sources":["../../src/views/da/stationOperation/monitor/DispersionRatio.vue"],"sourcesContent":["<template>\n  <div class=\"dispersion-ratio\">\n    <SmallModule title=\"离散率分析\">\n      <template #titleRight>\n        <div class=\"right-title-layout\">\n          <a-radio-group\n            class=\"operation-screen-radio-group\"\n            v-model:value=\"searchInfo.deviceType\"\n            size=\"small\"\n            @change=\"handleButtonChange\"\n          >\n            <a-radio-button value=\"StringFormation\">组串式逆变器</a-radio-button>\n            <a-radio-button value=\"CombinerDc\">直流汇流箱</a-radio-button>\n          </a-radio-group>\n        </div>\n      </template>\n      <template #content>\n        <div class=\"content-layout\">\n          <!-- <NtgaleChart\n            id=\"omChart\"\n            :width=\"`22.22vw`\"\n            :height=\"`23.85vh`\"\n            :radius=\"['30%', '80%']\"\n            :data=\"NtgaleData\"\n            :showLabel=\"true\"\n            labelFormatter=\"{b} ({c}台) {d}%\"\n          /> -->\n          <EchartPieChart\n            id=\"dis-stat-pie\"\n            :width=\"`22.1vw`\"\n            :height=\"`21.53vh`\"\n            :data=\"NtgaleData\"\n            :roseType=\"false\"\n            :radius=\"['44%', '63%']\"\n            showLabel\n            showLegend\n            :legendOptions=\"{ top: '90%', bottom: 'auto', left: 'center' }\"\n            :pieCenter=\"['50%', '46%']\"\n          />\n        </div>\n      </template>\n    </SmallModule>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import SmallModule from '/@/components/Framework/OperationScreen/SmallModule.vue';\n  import NtgaleChart from '/@/components/Framework/Chart/NtgaleChart.vue';\n  import EchartPieChart from '/@/components/Framework/Chart/EchartPieChart.vue';\n  import { ref, reactive, UnwrapRef, onMounted } from 'vue';\n  import { assign } from 'lodash-es';\n  import { getDispersionRatioData } from './data';\n\n  //搜索参数\n  const searchInfo: UnwrapRef<any> = reactive({});\n  interface Props {\n    monitorSearchInfo?: {};\n  }\n  const props = withDefaults(defineProps<Props>(), {});\n\n  onMounted(() => {\n    searchInfo.deviceType = 'StringFormation';\n    assign(searchInfo, props.monitorSearchInfo);\n    queryDispersionRatioData();\n  });\n\n  const handleButtonChange = (e: Event) => {\n    searchInfo.deviceType = e.target.value;\n    queryDispersionRatioData();\n  };\n\n  const NtgaleData = ref([]);\n\n  const queryDispersionRatioData = async () => {\n    let data = await getDispersionRatioData(searchInfo);\n    if (data.result) {\n      NtgaleData.value = data.result;\n    }\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .right-title-layout {\n    padding: 0 0.16rem;\n  }\n\n  .content-layout {\n    width: 100%;\n    height: 100%;\n    padding: 0 0.16rem;\n  }\n\n  .dispersion-ratio {\n    :deep(.no-data) {\n      height: 110%;\n    }\n  }\n</style>\n"],"names":["searchInfo","reactive","onMounted","assign","props","queryDispersionRatioData","handleButtonChange","e","NtgaleData","ref","__async","data","getDispersionRatioData"],"mappings":"00BAsDQA,EAA6BC,EAAS,CAAA,CAAE,EAM9CC,EAAU,IAAM,CACdF,EAAW,WAAa,kBACjBG,EAAAH,EAAYI,EAAM,iBAAiB,EACjBC,GAAA,CAC1B,EAEK,MAAAC,EAAsBC,GAAa,CAC5BP,EAAA,WAAaO,EAAE,OAAO,MACRF,GAAA,EAGrBG,EAAaC,EAAI,CAAA,CAAE,EAEnBJ,EAA2B,IAAYK,EAAA,sBACvC,IAAAC,EAAO,MAAMC,EAAuBZ,CAAU,EAC9CW,EAAK,SACPH,EAAW,MAAQG,EAAK,OAC1B"}