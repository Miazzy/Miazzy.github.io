{"version":3,"file":"ElecTrend-2b2c8c9d.js","sources":["../../src/views/da/stationOperation/overview/ElecTrend.vue"],"sourcesContent":["<template>\n  <div class=\"elec-trend\">\n    <SmallModule title=\"电量趋势(近12个月)\" position=\"right\">\n      <template #content>\n        <div class=\"content-layout\">\n          <div class=\"chart-layout\">\n            <EchartLineBarChart\n              :data=\"elecTrendChartData\"\n              :width=\"`5.4rem`\"\n              :height=\"`3.88rem`\"\n              :category=\"elecTrendChartData.categories\"\n              ybgcolor=\"#01B7D730\"\n              @clickItem=\"handlePowerContrast\"\n            />\n          </div>\n        </div>\n      </template>\n    </SmallModule>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import SmallModule from '/@/components/Framework/OperationScreen/SmallModule.vue';\n  import EchartLineBarChart from '/@/components/Framework/Chart/EchartLineBarChart.vue';\n  import { ref, reactive, UnwrapRef, onMounted } from 'vue';\n  import { getElecTrendData } from './data';\n  import { assign } from 'lodash-es';\n  import { addTabPage } from '/@/utils/route';\n\n  function handlePowerContrast(params) {\n    addTabPage('/bi/elec/powerContrast', '', {\n      dateType: 'month',\n      startDate: params.data.dateStr,\n      endDate: params.data.dateStr,\n    });\n  }\n\n  //搜索参数\n  const searchInfo: UnwrapRef<any> = reactive({});\n  interface Props {\n    overviewSearchInfo?: {};\n  }\n  const props = withDefaults(defineProps<Props>(), {});\n  onMounted(() => {\n    assign(searchInfo, props.overviewSearchInfo);\n    searchInfo.selectValue = 'theory';\n\n    queryElecTrendData();\n  });\n\n  const elecTrendChartData = ref({\n    lineData: [],\n    categories: [],\n    chartColors: [],\n  });\n\n  const queryElecTrendData = async () => {\n    let data = await getElecTrendData(searchInfo);\n    if (data.result) {\n      elecTrendChartData.value.lineData[0] = data.result.lineData;\n      elecTrendChartData.value.categories = data.result.categories;\n    }\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .content-layout {\n    height: 2.69rem;\n    padding: 0 0.14rem;\n\n    .chart-layout {\n      margin-top: -0.52rem;\n      transform: scale(0.8);\n      transform-origin: 0 0;\n    }\n  }\n</style>\n"],"names":["handlePowerContrast","params","addTabPage","searchInfo","reactive","onMounted","assign","props","queryElecTrendData","elecTrendChartData","ref","__async","data","getElecTrendData"],"mappings":"6yBA6BE,SAASA,EAAoBC,EAAQ,CACnCC,EAAW,yBAA0B,GAAI,CACvC,SAAU,QACV,UAAWD,EAAO,KAAK,QACvB,QAASA,EAAO,KAAK,OAAA,CACtB,CACH,CAGM,MAAAE,EAA6BC,EAAS,CAAA,CAAE,EAK9CC,EAAU,IAAM,CACPC,EAAAH,EAAYI,EAAM,kBAAkB,EAC3CJ,EAAW,YAAc,SAENK,GAAA,CACpB,EAED,MAAMC,EAAqBC,EAAI,CAC7B,SAAU,CAAC,EACX,WAAY,CAAC,EACb,YAAa,CAAC,CAAA,CACf,EAEKF,EAAqB,IAAYG,EAAA,sBACjC,IAAAC,EAAO,MAAMC,EAAiBV,CAAU,EACxCS,EAAK,SACPH,EAAmB,MAAM,SAAS,CAAC,EAAIG,EAAK,OAAO,SAChCH,EAAA,MAAM,WAAaG,EAAK,OAAO,WACpD"}