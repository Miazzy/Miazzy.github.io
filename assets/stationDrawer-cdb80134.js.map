{"version":3,"file":"stationDrawer-cdb80134.js","sources":["../../src/views/baseset/operation/powerstation/stationDrawer.vue"],"sourcesContent":["<template>\n  <PageWrapper\n    :detail=\"true\"\n    dense\n    contentFullHeight\n    fixedHeight\n    contentClass=\"fix-detail-page\"\n    style=\"position: relative\"\n  >\n    <div class=\"load\">\n      <a-spin :spinning=\"formState.spinning\" tip=\"Loading...\">\n        <div class=\"process-box\">\n          <!-- 操作按钮-->\n          <div class=\"header-box\">\n            <div class=\"header-left\">电站信息</div>\n            <div v-if=\"showPageFooter\" class=\"header-right\">\n              <a-button style=\"margin-right: 10px\" @click=\"handleCancel\">{{\n                t('common.cancelText')\n              }}</a-button>\n              <a-button\n                type=\"primary\"\n                @click=\"saveChangePowerStation\"\n                :loading=\"isLoading\"\n                :disabled=\"disabledInput\"\n              >\n                {{ t('common.saveText') }}</a-button\n              >\n            </div>\n          </div>\n          <div class=\"content\">\n            <a-form ref=\"formRef\" :model=\"formState\" labelAlign=\"right\" autocomplete=\"off\">\n              <a-card title=\"基本信息\" :bordered=\"false\">\n                <a-row>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"name\"\n                      label=\"电站\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请输入电站名称' }]\"\n                    >\n                      <a-input\n                        v-model:value=\"formState.name\"\n                        placeholder=\"请输入电站名称\"\n                        :disabled=\"disabledInput\"\n                      />\n                      <a-input disabled v-model:value=\"formState.id\" v-if=\"false\" />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"shortName\"\n                      label=\"电站简称\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请输入电站简称' }]\"\n                    >\n                      <a-input\n                        v-model:value=\"formState.shortName\"\n                        placeholder=\"请输入电站简称\"\n                        :disabled=\"disabledInput\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n                <a-row>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"code\"\n                      label=\"电站编码\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请输入电站编码' }]\"\n                    >\n                      <a-input\n                        v-model:value=\"formState.code\"\n                        placeholder=\"请输入电站编码\"\n                        :disabled=\"disabledInput\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"stationType\"\n                      label=\"电站类型\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请选择电站类型' }]\"\n                    >\n                      <DictSelectBox\n                        v-model:value=\"formState.stationType\"\n                        :type=\"`stationType`\"\n                        :style=\"`width: 100%`\"\n                        :disabled=\"disabledInput\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n                <a-row>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"orgName\"\n                      label=\"所属组织\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请选择所属组织' }]\"\n                    >\n                      <a-tree-select\n                        v-model:value=\"formState.orgName\"\n                        show-search\n                        style=\"width: 100%\"\n                        :dropdown-style=\"{ maxHeight: '400px', overflow: 'auto' }\"\n                        allow-clear\n                        tree-default-expand-all\n                        :tree-data=\"orgTreeData\"\n                        tree-node-filter-prop=\"label\"\n                        @change=\"handleChangeTree\"\n                        :disabled=\"disabledInput\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"plannedCapacity\"\n                      label=\"规划装机容量(MW):\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请输入规划装机容量' }]\"\n                    >\n                      <a-input\n                        v-model:value=\"formState.plannedCapacity\"\n                        placeholder=\"请输入规划装机容量\"\n                        :disabled=\"disabledInput\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n                <a-row>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"extent\"\n                      label=\"占地面积(亩)\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请输入占地面积' }]\"\n                    >\n                      <a-input\n                        v-model:value=\"formState.extent\"\n                        placeholder=\"请输入占地面积\"\n                        :disabled=\"disabledInput\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"altitude\"\n                      label=\"平均海拔(米)\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请输入平均海拔(米)' }]\"\n                    >\n                      <a-input\n                        v-model:value=\"formState.altitude\"\n                        placeholder=\"请输入平均海拔(米)\"\n                        :disabled=\"disabledInput\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n                <a-row>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"serviceLife\"\n                      label=\"设计运行年限\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请输入设计运行年限' }]\"\n                    >\n                      <a-input\n                        v-model:value=\"formState.serviceLife\"\n                        placeholder=\"请输入设计运行年限\"\n                        :disabled=\"disabledInput\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"stationStatus\"\n                      label=\"电站状态\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请选择电站状态' }]\"\n                    >\n                      <DictSelectBox\n                        v-model:value=\"formState.stationStatus\"\n                        :type=\"`stationStatus`\"\n                        :style=\"`width: 100%`\"\n                        :disabled=\"disabledInput\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n                <a-row>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"firstGridConnectionDate\"\n                      label=\"首次并网日期\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请选择首次并网日期' }]\"\n                    >\n                      <a-date-picker\n                        v-model:value=\"formState.firstGridConnectionDate\"\n                        format=\"YYYY-MM-DD\"\n                        value-format=\"YYYY-MM-DD\"\n                        :style=\"`width: 100%`\"\n                        :disabled=\"disabledInput\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"connectCapacity\"\n                      label=\"光伏并网容量(MW)\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: false }]\"\n                    >\n                      <a-input disabled v-model:value=\"formState.connectCapacity\" />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n                <a-row>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"accessCapacity\"\n                      label=\"储能并网容量(MW)\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: false }]\"\n                    >\n                      <a-input disabled v-model:value=\"formState.accessCapacity\" />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"longitude\"\n                      label=\"经度(°)\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true }]\"\n                    >\n                      <a-input v-model:value=\"formState.longitude\" :disabled=\"disabledInput\" />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n                <a-row>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"latitude\"\n                      label=\"纬度(°)\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true }]\"\n                    >\n                      <a-input v-model:value=\"formState.latitude\" :disabled=\"disabledInput\" />\n                    </a-form-item>\n                  </a-col>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"provinceAndCity\"\n                      label=\"省市区\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请选择省市区' }]\"\n                    >\n                      <a-cascader\n                        v-model:value=\"formState.provinceAndCity\"\n                        placeholder=\"请选择省市区\"\n                        change-on-select\n                        :options=\"cityOptions\"\n                        :disabled=\"disabledInput\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n                <a-row>\n                  <a-col v-show=\"true\" :span=\"12\">\n                    <a-form-item\n                      name=\"address\"\n                      label=\"详细地址\"\n                      :labelCol=\"{ class: 'detail-label' }\"\n                      :rules=\"[{ required: true, message: '请输入详细地址' }]\"\n                    >\n                      <a-input\n                        v-model:value=\"formState.address\"\n                        placeholder=\"请输入详细地址\"\n                        :disabled=\"disabledInput\"\n                      />\n                    </a-form-item>\n                  </a-col>\n\n                  <!-- <a-col v-show=\"true\" :span=\"12\">\n                <a-form-item\n                  name=\"address\"\n                  label=\"详细地址11\"\n                  :labelCol=\"{ span: 6 }\"\n                  :rules=\"[{ required: true, message: '请输入详细地址' }]\"\n                >\n                  <a-input\n                    v-model:value=\"formState.address\"\n                    placeholder=\"请输入详细地址\"\n                    :disabled=\"disabledInput\"\n                  />\n                </a-form-item>\n              </a-col> -->\n                </a-row>\n                <a-row>\n                  <a-col v-show=\"true\" :span=\"24\">\n                    <a-form-item name=\"remark\" label=\"备注\" :labelCol=\"{ class: 'detail-label' }\">\n                      <a-textarea\n                        v-model:value=\"formState.remark\"\n                        row=\"2\"\n                        :style=\"`width: 100%`\"\n                        :disabled=\"disabledInput\"\n                      />\n                    </a-form-item>\n                  </a-col>\n                </a-row>\n              </a-card>\n            </a-form>\n\n            <a-card title=\"附件上传\" :bordered=\"false\">\n              <UploadBox\n                :width=\"800\"\n                :height=\"550\"\n                :maxCount=\"20\"\n                :maxSize=\"100 * 1024 * 1024\"\n                :application=\"`base`\"\n                :module=\"`powerStation`\"\n                :vmode=\"formState.type != 'view' ? `box` : `view`\"\n                :bizId=\"formState.bizFileId\"\n              />\n            </a-card>\n\n            <!-- 运维记录 -->\n            <a-card :bordered=\"false\">\n              <BasicTable @register=\"registerOperationTable\" title=\"运维记录\">\n                <template #toolbar>\n                  <a-button\n                    type=\"primary\"\n                    @click=\"handleOpenModal('Operation')\"\n                    :preIcon=\"IconEnum.ADD\"\n                    :disabled=\"disabledInput\"\n                    >{{ t('common.action.create') }}</a-button\n                  >\n                </template>\n                <template #bodyCell=\"{ column, record }\">\n                  <template v-if=\"column.key === 'action'\">\n                    <TableAction\n                      :actions=\"[\n                        {\n                          icon: 'clarity:note-edit-line',\n                          tooltip: '编辑',\n                          ifShow: !disabledInput,\n                          onClick: handleEdit.bind(null, { type: 'Operation', data: record }),\n                        },\n                        {\n                          icon: 'ant-design:delete-outlined',\n                          color: 'error',\n                          tooltip: '删除',\n                          ifShow: !disabledInput,\n                          popConfirm: {\n                            title: '是否确认删除',\n                            placement: 'left',\n                            confirm: handleDeleted.bind(null, { type: 'Operation', data: record }),\n                          },\n                        },\n                      ]\"\n                    />\n                  </template>\n                </template>\n              </BasicTable>\n            </a-card>\n\n            <!--分期信息  -->\n            <a-card :bordered=\"false\">\n              <BasicTable @register=\"registerPeriodTable\" title=\"分期信息\">\n                <template #toolbar>\n                  <a-button\n                    type=\"primary\"\n                    @click=\"handleOpenModal('Period')\"\n                    :preIcon=\"IconEnum.ADD\"\n                    :disabled=\"disabledInput\"\n                    >{{ t('common.action.create') }}</a-button\n                  >\n                </template>\n                <template #bodyCell=\"{ column, record }\">\n                  <template v-if=\"column.key === 'action'\">\n                    <TableAction\n                      :actions=\"[\n                        {\n                          icon: 'clarity:note-edit-line',\n                          tooltip: '编辑',\n                          ifShow: !disabledInput,\n                          onClick: handleEdit.bind(null, { type: 'Period', data: record }),\n                        },\n                        {\n                          icon: 'ant-design:delete-outlined',\n                          color: 'error',\n                          tooltip: '删除',\n                          ifShow: !disabledInput,\n                          popConfirm: {\n                            title: '是否确认删除',\n                            placement: 'left',\n                            confirm: handleDeleted.bind(null, { type: 'Period', data: record }),\n                          },\n                        },\n                      ]\"\n                    />\n                  </template>\n                </template>\n              </BasicTable>\n            </a-card>\n\n            <!-- 并网信息 -->\n            <a-card :bordered=\"false\">\n              <BasicTable @register=\"registerGridTable\" title=\"并网信息\">\n                <template #toolbar>\n                  <a-button\n                    type=\"primary\"\n                    @click=\"handleOpenModal('Grid')\"\n                    :preIcon=\"IconEnum.ADD\"\n                    :disabled=\"disabledInput\"\n                    >{{ t('common.action.create') }}</a-button\n                  >\n                </template>\n                <template #bodyCell=\"{ column, record }\">\n                  <template v-if=\"column.key === 'action'\">\n                    <TableAction\n                      :actions=\"[\n                        {\n                          icon: 'clarity:note-edit-line',\n                          tooltip: '编辑',\n                          ifShow: !disabledInput,\n                          onClick: handleEdit.bind(null, { type: 'Grid', data: record }),\n                        },\n                        {\n                          icon: 'ant-design:delete-outlined',\n                          color: 'error',\n                          tooltip: '删除',\n                          ifShow: !disabledInput,\n                          popConfirm: {\n                            title: '是否确认删除',\n                            placement: 'left',\n                            confirm: handleDeleted.bind(null, { type: 'Grid', data: record }),\n                          },\n                        },\n                      ]\"\n                    />\n                  </template>\n                </template>\n              </BasicTable>\n            </a-card>\n          </div>\n        </div> </a-spin\n      >>\n    </div>\n\n    <!-- 运维弹窗页面 -->\n    <Dialog\n      v-model:visible=\"operationModal\"\n      :title=\"operationTitle\"\n      :maskClosable=\"false\"\n      @ok=\"handleSaveFrom('Operation')\"\n      @cancel=\"handleClosedModal('Operation')\"\n      :height=\"400\"\n      :width=\"600\"\n      smode=\"normal\"\n    >\n      <a-form ref=\"operationRef\" :model=\"operationState\">\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"companyName\"\n              label=\"运维公司\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true }]\"\n            >\n              <a-select\n                v-model:value=\"operationState.companyName\"\n                allowClear\n                :options=\"companyNameData\"\n                style=\"width: 320px\"\n                @change=\"handleChangeCompanyName\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"shortName\"\n              label=\"单位简称\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input\n                disabled\n                v-model:value=\"operationState.operationCompanyId\"\n                style=\"width: 320px\"\n                v-if=\"false\"\n              />\n              <a-input disabled v-model:value=\"operationState.shortName\" style=\"width: 320px\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"startDate\"\n              label=\"起始日期\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true }]\"\n            >\n              <a-date-picker\n                v-model:value=\"operationState.startDate\"\n                format=\"YYYY-MM-DD\"\n                value-format=\"YYYY-MM-DD\"\n                style=\"width: 320px\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"endDate\"\n              label=\"到期日期\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true }]\"\n            >\n              <a-date-picker\n                v-model:value=\"operationState.endDate\"\n                format=\"YYYY-MM-DD\"\n                value-format=\"YYYY-MM-DD\"\n                style=\"width: 320px\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"startMonth\"\n              label=\"起算月\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true }]\"\n            >\n              <a-date-picker\n                v-model:value=\"operationState.startMonth\"\n                value-format=\"YYYY-MM\"\n                picker=\"month\"\n                style=\"width: 320px\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n      </a-form>\n    </Dialog>\n\n    <!-- 分期弹窗页面 -->\n    <Dialog\n      v-model:visible=\"periodModal\"\n      :title=\"periodTitle\"\n      :maskClosable=\"false\"\n      @ok=\"handleSaveFrom('Period')\"\n      @cancel=\"handleClosedModal('Period')\"\n      :height=\"400\"\n      :width=\"600\"\n      smode=\"normal\"\n    >\n      <a-form ref=\"periodRef\" :model=\"periodState\" :bordered=\"false\">\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"name\"\n              label=\"期数\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true }]\"\n            >\n              <DictSelectBox :type=\"`periodNumber`\" v-model:value=\"periodState.name\" :width=\"320\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"buildScale\"\n              label=\"本期建设规模(MW)\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true }]\"\n            >\n              <a-input v-model:value=\"periodState.buildScale\" style=\"width: 320px\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"productDate\"\n              label=\"投产日期\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true }]\"\n            >\n              <a-date-picker\n                v-model:value=\"periodState.productDate\"\n                format=\"YYYY-MM-DD\"\n                value-format=\"YYYY-MM-DD\"\n                style=\"width: 320px\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"isGridAll\"\n              label=\"是否全并网\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true }]\"\n            >\n              <DictSelectBox\n                :type=\"`yes_or_no`\"\n                v-model:value=\"periodState.isGridAll\"\n                :width=\"320\"\n                @change=\"handleSelectChange\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"gridAllDate\"\n              label=\"全并网日期\"\n              :labelCol=\"{ span: 6 }\"\n              :required=\"requiredGidAllDate\"\n            >\n              <a-date-picker\n                v-model:value=\"periodState.gridAllDate\"\n                format=\"YYYY-MM-DD\"\n                value-format=\"YYYY-MM-DD\"\n                style=\"width: 320px\"\n                :disabled=\"disabledGidAllDate\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n      </a-form>\n    </Dialog>\n\n    <!-- 弹窗页面 -->\n    <Dialog\n      v-model:visible=\"gridModal\"\n      :title=\"gridTitle\"\n      :maskClosable=\"false\"\n      @ok=\"handleSaveFrom('Grid')\"\n      @cancel=\"handleClosedModal('Grid')\"\n      :height=\"600\"\n      :width=\"600\"\n      smode=\"normal\"\n    >\n      <a-form ref=\"gridRef\" :model=\"gridState\" :bordered=\"false\">\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"name\"\n              label=\"期数\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true }]\"\n            >\n              <a-input disabled v-model:value=\"gridState.name\" style=\"width: 320px\" />\n              <a-input disabled v-model:value=\"gridState.periodId\" v-if=\"false\" />\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"gridDate\"\n              label=\"并网日期\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true }]\"\n            >\n              <a-date-picker\n                v-model:value=\"gridState.gridDate\"\n                format=\"YYYY-MM-DD\"\n                value-format=\"YYYY-MM-DD\"\n                style=\"width: 320px\"\n                :disabled=\"disabledGrid\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n\n        <!-- <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"indexCapacity\"\n              label=\"指标容量(MW):\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true }]\"\n            >\n              <a-input\n                v-model:value=\"gridState.indexCapacity\"\n                placeholder=\"请输入指标容量\"\n                style=\"width: 320px\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row> -->\n\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"connectCapacity\"\n              label=\"光伏并网容量(MW):\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true }]\"\n            >\n              <a-input\n                v-model:value=\"gridState.connectCapacity\"\n                placeholder=\"请输入光伏并网容量\"\n                style=\"width: 320px\"\n                :disabled=\"disabledGrid\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"accessCapacity\"\n              label=\"储能并网容量(MW):\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: true }]\"\n            >\n              <a-input\n                v-model:value=\"gridState.accessCapacity\"\n                placeholder=\"请输入储能并网容量\"\n                style=\"width: 320px\"\n                :disabled=\"disabledGrid\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"componentVender\"\n              label=\"组件厂家\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input\n                v-model:value=\"gridState.componentVender\"\n                placeholder=\"请输入组件厂家\"\n                style=\"width: 320px\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"componentType\"\n              label=\"组件功率(W):\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input\n                v-model:value=\"gridState.componentType\"\n                placeholder=\"请输入组件功率\"\n                style=\"width: 320px\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"inverterVender\"\n              label=\"逆变器厂家\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input\n                v-model:value=\"gridState.inverterVender\"\n                placeholder=\"请输入逆变器厂家\"\n                style=\"width: 320px\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n\n        <a-row :gutter=\"24\">\n          <a-col v-show=\"true\" :span=\"24\">\n            <a-form-item\n              name=\"inverterType\"\n              label=\"逆变器型号\"\n              :labelCol=\"{ span: 6 }\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input\n                v-model:value=\"gridState.inverterType\"\n                placeholder=\"请输入逆变器型号\"\n                style=\"width: 320px\"\n              />\n            </a-form-item>\n          </a-col>\n        </a-row>\n      </a-form>\n    </Dialog>\n  </PageWrapper>\n</template>\n<script lang=\"ts\" setup>\n  import { ref, Ref, unref, reactive, UnwrapRef, onMounted } from 'vue';\n  import { useI18n } from '@/hooks/web/useI18n';\n  import { IconEnum } from '@/enums/appEnum';\n  import { useRouter } from 'vue-router';\n  import type { TreeSelectProps, FormInstance } from 'ant-design-vue';\n  import DictSelectBox from '@/components/Framework/Combox/DictSelectBox.vue';\n  import { BasicTable, useTable, TableAction } from '/@/components/Table';\n  import {\n    getOrgData,\n    getRelatedParty,\n    operationColumns,\n    periodColumns,\n    gridColumns,\n    saveOperation,\n    savePeriod,\n    saveGrid,\n    deleteOperationApi,\n    deletePeriodApi,\n    deleteGridApi,\n    getOperationList,\n    getPeriodList,\n    getGridList,\n    savePowerStation,\n    getPowerStation,\n    getRegionNameData,\n    getDoesItExistDayReprot,\n  } from './data';\n  import { message, CascaderProps } from 'ant-design-vue';\n  import { assign } from 'lodash-es';\n  import UploadBox from '@/components/Framework/Combox/UploadBox.vue';\n  import * as FileApi from '@/api/infra/file';\n  import { addTabAndClose } from '@/utils/route';\n  import { MsgManager } from '@/message/MsgManager';\n  import Dialog from '@/components/Framework/Modal/Dialog.vue';\n  import { PageWrapper } from '/@/components/Page';\n\n  const { t } = useI18n();\n  const router = useRouter();\n  const { currentRoute } = router;\n  const route = unref(currentRoute);\n\n  const query = route.query;\n  const disabledInput = ref<boolean>(true);\n  const isLoading = ref(false);\n  const showPageFooter: Ref = ref(true);\n\n  const orgTreeData = ref<TreeSelectProps['treeData']>();\n  const companyNameData = ref<any[]>([]);\n\n  const cityOptions = ref<CascaderProps['options']>();\n\n  const formRef = ref<FormInstance>();\n  const formState: UnwrapRef<any> = reactive({ spinning: false });\n\n  const operationModal = ref<boolean>(false);\n  const operationState: UnwrapRef<any> = reactive({});\n  const operationRef = ref<FormInstance>();\n  const operationTitle = ref('');\n\n  const periodModal = ref<boolean>(false);\n  const periodState: UnwrapRef<any> = reactive({});\n  const periodRef = ref<FormInstance>();\n  const periodTitle = ref('');\n\n  const gridModal = ref<boolean>(false);\n  const gridState: UnwrapRef<any> = reactive({});\n  const gridRef = ref<FormInstance>();\n  const gridTitle = ref('');\n\n  const disabledGrid = ref<boolean>(false);\n\n  const requiredGidAllDate = ref<boolean>(true);\n\n  const disabledGidAllDate = ref<boolean>(false);\n\n  const ifShow = ref<boolean>(true);\n\n  //代码启动加载\n  onMounted(async () => {\n    if (query.id) {\n      const res = await getPowerStation({ id: query.id });\n      if (res.result) {\n        assign(formState, res.result);\n        if (!formState.bizFileId) {\n          formState.bizFileId = formState.id;\n        }\n        getOperationReload();\n        getPeriodReload();\n        getGridReload();\n      }\n    } else {\n      getBizFileId();\n    }\n\n    formState.type = query.type;\n    initBasicFrom();\n    disabledInput.value = false;\n    if (query.type) {\n      disabledInput.value = true;\n    }\n    if (query.ifShow) {\n      ifShow.value = false;\n    }\n    initOrgTree();\n    initCompanyName();\n    initRegionName();\n  });\n\n  const getBizFileId = async () => {\n    FileApi.getBizId().then((res) => {\n      formState.bizFileId = res;\n    });\n  };\n\n  const initBasicFrom = async () => {\n    if (query.id) {\n      const res = await getPowerStation({ id: query.id });\n      if (res.result) {\n        assign(formState, res.result);\n      }\n    } else if (formState.id) {\n      const res = await getPowerStation({ id: formState.id });\n      if (res.result) {\n        assign(formState, res.result);\n      }\n    }\n  };\n\n  const initRegionName = async () => {\n    const regionList = await getRegionNameData();\n    if (regionList.result && regionList.result.length > 0) {\n      cityOptions.value = regionList.result;\n    }\n  };\n\n  //往来单位初始化\n  const initCompanyName = async () => {\n    const companyList = await getRelatedParty({ partyTypeCodes: 'operationCompany' });\n    if (companyList && companyList.length > 0) {\n      companyList.forEach((item) => {\n        companyNameData.value.push({ value: item.name, lable: item.id, short: item.shortName });\n      });\n    }\n  };\n\n  //组织树初始化\n  const initOrgTree = async () => {\n    const typeList = await getOrgData({\n      // orgId: '91EEFF16B1FF4F5CBF5CECDB928689DB',\n      orgKindIds: 'ogn,dpt',\n      showPosition: true,\n      status: 1,\n    });\n    orgTreeData.value = dig(typeList.result);\n  };\n\n  function dig(data) {\n    const list: TreeSelectProps['treeData'] = [];\n    for (let i = 0; i < data.length; i++) {\n      const item = data[i];\n      const treeNode: TreeSelectProps['treeData'][number] = {\n        label: item.name,\n        value: item.id,\n        disabled: item.orgKindId !== 'dpt',\n      };\n\n      if (item.children && item.children.length > 0) {\n        treeNode.children = dig(item.children);\n      }\n      list.push(treeNode);\n    }\n    return list;\n  }\n\n  function handleChangeTree(value, label) {\n    formState.orgId = value;\n    formState.orgName = label[0];\n  }\n\n  function handleChangeCompanyName(value, option) {\n    operationState.operationCompanyId = option.lable;\n    operationState.shortName = option.short;\n  }\n\n  const getOperationListParam = async () => {\n    let param = { stationId: formState.id };\n    let dataObj = [];\n    if (formState.id != undefined) {\n      dataObj = await getOperationList(param);\n    }\n    return dataObj;\n  };\n\n  //运维数据设置\n  const [registerOperationTable, { reload: getOperationReload }] = useTable({\n    // title: '运维记录',\n    api: getOperationListParam,\n    columns: operationColumns,\n    bordered: true,\n    pagination: false,\n    striped: false,\n    showTableSetting: false,\n    canResize: false,\n    immediate: false,\n    actionColumn: {\n      ifShow: ifShow,\n      width: 80,\n      title: '操作',\n      dataIndex: 'action',\n    },\n  });\n\n  const getPeriodListParam = async () => {\n    let param = { stationId: formState.id };\n    let dataObj = [];\n    if (formState.id != undefined) {\n      dataObj = await getPeriodList(param);\n    }\n    return dataObj;\n  };\n\n  const handleSelectChange = (value: string) => {\n    if (value === '1') {\n      requiredGidAllDate.value = true;\n      disabledGidAllDate.value = false;\n    } else {\n      requiredGidAllDate.value = false;\n      disabledGidAllDate.value = true;\n      periodState.gridAllDate = '';\n    }\n  };\n\n  //分期数据设置\n  const [registerPeriodTable, { getSelectRows: getPeriodSelectRows, reload: getPeriodReload }] =\n    useTable({\n      // title: '分期信息',\n      columns: periodColumns,\n      api: getPeriodListParam,\n      bordered: true,\n      pagination: false,\n      striped: false,\n      showTableSetting: false,\n      canResize: false,\n      immediate: false,\n      actionColumn: {\n        ifShow: ifShow,\n        width: 80,\n        title: '操作',\n        dataIndex: 'action',\n      },\n      rowSelection: { type: 'radio' },\n    });\n\n  const getGridListParam = async () => {\n    let param = { stationId: formState.id };\n    let dataObj = [];\n    if (formState.id != undefined) {\n      dataObj = await getGridList(param);\n    }\n    return dataObj;\n  };\n\n  //并网记录数据设置\n  const [registerGridTable, { reload: getGridReload }] = useTable({\n    // title: '并网记录',\n    columns: gridColumns,\n    api: getGridListParam,\n    bordered: true,\n    pagination: false,\n    striped: false,\n    showTableSetting: false,\n    canResize: false,\n    immediate: false,\n    actionColumn: {\n      ifShow: ifShow,\n      width: 80,\n      title: '操作',\n      dataIndex: 'action',\n    },\n    // rowSelection: { type: 'radio' },\n  });\n\n  //新增\n  function handleOpenModal(type: string) {\n    if (!formState.id) {\n      message.error('请先保存电站信息。');\n      return false;\n    }\n    if (type === 'Operation') {\n      operationRef.value?.resetFields();\n      operationModal.value = true;\n      //清空formb表单\n      operationState.operationCompanyId = '';\n      operationState.companyName = '';\n      operationState.shortName = '';\n      operationState.startDate = '';\n      operationState.endDate = '';\n      operationState.startMonth = '';\n      operationTitle.value = '添加运维记录';\n    }\n    if (type === 'Period') {\n      periodRef.value?.resetFields();\n      periodModal.value = true;\n      //清空表单\n      periodState.id = '';\n      periodState.name = '';\n      periodState.buildScale = '';\n      periodState.productDate = '';\n      periodState.isGridAll = '';\n      periodState.gridAllDate = '';\n      periodTitle.value = '添加分期信息';\n    }\n    if (type === 'Grid') {\n      disabledGrid.value = false;\n      const selectRows = getPeriodSelectRows();\n      if (selectRows.length == 0) {\n        message.error('请选择分期数据');\n        return false;\n      }\n      gridRef.value?.resetFields();\n      gridModal.value = true;\n      gridState.periodId = selectRows[0].id;\n      gridState.name = selectRows[0].name;\n\n      gridState.gridDate = '';\n      gridState.indexCapacity = '';\n      gridState.connectCapacity = '';\n      gridState.accessCapacity = '';\n      gridState.componentVender = '';\n      gridState.inverterVender = '';\n      gridState.componentType = '';\n      gridState.inverterType = '';\n      gridState.id = '';\n      gridTitle.value = '添加并网信息';\n    }\n  }\n\n  //保存\n  function handleSaveFrom(type: string) {\n    if (type === 'Operation') {\n      operationState.stationId = formState.id;\n      operationRef.value.validateFields().then(() => {\n        saveOperation(operationState).then(() => {\n          operationModal.value = false;\n          message.success('操作成功');\n          getOperationReload();\n          setTimeout(function () {\n            MsgManager.getInstance().sendMsg('power_station', {});\n          }, 100);\n        });\n      });\n    }\n    if (type === 'Period') {\n      periodState.stationId = formState.id;\n      periodRef.value.validateFields().then(() => {\n        savePeriod(periodState).then(() => {\n          periodRef.value?.resetFields();\n          periodModal.value = false;\n          message.success('操作成功');\n          getPeriodReload();\n          setTimeout(function () {\n            MsgManager.getInstance().sendMsg('power_station', {});\n          }, 100);\n        });\n      });\n    }\n    if (type === 'Grid') {\n      gridState.stationId = formState.id;\n\n      gridRef.value.validateFields().then(() => {\n        saveGrid(gridState).then(() => {\n          gridModal.value = false;\n          message.success('操作成功');\n          getGridReload();\n          getPeriodReload();\n          initBasicFrom();\n          setTimeout(function () {\n            MsgManager.getInstance().sendMsg('power_station', {});\n          }, 100);\n        });\n      });\n    }\n  }\n\n  //编辑\n  function handleEdit({ type, data }) {\n    if (type === 'Operation') {\n      operationModal.value = true;\n      operationTitle.value = '修改运维记录';\n      assign(operationState, data);\n    }\n    if (type === 'Period') {\n      periodModal.value = true;\n      assign(periodState, data);\n      periodTitle.value = '修改分期信息';\n\n      if (periodState.isGridAll === '1') {\n        requiredGidAllDate.value = true;\n        disabledGidAllDate.value = false;\n      } else {\n        requiredGidAllDate.value = false;\n        disabledGidAllDate.value = true;\n      }\n    }\n    if (type === 'Grid') {\n      gridModal.value = true;\n      disabledGrid.value = true;\n      assign(gridState, data);\n      gridTitle.value = '修改并网信息';\n    }\n  }\n\n  //删除\n  function handleDeleted({ type, data }) {\n    if (type === 'Operation') {\n      deleteOperationApi(data.id).then(() => {\n        getOperationReload();\n        setTimeout(function () {\n          MsgManager.getInstance().sendMsg('power_station', {});\n        }, 100);\n      });\n    }\n    if (type === 'Period') {\n      deletePeriodApi(data.id).then(() => {\n        getPeriodReload();\n        setTimeout(function () {\n          MsgManager.getInstance().sendMsg('power_station', {});\n        }, 100);\n      });\n    }\n    if (type === 'Grid') {\n      getDoesItExistDayReprot({ periodId: data.periodId, reportDay: data.gridDate }).then((res) => {\n        if (res.result.length > 0) {\n          message.error('并网日期内存在日报，无法删除。');\n          return false;\n        }\n        deleteGridApi(data.id).then(() => {\n          getGridReload();\n          getPeriodReload();\n          initBasicFrom();\n          setTimeout(function () {\n            MsgManager.getInstance().sendMsg('power_station', {});\n          }, 100);\n        });\n      });\n    }\n  }\n\n  //保存表单\n  async function saveChangePowerStation() {\n    formRef.value.validateFields().then(() => {\n      formState.spinning = true;\n      savePowerStation(formState)\n        .then((data) => {\n          formState.id = data;\n          message.success('操作成功');\n          // addTabPage('/baseset/operation/powerstation');\n          setTimeout(function () {\n            MsgManager.getInstance().sendMsg('power_station', {});\n          }, 100);\n          formState.spinning = false;\n        })\n        .catch(() => {\n          formState.spinning = false;\n        });\n    });\n  }\n\n  //关闭弹框\n  function handleClosedModal(type) {\n    if (type === 'Operation') {\n      operationModal.value = false;\n    }\n    if (type === 'Period') {\n      periodModal.value = false;\n    }\n    if (type === 'Grid') {\n      gridModal.value = false;\n    }\n  }\n\n  // 取消按钮\n  function handleCancel() {\n    addTabAndClose('/baseset/operation/powerstation');\n    setTimeout(function () {\n      MsgManager.getInstance().sendMsg('power_station', {});\n    }, 100);\n  }\n</script>\n<style lang=\"less\" scoped>\n  .fix-detail-page {\n    :deep(&.vben-page-wrapper-content.detail-content) {\n      margin: 0;\n    }\n  }\n\n  .process-box {\n    :deep(.vben-basic-table-header__toolbar > button.ant-btn:last-child) {\n      margin-right: 0;\n    }\n\n    & > .content {\n      padding-bottom: 10px;\n    }\n  }\n\n  :deep(.detail-label) {\n    width: 160px;\n  }\n</style>\n"],"names":["t","useI18n","router","useRouter","currentRoute","query","unref","disabledInput","ref","isLoading","showPageFooter","orgTreeData","companyNameData","cityOptions","formRef","formState","reactive","operationModal","operationState","operationRef","operationTitle","periodModal","periodState","periodRef","periodTitle","gridModal","gridState","gridRef","gridTitle","disabledGrid","requiredGidAllDate","disabledGidAllDate","ifShow","onMounted","__async","res","getPowerStation","assign","getOperationReload","getPeriodReload","getGridReload","getBizFileId","initBasicFrom","initOrgTree","initCompanyName","initRegionName","FileApi.getBizId","regionList","getRegionNameData","companyList","getRelatedParty","item","typeList","getOrgData","dig","data","list","i","treeNode","handleChangeTree","value","label","handleChangeCompanyName","option","getOperationListParam","param","dataObj","getOperationList","registerOperationTable","useTable","operationColumns","getPeriodListParam","getPeriodList","handleSelectChange","registerPeriodTable","getPeriodSelectRows","periodColumns","getGridListParam","getGridList","registerGridTable","gridColumns","handleOpenModal","type","message","_a","_b","selectRows","_c","handleSaveFrom","saveOperation","MsgManager","savePeriod","saveGrid","handleEdit","handleDeleted","deleteOperationApi","deletePeriodApi","getDoesItExistDayReprot","deleteGridApi","saveChangePowerStation","savePowerStation","handleClosedModal","handleCancel","addTabAndClose"],"mappings":"0wDAm1BQ,KAAA,CAAE,EAAAA,GAAMC,KACRC,EAASC,KACT,CAAE,aAAAC,CAAiB,EAAAF,EAGnBG,EAFQC,EAAMF,CAAY,EAEZ,MACdG,EAAgBC,EAAa,EAAI,EACjCC,EAAYD,EAAI,EAAK,EACrBE,EAAsBF,EAAI,EAAI,EAE9BG,EAAcH,IACdI,GAAkBJ,EAAW,CAAA,CAAE,EAE/BK,GAAcL,IAEdM,GAAUN,IACVO,EAA4BC,EAAS,CAAE,SAAU,EAAO,CAAA,EAExDC,EAAiBT,EAAa,EAAK,EACnCU,EAAiCF,EAAS,CAAA,CAAE,EAC5CG,GAAeX,IACfY,GAAiBZ,EAAI,EAAE,EAEvBa,EAAcb,EAAa,EAAK,EAChCc,EAA8BN,EAAS,CAAA,CAAE,EACzCO,EAAYf,IACZgB,GAAchB,EAAI,EAAE,EAEpBiB,EAAYjB,EAAa,EAAK,EAC9BkB,EAA4BV,EAAS,CAAA,CAAE,EACvCW,GAAUnB,IACVoB,GAAYpB,EAAI,EAAE,EAElBqB,EAAerB,EAAa,EAAK,EAEjCsB,EAAqBtB,EAAa,EAAI,EAEtCuB,EAAqBvB,EAAa,EAAK,EAEvCwB,EAASxB,EAAa,EAAI,EAGhCyB,GAAU,IAAYC,EAAA,sBACpB,GAAI7B,EAAM,GAAI,CACZ,MAAM8B,EAAM,MAAMC,GAAgB,CAAE,GAAI/B,EAAM,GAAI,EAC9C8B,EAAI,SACCE,EAAAtB,EAAWoB,EAAI,MAAM,EACvBpB,EAAU,YACbA,EAAU,UAAYA,EAAU,IAEfuB,KACHC,IACFC,KAChB,MAEaC,KAGf1B,EAAU,KAAOV,EAAM,KACTqC,KACdnC,EAAc,MAAQ,GAClBF,EAAM,OACRE,EAAc,MAAQ,IAEpBF,EAAM,SACR2B,EAAO,MAAQ,IAELW,KACIC,KACDC,IAAA,EAChB,EAED,MAAMJ,GAAe,IAAYP,EAAA,sBAC/BY,GAAiB,EAAE,KAAMX,GAAQ,CAC/BpB,EAAU,UAAYoB,CAAA,CACvB,CAAA,GAGGO,GAAgB,IAAYR,EAAA,sBAChC,GAAI7B,EAAM,GAAI,CACZ,MAAM8B,EAAM,MAAMC,GAAgB,CAAE,GAAI/B,EAAM,GAAI,EAC9C8B,EAAI,QACCE,EAAAtB,EAAWoB,EAAI,MAAM,CAC9B,SACSpB,EAAU,GAAI,CACvB,MAAMoB,EAAM,MAAMC,GAAgB,CAAE,GAAIrB,EAAU,GAAI,EAClDoB,EAAI,QACCE,EAAAtB,EAAWoB,EAAI,MAAM,CAEhC,CAAA,GAGIU,GAAiB,IAAYX,EAAA,sBAC3B,MAAAa,EAAa,MAAMC,KACrBD,EAAW,QAAUA,EAAW,OAAO,OAAS,IAClDlC,GAAY,MAAQkC,EAAW,OACjC,GAIIH,GAAkB,IAAYV,EAAA,sBAClC,MAAMe,EAAc,MAAMC,GAAgB,CAAE,eAAgB,kBAAoB,CAAA,EAC5ED,GAAeA,EAAY,OAAS,GAC1BA,EAAA,QAASE,GAAS,CAC5BvC,GAAgB,MAAM,KAAK,CAAE,MAAOuC,EAAK,KAAM,MAAOA,EAAK,GAAI,MAAOA,EAAK,SAAW,CAAA,CAAA,CACvF,CACH,GAIIR,GAAc,IAAYT,EAAA,sBACxB,MAAAkB,EAAW,MAAMC,GAAW,CAEhC,WAAY,UACZ,aAAc,GACd,OAAQ,CAAA,CACT,EACW1C,EAAA,MAAQ2C,GAAIF,EAAS,MAAM,CAAA,GAGzC,SAASE,GAAIC,EAAM,CACjB,MAAMC,EAAoC,CAAA,EAC1C,QAASC,EAAI,EAAGA,EAAIF,EAAK,OAAQE,IAAK,CAC9B,MAAAN,EAAOI,EAAKE,CAAC,EACbC,EAAgD,CACpD,MAAOP,EAAK,KACZ,MAAOA,EAAK,GACZ,SAAUA,EAAK,YAAc,KAAA,EAG3BA,EAAK,UAAYA,EAAK,SAAS,OAAS,IACjCO,EAAA,SAAWJ,GAAIH,EAAK,QAAQ,GAEvCK,EAAK,KAAKE,CAAQ,CACpB,CACO,OAAAF,CACT,CAES,SAAAG,GAAiBC,EAAOC,EAAO,CACtC9C,EAAU,MAAQ6C,EACR7C,EAAA,QAAU8C,EAAM,CAAC,CAC7B,CAES,SAAAC,GAAwBF,EAAOG,EAAQ,CAC9C7C,EAAe,mBAAqB6C,EAAO,MAC3C7C,EAAe,UAAY6C,EAAO,KACpC,CAEA,MAAMC,GAAwB,IAAY9B,EAAA,sBACxC,IAAI+B,EAAQ,CAAE,UAAWlD,EAAU,EAAG,EAClCmD,EAAU,CAAA,EACV,OAAAnD,EAAU,IAAM,OACRmD,EAAA,MAAMC,GAAiBF,CAAK,GAEjCC,CAAA,GAIH,CAACE,GAAwB,CAAE,OAAQ9B,EAAoB,CAAA,EAAI+B,GAAS,CAExE,IAAKL,GACL,QAASM,GACT,SAAU,GACV,WAAY,GACZ,QAAS,GACT,iBAAkB,GAClB,UAAW,GACX,UAAW,GACX,aAAc,CACZ,OAAAtC,EACA,MAAO,GACP,MAAO,KACP,UAAW,QACb,CAAA,CACD,EAEKuC,GAAqB,IAAYrC,EAAA,sBACrC,IAAI+B,EAAQ,CAAE,UAAWlD,EAAU,EAAG,EAClCmD,EAAU,CAAA,EACV,OAAAnD,EAAU,IAAM,OACRmD,EAAA,MAAMM,GAAcP,CAAK,GAE9BC,CAAA,GAGHO,GAAsBb,GAAkB,CACxCA,IAAU,KACZ9B,EAAmB,MAAQ,GAC3BC,EAAmB,MAAQ,KAE3BD,EAAmB,MAAQ,GAC3BC,EAAmB,MAAQ,GAC3BT,EAAY,YAAc,GAC5B,EAII,CAACoD,GAAqB,CAAE,cAAeC,GAAqB,OAAQpC,CAAA,CAAiB,EACzF8B,GAAS,CAEP,QAASO,GACT,IAAKL,GACL,SAAU,GACV,WAAY,GACZ,QAAS,GACT,iBAAkB,GAClB,UAAW,GACX,UAAW,GACX,aAAc,CACZ,OAAAvC,EACA,MAAO,GACP,MAAO,KACP,UAAW,QACb,EACA,aAAc,CAAE,KAAM,OAAQ,CAAA,CAC/B,EAEG6C,GAAmB,IAAY3C,EAAA,sBACnC,IAAI+B,EAAQ,CAAE,UAAWlD,EAAU,EAAG,EAClCmD,EAAU,CAAA,EACV,OAAAnD,EAAU,IAAM,OACRmD,EAAA,MAAMY,GAAYb,CAAK,GAE5BC,CAAA,GAIH,CAACa,GAAmB,CAAE,OAAQvC,EAAe,CAAA,EAAI6B,GAAS,CAE9D,QAASW,GACT,IAAKH,GACL,SAAU,GACV,WAAY,GACZ,QAAS,GACT,iBAAkB,GAClB,UAAW,GACX,UAAW,GACX,aAAc,CACZ,OAAA7C,EACA,MAAO,GACP,MAAO,KACP,UAAW,QACb,CAAA,CAED,EAGD,SAASiD,GAAgBC,EAAc,WACjC,GAAA,CAACnE,EAAU,GACb,OAAAoE,EAAQ,MAAM,WAAW,EAClB,GA0BT,GAxBID,IAAS,eACXE,EAAAjE,GAAa,QAAb,MAAAiE,EAAoB,cACpBnE,EAAe,MAAQ,GAEvBC,EAAe,mBAAqB,GACpCA,EAAe,YAAc,GAC7BA,EAAe,UAAY,GAC3BA,EAAe,UAAY,GAC3BA,EAAe,QAAU,GACzBA,EAAe,WAAa,GAC5BE,GAAe,MAAQ,UAErB8D,IAAS,YACXG,EAAA9D,EAAU,QAAV,MAAA8D,EAAiB,cACjBhE,EAAY,MAAQ,GAEpBC,EAAY,GAAK,GACjBA,EAAY,KAAO,GACnBA,EAAY,WAAa,GACzBA,EAAY,YAAc,GAC1BA,EAAY,UAAY,GACxBA,EAAY,YAAc,GAC1BE,GAAY,MAAQ,UAElB0D,IAAS,OAAQ,CACnBrD,EAAa,MAAQ,GACrB,MAAMyD,EAAaX,KACf,GAAAW,EAAW,QAAU,EACvB,OAAAH,EAAQ,MAAM,SAAS,EAChB,IAETI,EAAA5D,GAAQ,QAAR,MAAA4D,EAAe,cACf9D,EAAU,MAAQ,GACRC,EAAA,SAAW4D,EAAW,CAAC,EAAE,GACzB5D,EAAA,KAAO4D,EAAW,CAAC,EAAE,KAE/B5D,EAAU,SAAW,GACrBA,EAAU,cAAgB,GAC1BA,EAAU,gBAAkB,GAC5BA,EAAU,eAAiB,GAC3BA,EAAU,gBAAkB,GAC5BA,EAAU,eAAiB,GAC3BA,EAAU,cAAgB,GAC1BA,EAAU,aAAe,GACzBA,EAAU,GAAK,GACfE,GAAU,MAAQ,QACpB,CACF,CAGA,SAAS4D,GAAeN,EAAc,CAChCA,IAAS,cACXhE,EAAe,UAAYH,EAAU,GACrCI,GAAa,MAAM,eAAiB,EAAA,KAAK,IAAM,CAC/BsE,GAAAvE,CAAc,EAAE,KAAK,IAAM,CACvCD,EAAe,MAAQ,GACvBkE,EAAQ,QAAQ,MAAM,EACH7C,KACnB,WAAW,UAAY,CACrBoD,EAAW,YAAY,EAAE,QAAQ,gBAAiB,CAAE,CAAA,GACnD,GAAG,CAAA,CACP,CAAA,CACF,GAECR,IAAS,WACX5D,EAAY,UAAYP,EAAU,GAClCQ,EAAU,MAAM,eAAiB,EAAA,KAAK,IAAM,CAC/BoE,GAAArE,CAAW,EAAE,KAAK,IAAM,QACjC8D,EAAA7D,EAAU,QAAV,MAAA6D,EAAiB,cACjB/D,EAAY,MAAQ,GACpB8D,EAAQ,QAAQ,MAAM,EACN5C,IAChB,WAAW,UAAY,CACrBmD,EAAW,YAAY,EAAE,QAAQ,gBAAiB,CAAE,CAAA,GACnD,GAAG,CAAA,CACP,CAAA,CACF,GAECR,IAAS,SACXxD,EAAU,UAAYX,EAAU,GAEhCY,GAAQ,MAAM,eAAiB,EAAA,KAAK,IAAM,CAC/BiE,GAAAlE,CAAS,EAAE,KAAK,IAAM,CAC7BD,EAAU,MAAQ,GAClB0D,EAAQ,QAAQ,MAAM,EACR3C,KACED,IACFG,KACd,WAAW,UAAY,CACrBgD,EAAW,YAAY,EAAE,QAAQ,gBAAiB,CAAE,CAAA,GACnD,GAAG,CAAA,CACP,CAAA,CACF,EAEL,CAGA,SAASG,GAAW,CAAE,KAAAX,EAAM,KAAA3B,GAAQ,CAC9B2B,IAAS,cACXjE,EAAe,MAAQ,GACvBG,GAAe,MAAQ,SACvBiB,EAAOnB,EAAgBqC,CAAI,GAEzB2B,IAAS,WACX7D,EAAY,MAAQ,GACpBgB,EAAOf,EAAaiC,CAAI,EACxB/B,GAAY,MAAQ,SAEhBF,EAAY,YAAc,KAC5BQ,EAAmB,MAAQ,GAC3BC,EAAmB,MAAQ,KAE3BD,EAAmB,MAAQ,GAC3BC,EAAmB,MAAQ,KAG3BmD,IAAS,SACXzD,EAAU,MAAQ,GAClBI,EAAa,MAAQ,GACrBQ,EAAOX,EAAW6B,CAAI,EACtB3B,GAAU,MAAQ,SAEtB,CAGA,SAASkE,GAAc,CAAE,KAAAZ,EAAM,KAAA3B,GAAQ,CACjC2B,IAAS,aACXa,GAAmBxC,EAAK,EAAE,EAAE,KAAK,IAAM,CAClBjB,KACnB,WAAW,UAAY,CACrBoD,EAAW,YAAY,EAAE,QAAQ,gBAAiB,CAAE,CAAA,GACnD,GAAG,CAAA,CACP,EAECR,IAAS,UACXc,GAAgBzC,EAAK,EAAE,EAAE,KAAK,IAAM,CAClBhB,IAChB,WAAW,UAAY,CACrBmD,EAAW,YAAY,EAAE,QAAQ,gBAAiB,CAAE,CAAA,GACnD,GAAG,CAAA,CACP,EAECR,IAAS,QACae,GAAA,CAAE,SAAU1C,EAAK,SAAU,UAAWA,EAAK,QAAU,CAAA,EAAE,KAAMpB,GAAQ,CACvF,GAAAA,EAAI,OAAO,OAAS,EACtB,OAAAgD,EAAQ,MAAM,iBAAiB,EACxB,GAETe,GAAc3C,EAAK,EAAE,EAAE,KAAK,IAAM,CAClBf,KACED,IACFG,KACd,WAAW,UAAY,CACrBgD,EAAW,YAAY,EAAE,QAAQ,gBAAiB,CAAE,CAAA,GACnD,GAAG,CAAA,CACP,CAAA,CACF,CAEL,CAGA,SAAeS,IAAyB,QAAAjE,EAAA,sBACtCpB,GAAQ,MAAM,eAAiB,EAAA,KAAK,IAAM,CACxCC,EAAU,SAAW,GACrBqF,GAAiBrF,CAAS,EACvB,KAAMwC,GAAS,CACdxC,EAAU,GAAKwC,EACf4B,EAAQ,QAAQ,MAAM,EAEtB,WAAW,UAAY,CACrBO,EAAW,YAAY,EAAE,QAAQ,gBAAiB,CAAE,CAAA,GACnD,GAAG,EACN3E,EAAU,SAAW,EAAA,CACtB,EACA,MAAM,IAAM,CACXA,EAAU,SAAW,EAAA,CACtB,CAAA,CACJ,CACH,GAGA,SAASsF,GAAkBnB,EAAM,CAC3BA,IAAS,cACXjE,EAAe,MAAQ,IAErBiE,IAAS,WACX7D,EAAY,MAAQ,IAElB6D,IAAS,SACXzD,EAAU,MAAQ,GAEtB,CAGA,SAAS6E,IAAe,CACtBC,GAAe,iCAAiC,EAChD,WAAW,UAAY,CACrBb,EAAW,YAAY,EAAE,QAAQ,gBAAiB,CAAE,CAAA,GACnD,GAAG,CACR"}