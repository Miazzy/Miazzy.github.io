{"version":3,"file":"WeatherDisplay-e68d53d5.js","sources":["../../src/views/da/rem.ts","../../src/assets/images/da/logo.png","../../src/components/Framework/Chart/DigitalClock.vue","../../src/components/Framework/Chart/WeatherDisplay.vue"],"sourcesContent":["import { debounce } from 'lodash-es';\n\n(function (doc, win) {\n  try {\n    const docEl = doc.documentElement,\n    resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',\n    recalc = function () {\n      console.log('recalc');\n      const clientWidth = docEl.clientWidth;\n      if (!clientWidth) return;\n      // 防止跨域嵌套时无法获取 window.parent 的值\n      try {\n        if (window?.parent?.document?.querySelector('.app-menu.collapsed')) {\n          docEl.style.fontSize = 100 * ((clientWidth - 165) / 1920) + 'px';\n        } else {\n          docEl.style.fontSize = 100 * (clientWidth / 1920) + 'px';\n        }\n      } catch (error) {\n        docEl.style.fontSize = 100 * (clientWidth / 1920) + 'px';\n      }\n    };\n    const debounceRecalc = debounce(recalc, 300);\n    if (!docEl.style.fontSize) recalc();\n    if (!doc.addEventListener) return;\n    win.addEventListener(resizeEvt, debounceRecalc, false);\n    doc.addEventListener('DOMContentLoaded', debounceRecalc, false);\n  } catch (error) {\n    //\n  }\n})(document, window);\n","export default \"__VITE_ASSET__ab211233__\"","<template>\n  <div class=\"time-display\">\n    <div class=\"clock\">\n      <div class=\"hour\">\n        <span v-for=\"(digit, index) in currentTime.hours.split('')\" :key=\"index\">{{ digit }}</span>\n      </div>\n      <span class=\"colon\">:</span>\n      <div class=\"minute\">\n        <span v-for=\"(digit, index) in currentTime.minutes.split('')\" :key=\"index\">{{ digit }}</span>\n      </div>\n      <span class=\"colon\">:</span>\n      <div class=\"second\">\n        <span v-for=\"(digit, index) in currentTime.seconds.split('')\" :key=\"index\">{{ digit }}</span>\n      </div>\n    </div>\n\n    <div class=\"date\">\n      <span class=\"normal-font\">{{ currentDate }}</span>\n      <span class=\"normal-font\" style=\"margin-left: 0.1rem\">{{ currentWeek }}</span>\n    </div>\n  </div>\n</template>\n\n<script setup>\n  import { ref, onMounted } from 'vue';\n\n  const currentTime = ref({\n    hours: '',\n    minutes: '',\n    seconds: '',\n  });\n\n  const currentDate = ref('');\n  const currentWeek = ref('');\n\n  const updateClock = () => {\n    const now = new Date();\n    currentTime.value.hours = String(now.getHours()).padStart(2, '0');\n    currentTime.value.minutes = String(now.getMinutes()).padStart(2, '0');\n    currentTime.value.seconds = String(now.getSeconds()).padStart(2, '0');\n    currentDate.value = now.toLocaleDateString();\n    currentWeek.value = now.toLocaleDateString([], { weekday: 'long' });\n  };\n\n  onMounted(() => {\n    // 更新时钟\n    updateClock();\n    // 每秒更新一次\n    setInterval(updateClock, 1000);\n  });\n</script>\n\n<style lang=\"less\" scoped>\n  .time-display {\n    text-align: center;\n\n    .clock {\n      display: flex;\n      justify-content: center;\n      color: #1890ff;\n      font-family: Digital;\n      font-size: 0.24rem;\n      font-weight: 600;\n      letter-spacing: 0.04rem;\n\n      div {\n        display: flex;\n        justify-content: center;\n        width: 0.28rem;\n\n        span {\n          flex: 50%;\n        }\n      }\n\n      .colon {\n        margin: 0.02rem 0.05rem 0;\n        font-size: 0.2rem;\n      }\n    }\n\n    .date {\n      margin-top: -0.06rem;\n\n      .normal-font {\n        font-family: 'Microsoft YaHei';\n        font-size: 0.14rem;\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"weather-display\" style=\"width: 1.2rem; margin-right: -0.2rem; margin-left: 0.1rem\">\n    <div class=\"weather-icon\" style=\"\">\n      <!-- <Icon style=\"font-size: 0.34rem;\" class=\"icon\" icon=\"arcticons:quickweather\" color=\"#32afff\" /> -->\n      <SvgIcon class=\"iconfont\" :name=\"getWeatherIconName\" style=\"width: 0.4rem; height:0.4rem;\"> </SvgIcon>\n    </div>\n    <div class=\"weather-info\" style=\"width: 1.65rem\">\n      <div class=\"temperature-range\">\n        <span>{{ weatherInfo.temp }}</span>\n        <span class=\"unit\">℃</span>\n        <!-- <span style=\"margin: 0 0.1rem\">~</span>\n        <span>{{ props.max }}</span>\n        <span class=\"unit\">℃</span> -->\n      </div>\n      <div class=\"weather-description\" style=\"width: 100%\">\n        <div class=\"weather-text\">{{ weatherInfo.text }}</div>\n        <div class=\"air-quality\">{{ props.airQuality }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\n  import { computed, reactive, onMounted } from 'vue';\n  import Icon from '@/components/Icon/Icon.vue';\n  import { SvgIcon } from '/@/components/Icon';\n  import { weatherIcons } from '@/utils/weatherIcon'\n  import * as CommonApi from '@/api/da/common';\n\n  const props = defineProps({\n    airQuality: { type: [String, Number], default: '' },\n  });\n\n  const getWeatherIconName = computed(()=>{\n    return weatherInfo.icon&&weatherIcons[weatherInfo.icon]?weatherIcons[weatherInfo.icon]: 'tianqi-wu2';\n  })\n\n  const weatherInfo = reactive({});\n  const getWeatherData = async () => {\n    let res = await CommonApi.getWeather({ lastDay: 'now' });\n    Object.assign(weatherInfo, res.weather.now);\n  };\n\n  onMounted(() => {\n    getWeatherData();\n  });\n</script>\n\n<style lang=\"less\" scoped>\n  .weather-display {\n    display: flex;\n    align-items: center;\n\n    .weather-icon {\n      position: relative;\n      width: 0.35rem;\n      margin-right: 0.1rem;\n\n      /* 添加天气图标的样式，可以根据需要自定义 */\n      font-size: 0.48rem;\n\n      .icon {\n        position: absolute;\n        top: -0.18rem;\n        right: 0;\n      }\n    }\n\n    .weather-info {\n      /* 右侧天气信息的样式 */\n      .temperature-range {\n        color: #1890ff;\n        font-family: Digital;\n        font-size: 0.24rem;\n        letter-spacing: 0.02rem;\n\n        .unit {\n          margin: 0 0 0 0.05rem;\n          font-size: 0.15rem;\n        }\n      }\n\n      .weather-description {\n        display: flex;\n        margin-top: -0.05rem;\n\n        .weather-text {\n          width: 49.5%;\n          opacity: 0.6;\n          color: #fff;\n          font-family: \"Microsoft YaHei\";\n          font-size: 0.14rem;\n          font-weight: 400;\n        }\n\n        .air-quality {\n          width: 49.5%;\n          opacity: 0.6;\n          color: #fff;\n          font-family: \"Microsoft YaHei\";\n          font-size: 0.14rem;\n          font-weight: 400;\n          text-align: center;\n        }\n      }\n    }\n  }\n</style>\n"],"names":["doc","win","docEl","resizeEvt","recalc","clientWidth","_b","_a","error","debounceRecalc","debounce","_imports_0","currentTime","ref","currentDate","currentWeek","updateClock","now","onMounted","getWeatherIconName","computed","weatherInfo","weatherIcons","reactive","getWeatherData","__async","res","CommonApi.getWeather"],"mappings":"kfAEC,SAAUA,EAAKC,EAAK,CACf,GAAA,CACI,MAAAC,EAAQF,EAAI,gBAClBG,EAAY,sBAAuB,OAAS,oBAAsB,SAClEC,EAAS,UAAY,SACnB,QAAQ,IAAI,QAAQ,EACpB,MAAMC,EAAcH,EAAM,YAC1B,GAAKG,EAED,GAAA,EACEC,GAAAC,EAAA,2BAAQ,SAAR,YAAAA,EAAgB,WAAhB,MAAAD,EAA0B,cAAc,uBAC1CJ,EAAM,MAAM,SAAW,MAAQG,EAAc,KAAO,MAAQ,KAE5DH,EAAM,MAAM,SAAW,KAAOG,EAAc,MAAQ,WAE/CG,EAAO,CACdN,EAAM,MAAM,SAAW,KAAOG,EAAc,MAAQ,IACtD,CAAA,EAEII,EAAiBC,EAASN,EAAQ,GAAG,EAE3C,GADKF,EAAM,MAAM,UAAiBE,IAC9B,CAACJ,EAAI,iBAAkB,OACvBC,EAAA,iBAAiBE,EAAWM,EAAgB,EAAK,EACjDT,EAAA,iBAAiB,mBAAoBS,EAAgB,EAAK,QACvDD,EAAO,CAEhB,CACF,GAAG,SAAU,MAAM,EC7BnB,MAAeG,GAAA,kYC0Bb,MAAMC,EAAcC,EAAI,CACtB,MAAO,GACP,QAAS,GACT,QAAS,EACb,CAAG,EAEKC,EAAcD,EAAI,EAAE,EACpBE,EAAcF,EAAI,EAAE,EAEpBG,EAAc,IAAM,CACxB,MAAMC,EAAM,IAAI,KAChBL,EAAY,MAAM,MAAQ,OAAOK,EAAI,SAAU,CAAA,EAAE,SAAS,EAAG,GAAG,EAChEL,EAAY,MAAM,QAAU,OAAOK,EAAI,WAAY,CAAA,EAAE,SAAS,EAAG,GAAG,EACpEL,EAAY,MAAM,QAAU,OAAOK,EAAI,WAAY,CAAA,EAAE,SAAS,EAAG,GAAG,EACpEH,EAAY,MAAQG,EAAI,qBACxBF,EAAY,MAAQE,EAAI,mBAAmB,CAAE,EAAE,CAAE,QAAS,MAAM,CAAE,CACtE,EAEE,OAAAC,EAAU,IAAM,CAEdF,IAEA,YAAYA,EAAa,GAAI,CACjC,CAAG,47BChBKG,EAAqBC,EAAS,IAC3BC,EAAY,MAAMC,EAAaD,EAAY,IAAI,EAAEC,EAAaD,EAAY,IAAI,EAAG,YACzF,EAEKA,EAAcE,EAAS,CAAA,CAAE,EACzBC,EAAiB,IAAYC,EAAA,sBACjC,IAAIC,EAAM,MAAMC,EAAqB,CAAE,QAAS,KAAO,CAAA,EACvD,OAAO,OAAON,EAAaK,EAAI,QAAQ,GAAG,CAC9C,GAEE,OAAAR,EAAU,IAAM,CACdM,GACJ,CAAG"}