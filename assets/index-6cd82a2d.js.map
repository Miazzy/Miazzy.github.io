{"version":3,"file":"index-6cd82a2d.js","sources":["../../src/views/monitor/stationOverview/index.vue"],"sourcesContent":["<!--\n * @Description: 电站总缆\n-->\n<template>\n  <PageWrapper dense contentFullHeight contentClass=\"flex\" style=\"position: relative\">\n    <div class=\"station-overview\">\n      <a-row class=\"station-overview-row\" type=\"flex\" :wrap=\"false\">\n        <a-col flex=\"auto\">\n          <div class=\"right-box\">\n            <div class=\"card-group-box\">\n              <div\n                class=\"card-item\"\n                v-for=\"(item, index) in cardData\"\n                :key=\"index\"\n                :style=\"'background: linear-gradient(to top, ' + item.start + ',' + item.end + ')'\"\n              >\n                <div class=\"icon-box\">\n                  <i style=\"color: #fff; font-size: 35px\" :class=\"item.icon\"></i>\n                </div>\n                <div class=\"title-value-box\" style=\"margin-left: 10px\">\n                  <div class=\"label-text\">{{ item.label }}</div>\n                  <div class=\"number-text\">{{ item.number }}</div>\n                </div>\n              </div>\n            </div>\n            <div\n              id=\"chart-box-content\"\n              class=\"right-row-box chart-box-content\"\n              ref=\"chartBoxContent\"\n              style=\"height: 596px\"\n            >\n              <div class=\"box-content\">\n                <div class=\"chart-box\">\n                  <div id=\"customerChart\" style=\"height: 280px; margin: 0 16px\"></div>\n                  <div class=\"data-table-box vben-btable-container\">\n                    <BasicTable\n                      @register=\"registerTable\"\n                      :clickToRowSelect=\"true\"\n                      :scroll=\"{ y: 250 }\"\n                    >\n                      <template #bodyCell=\"{ column, text, record }\">\n                        <template v-if=\"column.dataIndex === 'name'\">\n                          <a @click=\"handleSelected(record)\">{{ text }}</a>\n                        </template>\n                      </template>\n                      <template #action=\"{ record }\">\n                        <TableAction :actions=\"getAction(record)\" />\n                      </template>\n                    </BasicTable>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"right-row-box\">\n              <div class=\"data-table-box\">\n                <div class=\"table-title-left-box\">\n                  <div class=\"table-title-text\">{{ detailTitle }}</div>\n                </div>\n                <div class=\"table-title-line\"></div>\n                <div class=\"card-group-box\" style=\"margin: 16px 11px 0\">\n                  <div\n                    class=\"card-inner-item\"\n                    v-for=\"(item, index) in stationCardData\"\n                    :key=\"index\"\n                  >\n                    <div class=\"icon-box\">\n                      <i style=\"color: #fff; font-size: 27px\" :class=\"item.icon\"></i>\n                    </div>\n                    <div class=\"title-value-box\">\n                      <div class=\"label-text\">{{ item.label }}</div>\n                      <div class=\"number-text\">{{ item.number }}</div>\n                    </div>\n                  </div>\n                </div>\n                <div style=\"margin: 0 16px\">\n                  <a-tabs v-model:activeKey=\"activeKey\" @change=\"changeTab(activeKey)\">\n                    <a-tab-pane key=\"info\" tab=\"电站简介\">\n                      <stationPicture\n                        ref=\"stationInfoRef\"\n                        :stationId=\"selectedStationId\"\n                        :bizFileId=\"bizFileId\"\n                        :weatherData=\"weatherData\"\n                        :todayWeather=\"todayWeather\"\n                        :temp=\"todayWeather.temp\"\n                        :textDay=\"todayWeather.textDay\"\n                        :iconDay=\"todayWeather.iconDay\"\n                      />\n                    </a-tab-pane>\n                    <a-tab-pane key=\"activePower\" tab=\"功率与辐射\">\n                      <stationPowerData\n                        ref=\"activePower\"\n                        :stationId=\"selectedStationId\"\n                        index=\"activePower\"\n                      />\n                    </a-tab-pane>\n                    <a-tab-pane key=\"outputPowerDay\" tab=\"日发电量\">\n                      <stationPowerData\n                        ref=\"outputPowerDay\"\n                        :stationId=\"selectedStationId\"\n                        index=\"outputPowerDay\"\n                      />\n                    </a-tab-pane>\n                    <a-tab-pane key=\"chargePower\" tab=\"充电功率\">\n                      <stationPowerData\n                        ref=\"chargePower\"\n                        :stationId=\"selectedStationId\"\n                        index=\"chargePower\"\n                      />\n                    </a-tab-pane>\n                    <a-tab-pane key=\"disChargePower\" tab=\"放电功率\">\n                      <stationPowerData\n                        ref=\"disChargePower\"\n                        :stationId=\"selectedStationId\"\n                        index=\"dischargePower\"\n                      />\n                    </a-tab-pane>\n                  </a-tabs>\n                </div>\n              </div>\n            </div>\n          </div>\n        </a-col>\n      </a-row>\n    </div>\n  </PageWrapper>\n</template>\n\n<script lang=\"ts\" setup>\n  import { ref, onMounted, nextTick, shallowRef, reactive } from 'vue';\n  import { PageWrapper } from '/@/components/Page';\n  import CommonTree from '@/components/Framework/Tree/CommonTree.vue';\n  import { TreeItem } from '/@/components/Tree';\n  import { Select, message } from 'ant-design-vue';\n  import { BasicTable, useTable, TableAction, BasicColumn } from '/@/components/Table';\n  import Icon from '@/components/Icon/Icon.vue';\n  import type { SelectProps, MenuProps } from 'ant-design-vue';\n  import type { Dayjs } from 'dayjs';\n  import { useRouter } from 'vue-router';\n  import { exportExcelFile } from '@/utils/file/download';\n  import DictSelectBox from '@/components/Framework/Combox/DictSelectBox.vue';\n  import DeviceDialog from '../PVArea/subareaOverview/deviceDialog.vue';\n  import { TaskExecutor } from '/@/executor/taskExecutor';\n  import { IconEnum } from '@/enums/appEnum';\n  import Dialog from '@/components/Framework/Modal/Dialog.vue';\n  import { LeftCircleOutlined, RightCircleOutlined } from '@ant-design/icons-vue';\n  import { getTableData, getStatData, overviewChart } from '../monitorApi.ts';\n  import { selectKey } from 'element-plus';\n  import { addTabPage } from '@/utils/route';\n  import { getDictDataMap } from '/@/api/bpm/system/dict/data';\n  import { useMessage } from '@/hooks/web/useMessage';\n  import stationPicture from './stationPicture.vue';\n  import stationPowerData from './stationPowerData.vue';\n  import * as echarts from 'echarts';\n  import * as CommonApi from '@/api/da/common';\n\n  const { createConfirm } = useMessage();\n  //-------------------------------------------------------------\n  const detailTitle = ref('实时监测');\n  const selectedStationId = ref('');\n  const bizFileId = ref('');\n  const selectedStation = ref();\n  // 图标\n  const iconUrls = {\n    dayGen: 'icon_day_gen.png', // 今日发电量\n    earnings: 'icon_earnings.png', // 今日收益\n    dayOnline: 'icon_day_online.png', // 累计上网电量\n    warningCount: 'icon_warning_count.png', // 天气预警\n    realGen: 'icon_real_gen.png', // 实发电量\n    online: 'icon_online.png', // 上网电量\n    settlement: 'icon_settlement.png', // 结算电量\n    loss: 'icon_loss.png', // 结算电量\n    lossRate: 'icon_loss_rate.png', // 损失率\n    facRate: 'icon_fac_rate.png', // 综合厂用电率\n    sysRate: 'icon_sys_rate.png', // 系统效率\n    comRate: 'icon_com_rate.png', // 计划完成\n    runningDays: 'icon_running_days.png', // 安全运行天数\n    safeCheckCount: 'icon_safe_check_count.png', // 安全检查\n    hiddenCount: 'icon_hidden_count.png', // 安全隐患\n    trainingCount: 'icon_training_count.png', // 安全培训\n    signRage: 'icon_sign_rage.png', // 安全责任书签订\n    toolsCount: 'icon_tools_count.png', // 安全工器具\n    inspectionCount: 'icon_inspection_count.png', // 巡检统计\n    workOrderCount: 'icon_work_order_count.png', // 工单统计\n    netIncome: 'icon_net_income.png', // 细则统计\n    twoTicketCount: 'icon_two_ticket_count.png', // 两票统计\n    defectCount: 'icon_defect_count.png', // 缺陷统计\n    hiddenStatistics: 'icon_hidden_statistics.png', // 隐患统计\n    stationTotal: 'icon_station_total.png', // 电站规模\n    connectCapacity: 'icon_connect_capacity.png', // 并网容量\n    fullTotal: 'icon_full_total.png', // 全容量并网电站\n    equipmentTotal: 'icon_equipment_total.png', // 设备统计\n    transQty: 'icon_trans_qty.png', // 备品备件\n    orderTotal: 'icon_order_total.png', // 出入库单\n    task: 'icon_task.png', // 任务统计\n    ddzRate: 'icon_ddz_rate.png', // 调度持证率\n    trainingTotal: 'icon_training_total.png', // 培训统计\n    vehicleCount: 'icon_vehicle_count.png', // 车辆统计\n    eval: 'icon_eval.png', // 考核评价\n    contractTotal: 'icon_contract_total.png', // 合同统计\n  };\n  const getIcon = (icon: string) => {\n    return new URL(`../../../assets/images/da/${iconUrls[icon]}`, import.meta.url).href;\n  };\n  const selectedShowData = ref({ label: '等效小时数', value: 'ppr', dataKind: 'bar' });\n  const indicatorOptions = {\n    connectCapacity: '等效小时数',\n    outputPowerDay: '日发电量',\n    activePower: '实时功率',\n    ppr: '等效小时数',\n    accessCapacity: '储能装机',\n    dayChargeAmt: '日充电量',\n    dayDischargeAmt: '日放电量',\n    chargePower: '充电功率',\n    disChargePower: '放电功率',\n  };\n\n  //-----------------------------------------------------------\n  const typeOptions = ref<SelectProps['options']>([]);\n  const chartIndex = ref('ppr');\n  // 顶部卡片数据\n  const cardData = ref([\n    {\n      label: '光伏装机(MW)',\n      value: 'connectCapacity',\n      start: 'rgba(66, 142, 244, 1)',\n      end: 'rgba(56, 89, 232, 1)',\n      icon: 'iconfont icon-zu9122',\n    },\n    {\n      label: '实时功率(MW)',\n      value: 'activePower',\n      start: 'rgba(77, 39, 213, 1)',\n      end: 'rgba(108, 106, 255, 1)',\n      icon: 'iconfont icon-current',\n    },\n    {\n      label: '日发电量(kWh)',\n      value: 'outputPowerDay',\n      start: 'rgba(68, 145, 226, 1)',\n      end: 'rgba(101, 199, 248, 1)',\n      icon: 'iconfont icon-rifadianliang1',\n    },\n    {\n      label: '等效小时数(h)',\n      value: 'ppr',\n      start: 'rgba(82, 169, 222, 1)',\n      end: 'rgba(108, 221, 177, 1)',\n      icon: 'iconfont icon-tigaoshengchanxiaoshuai',\n    },\n    {\n      label: '储能装机(MW)',\n      value: 'accessCapacity',\n      start: 'rgba(239, 137, 139, 1)',\n      end: 'rgba(242, 202, 105, 1)',\n      icon: 'iconfont icon-dianbiao1',\n    },\n    {\n      label: '日充电量(万kWh)',\n      value: 'dayChargeAmt',\n      start: 'rgba(105, 117, 221, 1)',\n      end: 'rgba(60, 125, 236, 1)',\n      icon: 'iconfont icon-shebeitongji',\n    },\n    {\n      label: '日放电量(万kWh)',\n      value: 'dayDischargeAmt',\n      ratio: 0,\n      start: 'rgba(183, 75, 101, 1)',\n      end: 'rgba(228, 126, 122, 1)',\n      icon: 'iconfont icon-beipinbeijianjixiaoshoufuwu',\n    },\n  ]);\n  // 电站卡片数据\n  const stationCardData = ref([\n    {\n      label: '光伏装机(MW)',\n      value: 'connectCapacity',\n      start: '#489ECF',\n      end: '#4EB7CF',\n      icon: 'iconfont icon-zu9122',\n    },\n    {\n      label: '实时功率(MW)',\n      value: 'activePower',\n      start: '#48CFC7',\n      end: '#64D4C7',\n      icon: 'iconfont icon-current',\n    },\n    {\n      label: '日发电量(kWh)',\n      value: 'outputPowerDay',\n      start: '#E9AB60',\n      end: '#E8BB60',\n      icon: 'iconfont icon-rifadianliang1',\n    },\n    {\n      label: '等效小时数(h)',\n      value: 'ppr',\n      start: '#6B9DDA',\n      end: '#7CB0DA ',\n      icon: 'iconfont icon-tigaoshengchanxiaoshuai',\n    },\n    {\n      label: '储能装机(MW)',\n      value: 'accessCapacity',\n      start: '#CFBA48',\n      end: '#DCCA48',\n      icon: 'iconfont icon-dianbiao1',\n    },\n    {\n      label: '日充电量(万kWh)',\n      value: 'dayChargeAmt',\n      start: '#8FD0F4',\n      end: '#9DD3F4',\n      icon: 'iconfont icon-shebeitongji',\n    },\n    {\n      label: '日放电量(万kWh)',\n      value: 'dayDischargeAmt',\n      ratio: 0,\n      start: '#63B2EE',\n      end: '#74BCEE',\n      icon: 'iconfont icon-beipinbeijianjixiaoshoufuwu',\n    },\n  ]);\n\n  const filAreaOption = (input: string, option: any) => {\n    return option.label.indexOf(input) >= 0;\n  };\n  // 加载顶部卡片数据\n  async function loadTopData() {\n    try {\n      let result = await getStatData();\n      if (result && Object.keys(result).length) {\n        cardData.value.forEach((item) => {\n          item.number = result[item.value];\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  // 数据表格\n  const columns: BasicColumn[] = [\n    {\n      title: '电站名称',\n      dataIndex: 'name',\n      headAlign: 'center',\n      align: 'left',\n      width: 250,\n    },\n    {\n      title: '光伏装机（MW）',\n      dataIndex: 'connectCapacity',\n      width: 150,\n      sorter: true,\n      align: 'right',\n    },\n    {\n      title: '实时功率（MW）',\n      dataIndex: 'activePower',\n      width: 150,\n      sorter: true,\n      align: 'right',\n    },\n    {\n      title: '日发电量（kWh）',\n      dataIndex: 'outputPowerDay',\n      width: 150,\n      sorter: true,\n      align: 'right',\n    },\n    {\n      title: '等效小时数（h）',\n      dataIndex: 'ppr',\n      width: 150,\n      sorter: true,\n      align: 'right',\n    },\n    {\n      title: '储能装机（MW）',\n      dataIndex: 'accessCapacity',\n      width: 150,\n      align: 'right',\n      sorter: true,\n    },\n    {\n      title: '日充电量（kWh）',\n      dataIndex: 'dayChargeAmt',\n      sorter: true,\n      width: 150,\n      align: 'right',\n    },\n    {\n      title: '日放电量（kWh）',\n      dataIndex: 'dayDischargeAmt',\n      sorter: true,\n      align: 'right',\n      width: 150,\n    },\n    {\n      title: '充电功率（kW）',\n      dataIndex: 'chargePower',\n      sorter: true,\n      width: 150,\n      align: 'right',\n    },\n    {\n      title: '放电功率（kW）',\n      dataIndex: 'dischargePower',\n      align: 'right',\n      sorter: true,\n    },\n  ];\n  const tableData = ref([]);\n\n  // 导出\n  async function exportData() {\n    createConfirm({\n      title: '提示',\n      iconType: 'warning',\n      content: '确定要导出所有记录？',\n      async onOk() {\n        // 到处方法需要处理数据为字符串：因为直接数组导致报错\n        let stationIdsStr = checkKeys.value.toString();\n        let levelsStr = level.value.join(',');\n        let typesStr = alarmType.value.join(',');\n        let param = {\n          stationIdsStr: stationIdsStr,\n          levelsStr: levelsStr,\n          typesStr: typesStr,\n        };\n        if (dateRange.value != undefined) {\n          param.startTime = dateRange.value[0];\n          param.endTime = dateRange.value[1];\n        }\n        await exportExcel(param).then((res) => {\n          exportExcelFile(res?.data, '设备告警.xls');\n        });\n      },\n    });\n  }\n\n  const searchInfo = ref({\n    sortField: 'ppr',\n    sortOrder: 'desc',\n  });\n\n  const getDataList = async () => {\n    let param = {\n      sortField: searchInfo.value.sortField,\n      sortOrder: searchInfo.value.sortOrder,\n    };\n    selectedShowData.value.label = indicatorOptions[searchInfo.value.sortField];\n    let res = await getTableData(param);\n    if (res?.length > 0) {\n      if (selectedStationId.value === '') {\n        handleSelected(res[0]);\n      }\n    }\n    // 处理echart数据\n    getActualChart();\n\n    return res;\n  };\n\n  const checkedKeys = ref<Array<string | number>>([]);\n  const [registerTable, { reload, reloadData, getPaginationRef, getDataSource }] = useTable({\n    api: getDataList,\n    columns,\n    bordered: true,\n    rowKey: 'id',\n    pagination: false,\n    showTableSetting: false,\n    sortFn: (sortInfo: SorterResult) => {\n      if (sortInfo.order) {\n        searchInfo.value.columnTitle = sortInfo.column.customTitle;\n        searchInfo.value.sortField = sortInfo.field;\n        searchInfo.value.sortOrder = sortInfo.order.replace('end', '');\n      }\n    },\n  });\n  const stationInfoRef = ref();\n  // 点击选择电站\n  const handleSelected = async (record: any) => {\n    detailTitle.value = '实时监测-' + record.name;\n    selectedStation.value = record;\n    selectedStationId.value = record.stationId;\n    bizFileId.value = record.bizFileId;\n    loadStationStatData();\n    getWeatherData();\n    activeKey.value = 'info';\n    nextTick(() => {\n      stationInfoRef.value.queryStationImg(record.bizFileId);\n    });\n  };\n  // 加载电站卡片数据\n  const loadStationStatData = async () => {\n    try {\n      let result = await getStatData({ stationId: selectedStationId.value });\n      if (result && Object.keys(result).length) {\n        stationCardData.value.forEach((item) => {\n          item.number = result[item.value];\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  // 加载chart数据\n  const lineOptions = {\n    color: [\n      '#1729F6',\n      '#FCAB28',\n      '#09D963',\n      '#FF1EE9',\n      '#B32630',\n      '#009588',\n      '#C9930F',\n      '#FF5906',\n      '#f3a33f',\n      '#fe8466',\n      '#8A69FF',\n      '#FF7669',\n    ],\n    tooltip: {\n      show: true,\n      trigger: 'axis',\n      formatter: '台',\n      axisPointer: {\n        type: 'line',\n        lineStyle: {\n          type: 'dashed',\n          color: 'rgba(1,180,241,.5)',\n        },\n        crossStyle: {\n          type: 'dashed',\n          color: 'rgba(1,180,241,.5)',\n        },\n      },\n      backgroundColor: ' #f5fbfb',\n      borderColor: '#c6ecea',\n      borderWidth: 1,\n    },\n    dataZoom: [{ type: 'inside' }],\n    legend: {\n      top: 20,\n      right: 200,\n      padding: [10, 0],\n      itemGap: 14,\n      itemWidth: 14,\n      itemHeight: 10,\n      textStyle: {\n        color: '#bce2e3',\n      },\n    },\n    grid: {\n      top: 40,\n      bottom: 30,\n      left: 30,\n      right: 0,\n    },\n    xAxis: {\n      type: 'category',\n      boundaryGap: true,\n      axisTick: {\n        alignWithLabel: true,\n        show: false,\n      },\n      axisLine: {\n        lineStyle: {\n          color: 'rgba(255, 255, 255, 0.16)',\n        },\n      },\n      axisLabel: {\n        color: '#888',\n      },\n    },\n    yAxis: {\n      type: 'value',\n      nameTextStyle: {\n        color: '#888',\n      },\n      axisLine: {\n        show: true,\n        lineStyle: {\n          color: 'rgba(255, 255, 255, 0.16)',\n        },\n      },\n      axisLabel: {\n        color: '#888',\n        formatter: '{value}',\n      },\n      axisTick: {\n        show: false,\n      },\n      splitLine: {\n        lineStyle: {\n          color: 'rgba(0, 0, 0, .1)',\n          type: 'dashed',\n        },\n      },\n    },\n  };\n  const barOption = {\n    dataZoom: [{ type: 'inside' }],\n    tooltip: {\n      trigger: 'axis',\n      axisPointer: {\n        type: 'line',\n        lineStyle: {\n          type: 'dashed',\n          color: 'rgba(1,180,241,.5)',\n        },\n        crossStyle: {\n          type: 'dashed',\n          color: 'rgba(1,180,241,.5)',\n        },\n      },\n      textStyle: {\n        color: '#666',\n      },\n      backgroundColor: '#f5fbfb',\n      borderColor: '#c6ecea',\n      borderWidth: 1,\n      formatter: (params) => {\n        return (\n          '<p style=\"text-align: left; line-height: 20px;font-size:12px;\">' +\n          params[0].axisValue +\n          '</p> ' +\n          '<p style=\"font-size:12px;\">日发电量  <span style=\"color: #3dd4cc;font-size:13px;\">' +\n          params[0].data +\n          '</span> kWh</p>'\n        );\n      },\n    },\n    grid: {\n      top: 40,\n      bottom: 30,\n      left: 30,\n      right: 0,\n    },\n    xAxis: [\n      {\n        type: 'category',\n        boundaryGap: true,\n        axisTick: {\n          alignWithLabel: true,\n          show: false,\n        },\n        axisLine: {\n          lineStyle: {\n            color: 'rgba(255, 255, 255, 0.16)',\n          },\n        },\n        axisLabel: {\n          color: '#888',\n        },\n      },\n    ],\n    yAxis: [\n      {\n        type: 'value',\n        name: 'kWh',\n        nameTextStyle: {\n          color: '#888',\n        },\n        axisLine: {\n          show: true,\n          lineStyle: {\n            color: 'rgba(255, 255, 255, 0.16)',\n          },\n        },\n        axisLabel: {\n          color: '#888',\n          formatter: '{value}',\n        },\n        axisTick: {\n          show: false,\n        },\n        splitLine: {\n          show: true,\n          lineStyle: {\n            color: 'rgba(255, 255, 255, 0.16)',\n            type: 'dashed',\n          },\n        },\n      },\n    ],\n    series: [\n      {\n        name: '日发电量',\n        type: 'bar',\n        color: {\n          type: 'linear',\n          x: 0,\n          y: 0,\n          x2: 0,\n          y2: 1,\n          colorStops: [\n            {\n              offset: 0,\n              color: 'rgba(73,207,246,.8)', // 0% 处的颜色\n            },\n            {\n              offset: 1,\n              color: '#49b5f6', // 100% 处的颜色\n            },\n          ],\n        },\n        barWidth: 14,\n        barGap: '20%',\n        showSymbol: null,\n        smooth: '.6',\n        lineStyle: {\n          color: '#01d2f1',\n        },\n        areaStyle: {\n          color: {\n            type: 'linear',\n            x: 0,\n            y: 0,\n            x2: 0,\n            y2: 1,\n            colorStops: [\n              {\n                offset: 0,\n                color: 'rgba(255, 227, 151, .3)', // 0% 处的颜色\n              },\n              {\n                offset: 1,\n                color: 'rgba(255, 227, 151, .1)', // 100% 处的颜色\n              },\n            ],\n            globalCoord: true, // 缺省为 false\n          },\n        },\n        itemStyle: {\n          normal: {\n            barBorderRadius: [2, 2, 0, 0],\n            shadowColor: 'rgba(0,0,0,0.1)',\n            shadowBlur: 3,\n            shadowOffsetY: 3,\n          },\n        },\n        // data: ['12','14', '16', '18', '20', '22', '24', '30']\n      },\n    ],\n  };\n  const getActualChart = async () => {\n    let param = {\n      sortField: searchInfo.value.sortField,\n      sortOrder: searchInfo.value.sortOrder,\n      dataKind: 'bar',\n    };\n    if (\n      searchInfo.value.sortField == 'activePower' ||\n      searchInfo.value.sortField == 'chargePower' ||\n      searchInfo.value.sortField == 'disChargePower'\n    ) {\n      param.dataKind = 'line';\n    }\n    let res = await overviewChart(param);\n    if (\n      res != null &&\n      (searchInfo.value.sortField == 'activePower' ||\n        searchInfo.value.sortField == 'chargePower' ||\n        searchInfo.value.sortField == 'disChargePower')\n    ) {\n      setLineOption(res);\n    } else if (res != null) {\n      setBarOption(res, selectedShowData.value.value);\n    }\n  };\n\n  const myEchart = shallowRef({});\n  function setLineOption(res) {\n    let option = JSON.parse(JSON.stringify(lineOptions)),\n      series = [],\n      legend = [],\n      data = res;\n    myEchart.value = {};\n    if (!res.data) return;\n    option.xAxis.data = data.x;\n    option.yAxis.name = data.unit;\n    data.data.forEach((item) => {\n      let seriesTemp;\n      legend.push(item.name);\n      if (data.chartType === 'bar') {\n        seriesTemp = {\n          name: item.name,\n          type: data.chartType,\n          barWidth: 14,\n          data: item.y,\n        };\n      } else {\n        seriesTemp = {\n          name: item.name,\n          type: data.chartType,\n          smooth: 0.5,\n          showSymbol: false,\n          symbolSize: 8,\n          lineStyle: {\n            width: 2,\n            shadowColor: 'rgba(0, 0, 0, .6)',\n          },\n          connectNulls: true,\n          data: item.y,\n        };\n      }\n      series.push(seriesTemp);\n    });\n    option.legend.data = legend;\n    option.legend.show = false;\n    option.series = series;\n    option.tooltip.formatter = (value) => {\n      let html = [`<label class=\"chart-tooltip-label\">${value[0].axisValue}</label><br/>`];\n      for (let i = 0; i < value.length; i++) {\n        let unit = data.unit;\n        let showValue = null;\n        value[i].data != null || value[i].data != undefined\n          ? (showValue = Number(value[i].data))\n          : (showValue = '--');\n        html.push(\n          `<span class=\"chart-tooltip-item\">${value[i].seriesName} <span style=\"color:${value[i].color};font-weight:bold;\">${showValue}</span> ${unit}</span><br/>`,\n        );\n      }\n      return html.join('');\n    };\n\n    initChart(document.getElementById('customerChart'), option);\n  }\n\n  function setBarOption(data, type) {\n    let option = JSON.parse(JSON.stringify(barOption)),\n      series = [],\n      name = selectedShowData.value.label;\n    option.xAxis[0].data = data.x; // x轴\n    option.yAxis[0].name = data.unit; // y轴单位\n    option.tooltip.formatter = (params) => {\n      return (\n        '<p style=\"text-align: left;color:#666;opacity: .8; line-height: 20px;font-size:12px;\">' +\n        params[0].axisValue +\n        '</p> ' +\n        '<p style=\"font-size:12px;color:#666;\">' +\n        name +\n        '  <span style=\"color: #3ccacc;font-size:13px;font-weight:bold;\">' +\n        params[0].data +\n        '</span> ' +\n        data.unit +\n        '</p>'\n      );\n    };\n    series.push({\n      name,\n      type: 'bar',\n      color: {\n        type: 'linear',\n        x: 0,\n        y: 0,\n        x2: 0,\n        y2: 1,\n        colorStops: [\n          {\n            offset: 0,\n            color: '#51A7FF', // 0% 处的颜色,上面\n          },\n          {\n            offset: 1,\n            color: '#7CC2F2', // 100% 处的颜色，下面\n          },\n        ],\n      },\n      barWidth: 24,\n      barGap: '40%',\n      showSymbol: null,\n      smooth: false,\n      lineStyle: {\n        color: 'rgba(252,171,40,1)',\n      },\n      itemStyle: {\n        normal: {\n          barBorderRadius: [2, 2, 0, 0],\n          shadowColor: 'rgba(0,0,0,0.1)',\n          shadowBlur: 3,\n          shadowOffsetY: 3,\n        },\n      },\n      data: data.y,\n    });\n    option.series = series;\n    initChart(document.getElementById('customerChart'), option);\n  }\n\n  function initChart(dom, data, callback) {\n    const main = document.getElementById('customerChart');\n    myEchart.value = echarts.init(main);\n    myEchart.value.setOption(data, true);\n    //窗口改变时重绘echarts,使用函数节流提高性能\n    callback && callback(myEchart);\n    window.addEventListener('resize', () => {\n      myEchart.value.resize();\n    });\n  }\n  const activeKey = ref('info');\n  const activePower = ref();\n  const outputPowerDay = ref();\n  const chargePower = ref();\n  const disChargePower = ref();\n  // 切换tab刷新组件内容\n  const changeTab = async (activeKey: string) => {\n    if (activeKey === 'activePower') {\n      activePower.value.getStationActualChart();\n    } else if (activeKey == 'outputPowerDay') {\n      outputPowerDay.value.getStationActualChart();\n    } else if (activeKey == 'chargePower') {\n      chargePower.value.getStationActualChart();\n    } else if (activeKey == 'disChargePower') {\n      disChargePower.value.getStationActualChart();\n    }\n  };\n\n  // 天气数据\n  const weatherData = ref([]);\n\n  const todayWeather = ref({\n    temp: '',\n    textDay: '',\n  });\n  const getWeatherData = async () => {\n    let res = await CommonApi.getWeather({ lastDay: '7d' });\n    let now = await CommonApi.getWeather({ lastDay: 'now' });\n    if (now.weather.now) {\n      let nowData = now.weather.now;\n      todayWeather.value = now.weather.now;\n      todayWeather.value.iconDay = nowData.icon;\n      todayWeather.value.temp = nowData.temp;\n      todayWeather.value.textDay = nowData.text;\n    }\n    let weTemp = [];\n    if (res.weather.daily?.length > 6) {\n      let today = res.weather.daily[0];\n      todayWeather.value.tempMin = today.tempMin;\n      todayWeather.value.tempMax = today.tempMax;\n      let spTemp = res.weather.daily.splice(1, 5);\n\n      const days = ['周日', '周一', '周二', '周三', '周四', '周五', '周六'];\n      spTemp.forEach((item) => {\n        let date = new Date(item.fxDate);\n        item.weekDay = days[date.getDay()];\n        item.temp = item.tempMin + '~' + item.tempMax + '℃';\n        weTemp.push(item);\n      });\n    }\n    weatherData.value = weTemp;\n  };\n  //----------------------------------------------------------------\n  const taskRefreshID = 'FAULT_WARNING';\n  // 自动刷新\n  const isAutoRefresh = ref(true);\n  // 刷新页面数据\n  const refreshData = async () => {\n    // await getPowerStationList();\n    console.info('refreshData:', Math.random());\n    try {\n      reloadData(undefined, false);\n      loadAlarmCount();\n    } catch (error) {\n      //\n    }\n  };\n\n  // 控制自动刷新函数\n  const handleAutoRefresh = (event) => {\n    try {\n      // if (event?.target?.checked) {\n      //   // 如果勾选自动刷新，则将刷新函数加入线程，否则移除线程\n      //   TaskExecutor.getInstance().pushListTask(taskRefreshID, refreshData, 20000);\n      // } else {\n      //   TaskExecutor.getInstance().removeListTask(taskRefreshID);\n      // }\n    } catch (error) {\n      //\n    }\n  };\n\n  onMounted(async () => {\n    loadTopData();\n\n    await nextTick();\n    // 启动刷新线程\n    // TaskExecutor.getInstance().start();\n    // if (isAutoRefresh.value) {\n    //   TaskExecutor.getInstance().pushListTask(taskRefreshID, refreshData, 20000);\n    // }\n  });\n</script>\n\n<style lang=\"less\">\n  @import '../style/themes.less';\n</style>\n\n<style lang=\"less\" scoped>\n  .theme1 {\n    .station-overview {\n      .right-box {\n        .right-row-box {\n          background: rgb(10 36 74 / 70%);\n        }\n\n        :deep(.card-group-box) {\n          .card-inner-item {\n            border: 1px solid #cecece30;\n          }\n        }\n      }\n    }\n  }\n\n  .theme3 {\n    .station-overview {\n      .right-box {\n        .right-row-box {\n          background: #fefefef0;\n\n          .data-table-box {\n            :deep(.ant-tabs) {\n              background-color: #cecece10 !important;\n            }\n\n            :deep(.card-group-box) {\n              background-color: #cecece10 !important;\n            }\n          }\n        }\n\n        :deep(.card-group-box) {\n          .card-inner-item {\n            border: 1px solid #cececef0;\n          }\n        }\n\n        :deep(.station-info) {\n          border: solid 1px #cececef0;\n\n          .pre-view {\n            border-top: solid 1px #cececef0;\n          }\n        }\n\n        :deep(.top-box) {\n          border: solid 1px #cececef0;\n        }\n\n        :deep(.weather-box) {\n          border: solid 1px #cececef0;\n        }\n      }\n    }\n  }\n\n  .station-overview {\n    padding: 10px;\n    overflow-y: scroll;\n\n    .station-overview-row {\n      height: 100%;\n    }\n\n    .right-box {\n      height: 100%;\n\n      .card-group-box {\n        display: flex;\n        justify-content: space-between;\n        height: 92px;\n        margin: 0 -5px 12px;\n\n        .card-item {\n          display: flex;\n          align-items: center;\n          width: calc(100% / 7);\n          height: 92px;\n          margin: 0 5px;\n          padding: 12px 0 12px 16px;\n          border-radius: 2px;\n          line-height: 1;\n\n          .icon-box {\n            display: flex; /* 使用flex布局 */\n            align-items: center; /* 垂直居中 */\n            justify-content: center; /* 水平居中 */\n            width: 48px;\n            height: 48px;\n            margin-right: 1px;\n            text-align: center;\n            vertical-align: middle;\n\n            .icon-img {\n              width: 10px;\n            }\n          }\n\n          .label-text {\n            margin-top: 16px;\n            opacity: 0.8;\n            font-size: 13px;\n          }\n\n          .number-text {\n            margin-top: 10px;\n            margin-bottom: 10px;\n            font-size: 28px;\n            font-weight: 600;\n          }\n\n          .compare-box {\n            display: flex;\n            align-items: center;\n\n            .left-text {\n              margin-right: 11px;\n              font-size: 12px;\n            }\n\n            .trend {\n              width: 8px;\n              margin-right: 4px;\n              border: 4px solid transparent;\n\n              &.red {\n                border-top: none;\n                border-bottom: 6px solid #ff4d4f;\n              }\n\n              &.green {\n                border-top: 6px solid #55d187;\n                border-bottom: none;\n              }\n            }\n\n            .value-text {\n              font-size: 14px;\n\n              &.red {\n                color: #ff4d4f;\n              }\n\n              &.green {\n                color: #55d187;\n              }\n            }\n          }\n        }\n\n        .card-inner-item {\n          display: flex;\n          align-items: center;\n          width: calc(100% / 7);\n          height: 80px;\n          margin: 0 5px;\n          padding: 12px 0 12px 16px;\n          border: solid 1px rgb(255 255 255 / 16%);\n          border-radius: 2px;\n          line-height: 1;\n\n          .icon-box {\n            display: flex; /* 使用flex布局 */\n            align-items: center; /* 垂直居中 */\n            justify-content: center; /* 水平居中 */\n            width: 48px;\n            height: 48px;\n            margin-right: 1px;\n            border-radius: 50%;\n            background: rgb(64 158 255 / 8%);\n            text-align: center;\n\n            .icon-img {\n              opacity: 1;\n            }\n          }\n\n          .title-value-box {\n            margin: 10px 0 0 16px;\n          }\n\n          .label-text {\n            margin-bottom: 10px;\n            opacity: 0.8;\n            font-size: 13px;\n          }\n\n          .number-text {\n            margin-bottom: 10px;\n            font-size: 24px;\n            font-weight: 600;\n          }\n\n          .compare-box {\n            display: flex;\n            align-items: center;\n\n            .left-text {\n              margin-right: 11px;\n              font-size: 12px;\n            }\n\n            .trend {\n              width: 8px;\n              margin-right: 4px;\n              border: 4px solid transparent;\n\n              &.red {\n                border-top: none;\n                border-bottom: 6px solid #ff4d4f;\n              }\n\n              &.green {\n                border-top: 6px solid #55d187;\n                border-bottom: none;\n              }\n            }\n\n            .value-text {\n              font-size: 14px;\n\n              &.red {\n                color: #ff4d4f;\n              }\n\n              &.green {\n                color: #55d187;\n              }\n            }\n          }\n        }\n      }\n\n      .refresh-box {\n        width: 90px;\n\n        :deep(.ant-checkbox-checked .ant-checkbox-inner) {\n          border-color: #1890ff;\n          background-color: #1890ff;\n        }\n\n        :deep(.ant-checkbox-checked::after) {\n          border-color: #1890ff;\n        }\n\n        :deep(\n            .ant-checkbox-wrapper:hover .ant-checkbox-inner,\n            .ant-checkbox:hover .ant-checkbox-inner,\n            .ant-checkbox-input:focus + .ant-checkbox-inner\n          ) {\n          border-color: #1890ff;\n        }\n      }\n\n      .right-row-box {\n        width: 100%;\n        margin-bottom: 10px;\n        padding-bottom: 10px;\n        border-radius: 2px;\n\n        &:last-child {\n          margin-bottom: 0;\n        }\n\n        .table-title-left-box {\n          display: flex;\n          align-items: center;\n\n          .table-title-text {\n            margin: 12px 16px;\n            font-size: 14px;\n          }\n        }\n\n        .data-table-box {\n          position: relative;\n\n          &.vben-btable-container {\n            width: 100%;\n            height: 350px;\n            padding-bottom: 10px;\n            overflow: auto;\n          }\n\n          :deep(.vben-basic-table .ant-table-wrapper) {\n            padding: 9px 16px 10px;\n          }\n\n          :deep(.vben-basic-title.vben-basic-table-title) {\n            padding-left: 0;\n            font-size: 14px;\n          }\n\n          :deep(.ant-table-title) {\n            position: relative;\n            margin-bottom: 10px;\n          }\n\n          :deep(.table-settings) {\n            padding: 7px 0 1px;\n          }\n\n          :deep(.vben-basic-table-header__toolbar > .table-settings) {\n            margin-right: 0;\n          }\n\n          :deep(.table-settings > span:last-child) {\n            margin-right: 0;\n          }\n\n          .status-icon {\n            display: inline-block;\n            width: 12px;\n            height: 12px;\n            border-radius: 50%;\n\n            &.green {\n              background-color: #52c41a;\n            }\n          }\n\n          .table-title-line {\n            position: absolute;\n            z-index: 1;\n            top: 50px;\n            left: 0;\n            width: 100%;\n            height: 1px;\n          }\n\n          // :deep(.vben-basic-table) {\n          //   .ant-table-wrapper {\n          //     padding: 10px 0;\n          //   }\n          // }\n\n          .operation-btn {\n            margin-top: -10px;\n            margin-right: 10px;\n\n            &:last-child {\n              margin-right: 0;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n"],"names":["useMessage","detailTitle","ref","selectedStationId","bizFileId","selectedStation","selectedShowData","indicatorOptions","cardData","stationCardData","loadTopData","__async","result","getStatData","item","error","columns","searchInfo","getDataList","param","res","getTableData","handleSelected","getActualChart","registerTable","reload","reloadData","getPaginationRef","getDataSource","useTable","sortInfo","stationInfoRef","record","loadStationStatData","getWeatherData","activeKey","nextTick","lineOptions","barOption","params","overviewChart","setLineOption","setBarOption","myEchart","shallowRef","option","series","legend","data","seriesTemp","value","html","i","unit","showValue","initChart","type","name","dom","callback","main","echarts.init","activePower","outputPowerDay","chargePower","disChargePower","changeTab","weatherData","todayWeather","CommonApi.getWeather","now","nowData","weTemp","_a","today","spTemp","days","date","onMounted"],"mappings":"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CAAC,EACf,QAAS,GACT,UAAW,GACX,WAAY,GACZ,UAAW,CACT,MAAO,SACT,CACF,EACA,KAAM,CACJ,IAAK,GACL,OAAQ,GACR,KAAM,GACN,MAAO,CACT,EACA,MAAO,CACL,KAAM,WACN,YAAa,GACb,SAAU,CACR,eAAgB,GAChB,KAAM,EACR,EACA,SAAU,CACR,UAAW,CACT,MAAO,2BACT,CACF,EACA,UAAW,CACT,MAAO,MACT,CACF,EACA,MAAO,CACL,KAAM,QACN,cAAe,CACb,MAAO,MACT,EACA,SAAU,CACR,KAAM,GACN,UAAW,CACT,MAAO,2BACT,CACF,EACA,UAAW,CACT,MAAO,OACP,UAAW,SACb,EACA,SAAU,CACR,KAAM,EACR,EACA,UAAW,CACT,UAAW,CACT,MAAO,oBACP,KAAM,QACR,CACF,CACF,CAAA,EAEIC,GAAY,CAChB,SAAU,CAAC,CAAE,KAAM,SAAU,EAC7B,QAAS,CACP,QAAS,OACT,YAAa,CACX,KAAM,OACN,UAAW,CACT,KAAM,SACN,MAAO,oBACT,EACA,WAAY,CACV,KAAM,SACN,MAAO,oBACT,CACF,EACA,UAAW,CACT,MAAO,MACT,EACA,gBAAiB,UACjB,YAAa,UACb,YAAa,EACb,UAAYC,GAER,kEACAA,EAAO,CAAC,EAAE,UACV,sFAEAA,EAAO,CAAC,EAAE,KACV,iBAGN,EACA,KAAM,CACJ,IAAK,GACL,OAAQ,GACR,KAAM,GACN,MAAO,CACT,EACA,MAAO,CACL,CACE,KAAM,WACN,YAAa,GACb,SAAU,CACR,eAAgB,GAChB,KAAM,EACR,EACA,SAAU,CACR,UAAW,CACT,MAAO,2BACT,CACF,EACA,UAAW,CACT,MAAO,MACT,CACF,CACF,EACA,MAAO,CACL,CACE,KAAM,QACN,KAAM,MACN,cAAe,CACb,MAAO,MACT,EACA,SAAU,CACR,KAAM,GACN,UAAW,CACT,MAAO,2BACT,CACF,EACA,UAAW,CACT,MAAO,OACP,UAAW,SACb,EACA,SAAU,CACR,KAAM,EACR,EACA,UAAW,CACT,KAAM,GACN,UAAW,CACT,MAAO,4BACP,KAAM,QACR,C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"}