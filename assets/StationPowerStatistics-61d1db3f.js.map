{"version":3,"file":"StationPowerStatistics-61d1db3f.js","sources":["../../src/views/da/groupOperation/overview/StationPowerStatistics.vue"],"sourcesContent":["<template>\n  <div class=\"station-operation\">\n    <SmallModule title=\"电站电量统计\">\n      <template #content>\n        <div class=\"content-layout\">\n          <div style=\"transform: scale(0.85); transform-origin: 0 0\">\n            <EchartLineBarChart\n              :data=\"sbarchartData\"\n              :colors=\"sbarchartData.colors\"\n              :width=\"`26.14vw`\"\n              :height=\"`28.06vh`\"\n              :category=\"sbarchartData.categories\"\n              ybgcolor=\"#01B7D730\"\n              :name=\"sbarchartData.seriesName\"\n              :rotate=\"0\"\n              @clickItem=\"handlePowerStatisticsByParams\"\n              barWidth=\"14\"\n              :dataZoomDisabled=\"false\"\n              :dataZoomMaxValueSpan=\"sbarchartData.categories.length\"\n              :dataZoomDefaultValueRange=\"[0, 4]\"\n            />\n          </div>\n        </div>\n      </template>\n    </SmallModule>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import SmallModule from '/@/components/Framework/OperationScreen/SmallModule.vue';\n  import { onMounted, ref } from 'vue';\n  import { getPowerStatistics } from './data';\n  import { addTabPage } from '@/utils/route';\n  import EchartLineBarChart from '/@/components/Framework/Chart/EchartLineBarChart.vue';\n\n  onMounted(() => {\n    queryPowerStatistics();\n  });\n\n  const sbarchartData = ref({\n    barData: [[], []],\n    lineData: [[]],\n    colors: [\n      ['#1890ff', '#18c8ff'],\n      ['#078C5D', '#68E4B8'],\n      ['#e59837', '#fae895'],\n      ['#e59837', '#fae895'],\n      ['#078C5D', '#68E4B8'],\n    ],\n    categories: [],\n    seriesName: [['上网电量', '实发电量'], ['系统效率']],\n  });\n\n  const queryPowerStatistics = async () => {\n    let data = await getPowerStatistics({});\n    if (data.result) {\n      if (data.result.lineData.length) {\n        sbarchartData.value.lineData[0] = data.result.lineData;\n      } else {\n        sbarchartData.value.lineData = [];\n      }\n      sbarchartData.value.barData = data.result.barData;\n      sbarchartData.value.categories = data.result.categories;\n    }\n  };\n\n  // 穿透方法\n  function handlePowerStatisticsByParams(params) {\n    let param = { stationId: params.data.id };\n    addTabPage('/bi/elec/powerContrast', '', param);\n  }\n</script>\n\n<style lang=\"less\" scoped>\n  .station-operation {\n    width: 100%;\n\n    .content-layout {\n      padding: 0 0.16rem;\n    }\n  }\n</style>\n"],"names":["onMounted","queryPowerStatistics","sbarchartData","ref","__async","data","getPowerStatistics","handlePowerStatisticsByParams","params","param","addTabPage"],"mappings":"kxBAmCEA,EAAU,IAAM,CACOC,GAAA,CACtB,EAED,MAAMC,EAAgBC,EAAI,CACxB,QAAS,CAAC,CAAC,EAAG,EAAE,EAChB,SAAU,CAAC,CAAA,CAAE,EACb,OAAQ,CACN,CAAC,UAAW,SAAS,EACrB,CAAC,UAAW,SAAS,EACrB,CAAC,UAAW,SAAS,EACrB,CAAC,UAAW,SAAS,EACrB,CAAC,UAAW,SAAS,CACvB,EACA,WAAY,CAAC,EACb,WAAY,CAAC,CAAC,OAAQ,MAAM,EAAG,CAAC,MAAM,CAAC,CAAA,CACxC,EAEKF,EAAuB,IAAYG,EAAA,sBACvC,IAAIC,EAAO,MAAMC,EAAmB,CAAA,CAAE,EAClCD,EAAK,SACHA,EAAK,OAAO,SAAS,OACvBH,EAAc,MAAM,SAAS,CAAC,EAAIG,EAAK,OAAO,SAEhCH,EAAA,MAAM,SAAW,GAEnBA,EAAA,MAAM,QAAUG,EAAK,OAAO,QAC5BH,EAAA,MAAM,WAAaG,EAAK,OAAO,WAC/C,GAIF,SAASE,EAA8BC,EAAQ,CAC7C,IAAIC,EAAQ,CAAE,UAAWD,EAAO,KAAK,EAAG,EAC7BE,EAAA,yBAA0B,GAAID,CAAK,CAChD"}