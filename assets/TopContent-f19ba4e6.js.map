{"version":3,"file":"TopContent-f19ba4e6.js","sources":["../../src/views/da/cockpit/security/TopContent.vue"],"sourcesContent":["<template>\n  <div class=\"top-content\" :key=\"instanceKey\">\n    <div class=\"data-board-box-inner\">\n      <DataBoardItem title=\"安全运行天数\" icon=\"runningDays\" :value=\"data.runningDays\" />\n      <DataBoardItem\n        title=\"安全检查(次)\"\n        icon=\"safeCheckCount\"\n        :value=\"data.safeCheckCount\"\n        :tRatio=\"data.safeCheckYoy != null ? data.safeCheckYoy + '%' : ''\"\n        :hRatio=\"data.safeCheckQoq != null ? data.safeCheckQoq + '%' : ''\"\n        percentPosition=\"right\"\n        @clickValue=\"forwardSafetyCheck\"\n      />\n      <DataBoardItem\n        title=\"安全隐患(个)\"\n        icon=\"hiddenCount\"\n        :value=\"data.hiddenCount\"\n        :tRatio=\"data.hiddenYoy != null ? data.hiddenYoy + '%' : ''\"\n        :hRatio=\"data.hiddenQoq != null ? data.hiddenQoq + '%' : ''\"\n        percentPosition=\"right\"\n        @clickValue=\"forwardHidden\"\n      />\n      <DataBoardItem\n        title=\"安全培训(次)\"\n        icon=\"trainingCount\"\n        :value=\"data.trainingCount\"\n        :tRatio=\"data.trainingYoy != null ? data.trainingYoy + '%' : ''\"\n        :hRatio=\"data.trainingQoq != null ? data.trainingQoq + '%' : ''\"\n        percentPosition=\"right\"\n        @clickValue=\"forwardTrainingStatistics\"\n      />\n      <DataBoardItem\n        title=\"安全责任书签订率(%)\"\n        icon=\"signRage\"\n        :value=\"data.signRage\"\n        @clickValue=\"forwardSafetyAgreement\"\n      />\n      <DataBoardItem\n        title=\"安全工器具(个)\"\n        icon=\"toolsCount\"\n        :value=\"data.toolsCount\"\n        @clickValue=\"forwardSafetyTools\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n  import { ref, defineProps } from 'vue';\n  import DataBoardItem from '/@/components/Framework/Chart/DataBoardItem.vue';\n  import * as SecurityApi from '@/api/da/cockpit/security';\n  import { handleRouteChange } from '../../utils';\n  import { buildUUID } from '@/utils/uuid';\n\n  const instanceKey = ref(buildUUID());\n  const props = defineProps({\n    data: { type: Object, default: {} },\n  });\n\n  // ==================================数据穿透 ======================================\n  //安全检查\n  const forwardSafetyCheck = () => {\n    handleRouteChange('/bi/safety/check', {\n      orgId: '',\n      stationId: '',\n      dateCycle: 'month',\n    });\n  };\n\n  // 隐患统计\n  const forwardHidden = () => {\n    handleRouteChange('/bi/hidden/index', {\n      stationOrganId: '',\n      stationId: '',\n      dateType: 'month',\n    });\n  };\n\n  //培训统计\n  const forwardTrainingStatistics = () => {\n    handleRouteChange('/bi/integrated/trainingStatistics', {\n      ognId: '',\n      stationId: '',\n      dateCycle: 'month',\n    });\n  };\n\n  //安全责任书统计\n  const forwardSafetyAgreement = () => {\n    handleRouteChange('/bi/safety/agreement', {\n      orgId: '',\n      stationId: '',\n      dateCycle: 'month',\n    });\n  };\n\n  //工器具统计\n  const forwardSafetyTools = () => {\n    handleRouteChange('/bi/safetytools/index', {\n      stationOrganId: '',\n      stationId: '',\n    });\n  };\n\n  // 更新组件函数\n  const handleUpdate = () => {\n    instanceKey.value = buildUUID();\n  };\n\n  defineExpose({\n    handleUpdate,\n  });\n</script>\n\n<style lang=\"less\" scoped>\n  .top-content {\n    flex: 11.32%;\n    height: 11.32%;\n\n    .data-board-box-inner {\n      display: flex;\n      justify-content: space-between;\n      height: 100%;\n\n      :deep(.data-board-item) {\n        width: 15.73vw;\n        height: 100%;\n        padding-left: 0.2rem;\n\n        .title-box {\n          .icon-box {\n            margin-right: 0.16rem;\n          }\n\n          .title-text {\n            margin-bottom: 0.05rem;\n          }\n        }\n\n        .percent-data-box {\n          margin-top: 0.05rem;\n        }\n      }\n    }\n  }\n</style>\n"],"names":["instanceKey","ref","buildUUID","forwardSafetyCheck","handleRouteChange","forwardHidden","forwardTrainingStatistics","forwardSafetyAgreement","forwardSafetyTools","__expose"],"mappings":"0XAsDQ,MAAAA,EAAcC,EAAIC,EAAA,CAAW,EAO7BC,EAAqB,IAAM,CAC/BC,EAAkB,mBAAoB,CACpC,MAAO,GACP,UAAW,GACX,UAAW,OAAA,CACZ,CAAA,EAIGC,EAAgB,IAAM,CAC1BD,EAAkB,mBAAoB,CACpC,eAAgB,GAChB,UAAW,GACX,SAAU,OAAA,CACX,CAAA,EAIGE,EAA4B,IAAM,CACtCF,EAAkB,oCAAqC,CACrD,MAAO,GACP,UAAW,GACX,UAAW,OAAA,CACZ,CAAA,EAIGG,EAAyB,IAAM,CACnCH,EAAkB,uBAAwB,CACxC,MAAO,GACP,UAAW,GACX,UAAW,OAAA,CACZ,CAAA,EAIGI,EAAqB,IAAM,CAC/BJ,EAAkB,wBAAyB,CACzC,eAAgB,GAChB,UAAW,EAAA,CACZ,CAAA,EAQU,OAAAK,EAAA,CACX,aALmB,IAAM,CACzBT,EAAY,MAAQE,GAAU,CAI9B,CACD"}