{"version":3,"file":"userProfile-3f986b5a.js","sources":["../../src/api/bpm/system/user/profile.ts","../../src/assets/images/default-avatar.png","../../src/views/system/rbac/org/userProfile.vue"],"sourcesContent":["import { defHttp } from '/@/utils/http/axios';\n\nexport interface ProfileDept {\n  id: number;\n  name: string;\n}\nexport interface ProfileRole {\n  id: number;\n  name: string;\n}\nexport interface ProfilePost {\n  id: number;\n  name: string;\n}\nexport interface SocialUser {\n  id: number;\n  type: number;\n  openid: string;\n  token: string;\n  rawTokenInfo: string;\n  nickname: string;\n  avatar: string;\n  rawUserInfo: string;\n  code: string;\n  state: string;\n}\nexport interface ProfileVO {\n  id: number;\n  username: string;\n  nickname: string;\n  dept: ProfileDept;\n  roles: ProfileRole[];\n  posts: ProfilePost[];\n  socialUsers: SocialUser[];\n  email: string;\n  mobile: string;\n  sex: number;\n  avatar: string;\n  status: number;\n  remark: string;\n  loginIp: string;\n  loginDate: Date;\n  createTime: Date;\n}\nexport interface UserProfileUpdateReqVO {\n  nickname: string;\n  email: string;\n  mobile: string;\n  sex: number;\n}\n\n// 表单API\nexport enum ProfileApi {\n  GetUserProfile = '/system/user/profile/get',\n  UpdateUserProfile = '/system/user/profile/update',\n  UpdateUserPassword = '/system/user/profile/update-password',\n  UploadAvatar = '/system/user/profile/update-avatar',\n  GetSimpleProfile = '/system/user/profile/getUserProfile',\n}\n\n// 查询用户个人信息\nexport const getUserProfile = () => {\n  const requestParams = { url: ProfileApi.GetUserProfile };\n  return defHttp.get<any>(requestParams, {});\n};\n\n// 修改用户个人信息\nexport const updateUserProfile = (data: UserProfileUpdateReqVO) => {\n  const requestParams = { url: ProfileApi.UpdateUserProfile, data };\n  return defHttp.put<any>(requestParams, {});\n};\n\n// 用户密码重置\nexport const updateUserPassword = (oldPassword: string, newPassword: string) => {\n  const data = { oldPassword: oldPassword, newPassword: newPassword };\n  const requestParams = { url: ProfileApi.UpdateUserPassword, data };\n  return defHttp.put<any>(requestParams, {});\n};\n\n// 用户头像上传\nexport const uploadAvatar = (data) => {\n  const requestParams = { url: ProfileApi.UploadAvatar, data };\n  return defHttp.put<any>(requestParams, {});\n};\n\n// 查询用户个人信息\nexport const getSimpleProfile = () => {\n  const requestParams = { url: ProfileApi.GetSimpleProfile };\n  return defHttp.get<any>(requestParams, {});\n};\n","export default \"__VITE_ASSET__44c76c42__\"","<template>\n  <div class=\"left\">\n    <div class=\"avatar\">\n      <div>\n        <img :src=\"data.url?data.url:defaultAvatar\" :width=\"200\" :height=\"280\" />\n      </div>\n      <a-upload\n        v-model:file-list=\"fileList\"\n        name=\"file\"\n        :headers=\"headers\"\n        @change=\"handleChangeFile\"\n        :before-upload=\"beforeUpload\"\n        :showUploadList=\"false\"\n      >\n        <a-button style=\"margin-top: 20px; margin-left: 40%\">\n          <UploadOutlined />\n          上传头像\n        </a-button>\n      </a-upload>\n    </div>\n  </div>\n  <div class=\"right\">\n    <a-tabs v-model:activeKey=\"activeKey\">\n      <a-tab-pane key=\"profile\" tab=\"个人信息简介\">\n        <a-form\n          :model=\"data\"\n          name=\"basic\"\n          ref=\"formRef\"\n          :label-col=\"{ span: 4 }\"\n          :wrapper-col=\"{ span: 18 }\"\n          autocomplete=\"off\"\n        >\n          <a-col :span=\"20\">\n            <a-form-item\n              label=\"姓名\"\n              name=\"name\"\n              :labelCol=\"{ span: 4 }\"\n              :wrapperCol=\"5\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input v-model:value=\"data.name\" disabled />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"20\">\n            <a-form-item\n              label=\"登录账号\"\n              name=\"loginName\"\n              :labelCol=\"{ span: 4 }\"\n              :wrapperCol=\"7\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input v-model:value=\"data.loginName\" disabled />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"20\">\n            <a-form-item\n              label=\"出生日期\"\n              name=\"birthday\"\n              :labelCol=\"{ span: 4 }\"\n              :wrapperCol=\"7\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-date-picker v-model:value=\"data.birthday\" style=\"width: 100%\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"20\">\n            <a-form-item\n              label=\"工作日期\"\n              name=\"joinDate\"\n              :labelCol=\"{ span: 4 }\"\n              :wrapperCol=\"7\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-date-picker v-model:value=\"data.joinDate\" style=\"width: 100%\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"20\">\n            <a-form-item\n              label=\"学历\"\n              name=\"degree\"\n              :labelCol=\"{ span: 4 }\"\n              :wrapperCol=\"7\"\n              :rules=\"[{ required: false }]\"\n            >\n              <DictSelectBox\n                :type=\"`degree`\"\n                v-model:value=\"data.degree\"\n                :style=\"{ width: '100%' }\"\n              />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"20\">\n            <a-form-item\n              label=\"毕业院校\"\n              name=\"graduateSchool\"\n              :labelCol=\"{ span: 4 }\"\n              :wrapperCol=\"7\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input v-model:value=\"data.graduateSchool\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"20\">\n            <a-form-item\n              label=\"专业\"\n              name=\"speciality\"\n              :labelCol=\"{ span: 4 }\"\n              :wrapperCol=\"7\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input v-model:value=\"data.speciality\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"20\">\n            <a-form-item\n              label=\"工作电话\"\n              name=\"officePhone\"\n              :labelCol=\"{ span: 4 }\"\n              :wrapperCol=\"7\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input v-model:value=\"data.officePhone\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"20\">\n            <a-form-item\n              label=\"手机\"\n              name=\"mobile\"\n              :labelCol=\"{ span: 4 }\"\n              :wrapperCol=\"7\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input v-model:value=\"data.mobile\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"20\">\n            <a-form-item\n              label=\"邮箱\"\n              name=\"email\"\n              :labelCol=\"{ span: 4 }\"\n              :wrapperCol=\"7\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input v-model:value=\"data.email\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"20\">\n            <a-form-item\n              label=\"QQ\"\n              name=\"qq\"\n              :labelCol=\"{ span: 4 }\"\n              :wrapperCol=\"7\"\n              :rules=\"[{ required: false }]\"\n            >\n              <a-input v-model:value=\"data.qq\" />\n            </a-form-item>\n          </a-col>\n\n          <a-button class=\"btn\" type=\"primary\" html-type=\"submit\" @click=\"saveUserProfile\"\n            >保存</a-button\n          >\n        </a-form>\n      </a-tab-pane>\n      <a-tab-pane key=\"passw\" tab=\"修改密码\">\n        <div class=\"passwdLeft\">\n          <a-form\n            :model=\"passwd\"\n            name=\"basicPasswd\"\n            ref=\"formRefpasswd\"\n            :label-col=\"{ span: 4 }\"\n            :wrapper-col=\"{ span: 20 }\"\n            autocomplete=\"off\"\n          >\n            <a-col :span=\"24\">\n              <a-form-item\n                label=\"原密码\"\n                name=\"oldPassword\"\n                :labelCol=\"{ span: 6 }\"\n                :wrapperCol=\"7\"\n                :rules=\"[{ required: true, message: '原密码不能为空' }]\"\n              >\n                <a-input-password v-model:value=\"passwd.oldPassword\" />\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"24\">\n              <a-form-item\n                label=\"新密码\"\n                name=\"newPassword\"\n                :labelCol=\"{ span: 6 }\"\n                :wrapperCol=\"7\"\n                :rules=\"[\n                  {\n                    required: true,\n                    message: '新密码不能为空',\n                    validator: validateNewPasswd,\n                    length: [6, 10],\n                    trigger: 'change',\n                  },\n                ]\"\n              >\n                <a-input-password v-model:value=\"passwd.newPassword\" @change=\"changePasswd\" />\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"24\">\n              <a-form-item\n                label=\"确认密码\"\n                name=\"confirmPassword\"\n                :labelCol=\"{ span: 6 }\"\n                :wrapperCol=\"7\"\n                :rules=\"[\n                  {\n                    required: true,\n                    message: '确认密码不能为空',\n                    validator: validateSamePasswd,\n                    length: [6, 10],\n                    trigger: 'change',\n                  },\n                ]\"\n              >\n                <a-input-password v-model:value=\"passwd.confirmPassword\" @change=\"changePasswd\" />\n              </a-form-item>\n            </a-col>\n            <a-row>\n              <div class=\"grade\">\n                <span :class=\"matchNum == 1 ? 'low' : ''\">弱</span>\n                <span :class=\"matchNum == 2 ? 'mid' : ''\">中</span>\n                <span :class=\"matchNum == 3 ? 'hig' : ''\">高</span>\n              </div>\n            </a-row>\n            <a-button class=\"btnpass\" type=\"primary\" html-type=\"submit\" @click=\"savePasswd\"\n              >保存</a-button\n            >\n          </a-form>\n        </div>\n        <div class=\"passwdRight\">\n          <div style=\"text-indent: 20px\"\n            >1.\n            为了充分确保您个人密码在系统中的安全使用，请您设置一个高强度、不易猜测的密码作为您的密码.</div\n          >\n          <div style=\"text-indent: 20px\"\n            >2.\n            简单密码具有较为明显的规律性和客户信息的针对性，极易被他人猜测、被黑客破解，因此，请避免使用简单密码</div\n          >\n          <div style=\"text-indent: 20px\"\n            >3.\n            密码要求由6-10位数字，大写字母，小写字母和特珠符号组成,分为弱，中，强一种强度，密码若只有数字或只有字母或只有特珠符号组成，\n            强度为弱，密码若由数字和字母组成、或数字和特殊符号组成、或字母与持殊符号组成为中等强度，密码若由数字、字母、特殊符号共同组成，强度为强。系统推荐使用者采用\"高强度密码”设置</div\n          >\n          <div style=\"text-indent: 20px\"\n            >4.\n            请保护好您的用户名和登录密码，不要随意透露给任何人。若有任何怀疑，请立即联系系统管理人员。</div\n          >\n        </div>\n      </a-tab-pane>\n    </a-tabs>\n  </div>\n</template>\n<script lang=\"ts\" setup>\n  import { reactive, ref, onMounted, toRaw } from 'vue';\n  import type { Rule } from 'ant-design-vue/es/form';\n  import { UploadOutlined } from '@ant-design/icons-vue';\n  import DictSelectBox from '@/components/Framework/Combox/DictSelectBox.vue';\n  import type { UploadProps } from 'ant-design-vue';\n  import {\n    getSimpleProfile,\n    updateUserProfile,\n    updateUserPassword,\n  } from '@/api/bpm/system/user/profile.ts';\n  import { MsgManager } from '/@/message/MsgManager';\n  import * as FileApi from '@/api/infra/file';\n  import { SysMessage } from '/@/hooks/web/useMessage';\n  import dayjs from 'dayjs';\n  import { useUserStore } from '/@/store/modules/user';\n  import { getDownloadURL } from '/@/utils/upload.ts';\n  import defaultAvatar from '/@/assets/images/default-avatar.png';\n  import { md5 } from '/@/utils/encryption/crypto';\n\n  let activeKey = ref();\n  let formRef = ref();\n  let formRefpasswd = ref();\n  const data: any = reactive({});\n  const passwd: any = reactive({});\n  const matchNum = ref(0);\n\n  const fileList = ref([]);\n  const headers = {\n    authorization: 'authorization-text',\n  };\n\n  const saveUserProfile = () => {\n    if (data.birthday) {\n      data.birthday = dayjs(data.birthday).format('YYYY-MM-DD');\n    }\n    if (data.joinDate) {\n      data.joinDate = dayjs(data.joinDate).format('YYYY-MM-DD');\n    }\n    updateUserProfile(data).then((resp) => {\n      if (resp.result) {\n        SysMessage.getInstance().info('保存成功');\n      }\n    });\n  };\n\n  const handleChangeFile = (e) => {\n    const formData = new FormData();\n    formData.append('application', 'system'); //附件上传必须携带参数：应用\n    formData.append('module', 'org'); //附件上传必须携带参数：模块\n    formData.append('bizId', data.id); //附件上传必须携带参数：业务ID\n    formData.append('fileKindId', '');\n    // formData.append('fileKindId', props.fileKindId); //文件配置类型编码(表格配置附件必须携带)\n    let file = fileList.value[0] as any;\n    if (!file.id) {\n      // 未上传前file.id为空\n      formData.append('files[]', file.originFileObj as any);\n    }\n    if (file.percent == 100) {\n      if (data.avatarId) {\n        FileApi.deleteFile(data.avatarId).then((rsp) => {\n          if (rsp) {\n            FileApi.uploadFile(formData).then((rsp) => {\n              viewVata();\n            });\n          }\n        });\n      } else {\n        FileApi.uploadFile(formData).then((rsp) => {\n          viewVata();\n        });\n      }\n    }\n  };\n\n  const validateSamePasswd = (_rule: Rule, value: string) => {\n    if (value != passwd.newPassword) {\n      _rule.message = '和新密码不一致';\n      return Promise.reject();\n    }\n    return Promise.resolve();\n  };\n\n  const validateNewPasswd = (_rule: Rule, value: string) => {\n    matchNum.value = 0;\n    if (!value) {\n      return Promise.resolve();\n    }\n    const regA: any = /[A-Za-z]+/;\n    if (regA.test(value)) {\n      _rule.message = '须包含字母';\n      matchNum.value += 1;\n    }\n    const regn: any = /[0-9]+/;\n    if (regn.test(value)) {\n      _rule.message = '须包含数字';\n      matchNum.value += 1;\n    }\n    const regX: any = /[\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\_\\+\\{\\}\\[\\]\\|\\\"\\'\\:\\<\\>\\?]+/;\n    if (regX.test(value)) {\n      _rule.message = '须包含特殊符号';\n      matchNum.value += 1;\n    }\n    if (value.length < 6 || value.length > 10) {\n      _rule.message = '密码长度6-10位';\n      return Promise.reject();\n    }\n\n    return Promise.resolve();\n  };\n\n  const changePasswd = () => {\n    if (!passwd.confirmPassword) {\n      return;\n    }\n    if (!passwd.newPassword) {\n      return;\n    }\n  };\n\n  const savePasswd = () => {\n    let form = formRefpasswd.value;\n    form.validateFields().then(async () => {\n      if (passwd.newPassword !== passwd.confirmPassword) {\n        SysMessage.getInstance().error('新密码和确认密码不一致。');\n        return;\n      }\n      // 设置密码 MD5加密\n      updateUserPassword(md5(passwd.oldPassword), md5(passwd.newPassword)).then((rsp) => {\n        if (rsp.result) {\n          SysMessage.getInstance().info('保存成功。');\n          const userStore = useUserStore();\n          userStore.logout(true);\n        }\n      });\n    });\n  };\n\n  const viewVata = () => {\n    FileApi.getFiles({ bizId: data.id }).then((resp) => {\n      const userStore = useUserStore();\n      data.avatarId = resp[0].id;\n      const info = toRaw(userStore.getUserInfo);\n      data.url = info.avatar = getDownloadURL(resp[0].url);\n      userStore.setUserInfo(info);\n      MsgManager.getInstance().sendMsg('avatar-update-message', { path: info.avatar });\n      return info?.avatar;\n    });\n  };\n  const beforeUpload: UploadProps['beforeUpload'] = (file) => {\n    // 检查上传的文件大小是否超限\n    if (file.size > 2 * 1024 * 1024) {\n      SysMessage.getInstance().warning(`文件大小超过最大限度2MB`);\n      return false;\n    }\n    // 上传文件不能为空\n    if (file.size === 0) {\n      SysMessage.getInstance().warning('不能上传空文件或目录，请重新选择');\n      return false;\n    }\n\n    // 控制上传文件的类型 arr是上传类型的白名单\n    const type = file.name.slice(file.name.lastIndexOf('.') + 1).toLowerCase();\n    const arr = `png,jpeg,gif,jpg`;\n    if (arr.indexOf(type) == -1) {\n      SysMessage.getInstance().warning(`不支持${type}类型的文件上传`);\n      return false;\n    }\n    fileList.value = [file];\n    return true;\n  };\n\n  onMounted(() => {\n    getSimpleProfile()\n      .then((rsp) => {\n        Object.assign(data, rsp.result);\n        if (rsp.result.birthday) {\n          data.birthday = dayjs(rsp.result.birthday);\n        }\n        if (rsp.result.joinDate) {\n          data.joinDate = dayjs(rsp.result.joinDate);\n        }\n      })\n      .then(() => {\n        viewVata();\n      });\n  });\n</script>\n\n<style lang=\"less\" scoped>\n  .left,\n  .right {\n    width: 49%;\n  }\n\n  .left {\n    float: left;\n  }\n\n  .avatar {\n    margin-top: 25%;\n    margin-left: 45%;\n  }\n\n  .right {\n    float: right;\n  }\n\n  .btn {\n    margin-left: 43%;\n  }\n\n  .btnpass {\n    margin-left: 40%;\n  }\n\n  .passwdLeft {\n    width: 40%;\n    float: left;\n  }\n\n  .passwdRight {\n    width: 40%;\n    margin-left: 30px;\n    float: left;\n  }\n\n  .grade {\n    margin: 0 auto 20px;\n\n    .low {\n      background-color: red;\n    }\n\n    .mid {\n      background-color: yellow;\n    }\n\n    .hig {\n      background-color: green;\n    }\n  }\n\n  .grade span {\n    display: inline-block;\n    width: 50px;\n    height: 30px;\n    margin-right: 10px;\n    border: 1px solid #ccc;\n    font-size: 18px;\n    line-height: 30px;\n    text-align: center;\n  }\n</style>\n"],"names":["updateUserProfile","data","requestParams","defHttp","updateUserPassword","oldPassword","newPassword","getSimpleProfile","defaultAvatar","activeKey","ref","formRef","formRefpasswd","reactive","passwd","matchNum","fileList","headers","saveUserProfile","dayjs","resp","SysMessage","handleChangeFile","e","formData","file","FileApi.deleteFile","rsp","FileApi.uploadFile","viewVata","validateSamePasswd","_rule","value","validateNewPasswd","changePasswd","savePasswd","__async","md5","useUserStore","FileApi.getFiles","userStore","info","toRaw","getDownloadURL","MsgManager","beforeUpload","type","onMounted"],"mappings":"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"}